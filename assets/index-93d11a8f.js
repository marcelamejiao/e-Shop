function mE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function gE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ey={exports:{}},Ul={},ty={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Po=Symbol.for("react.element"),yE=Symbol.for("react.portal"),vE=Symbol.for("react.fragment"),_E=Symbol.for("react.strict_mode"),EE=Symbol.for("react.profiler"),wE=Symbol.for("react.provider"),TE=Symbol.for("react.context"),IE=Symbol.for("react.forward_ref"),SE=Symbol.for("react.suspense"),CE=Symbol.for("react.memo"),AE=Symbol.for("react.lazy"),wp=Symbol.iterator;function RE(e){return e===null||typeof e!="object"?null:(e=wp&&e[wp]||e["@@iterator"],typeof e=="function"?e:null)}var ny={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ry=Object.assign,iy={};function Hi(e,t,n){this.props=e,this.context=t,this.refs=iy,this.updater=n||ny}Hi.prototype.isReactComponent={};Hi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sy(){}sy.prototype=Hi.prototype;function df(e,t,n){this.props=e,this.context=t,this.refs=iy,this.updater=n||ny}var pf=df.prototype=new sy;pf.constructor=df;ry(pf,Hi.prototype);pf.isPureReactComponent=!0;var Tp=Array.isArray,oy=Object.prototype.hasOwnProperty,mf={current:null},ay={key:!0,ref:!0,__self:!0,__source:!0};function ly(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)oy.call(t,r)&&!ay.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Po,type:e,key:s,ref:o,props:i,_owner:mf.current}}function PE(e,t){return{$$typeof:Po,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Po}function kE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ip=/\/+/g;function $u(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kE(""+e.key):t.toString(36)}function Sa(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Po:case yE:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+$u(o,0):r,Tp(i)?(n="",e!=null&&(n=e.replace(Ip,"$&/")+"/"),Sa(i,t,n,"",function(u){return u})):i!=null&&(gf(i)&&(i=PE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ip,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Tp(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+$u(s,a);o+=Sa(s,t,n,l,i)}else if(l=RE(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+$u(s,a++),o+=Sa(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Yo(e,t,n){if(e==null)return e;var r=[],i=0;return Sa(e,r,"","",function(s){return t.call(n,s,i++)}),r}function xE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vt={current:null},Ca={transition:null},VE={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:Ca,ReactCurrentOwner:mf};ne.Children={map:Yo,forEach:function(e,t,n){Yo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yo(e,function(){t++}),t},toArray:function(e){return Yo(e,function(t){return t})||[]},only:function(e){if(!gf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=Hi;ne.Fragment=vE;ne.Profiler=EE;ne.PureComponent=df;ne.StrictMode=_E;ne.Suspense=SE;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VE;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ry({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=mf.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)oy.call(t,l)&&!ay.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Po,type:e.type,key:i,ref:s,props:r,_owner:o}};ne.createContext=function(e){return e={$$typeof:TE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wE,_context:e},e.Consumer=e};ne.createElement=ly;ne.createFactory=function(e){var t=ly.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:IE,render:e}};ne.isValidElement=gf;ne.lazy=function(e){return{$$typeof:AE,_payload:{_status:-1,_result:e},_init:xE}};ne.memo=function(e,t){return{$$typeof:CE,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Ca.transition;Ca.transition={};try{e()}finally{Ca.transition=t}};ne.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ne.useCallback=function(e,t){return vt.current.useCallback(e,t)};ne.useContext=function(e){return vt.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return vt.current.useDeferredValue(e)};ne.useEffect=function(e,t){return vt.current.useEffect(e,t)};ne.useId=function(){return vt.current.useId()};ne.useImperativeHandle=function(e,t,n){return vt.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return vt.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return vt.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return vt.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return vt.current.useReducer(e,t,n)};ne.useRef=function(e){return vt.current.useRef(e)};ne.useState=function(e){return vt.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return vt.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return vt.current.useTransition()};ne.version="18.2.0";ty.exports=ne;var S=ty.exports;const re=gE(S),NE=mE({__proto__:null,default:re},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE=S,LE=Symbol.for("react.element"),OE=Symbol.for("react.fragment"),ME=Object.prototype.hasOwnProperty,FE=DE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$E={key:!0,ref:!0,__self:!0,__source:!0};function uy(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ME.call(t,r)&&!$E.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:LE,type:e,key:s,ref:o,props:i,_owner:FE.current}}Ul.Fragment=OE;Ul.jsx=uy;Ul.jsxs=uy;ey.exports=Ul;var k=ey.exports,jc={},cy={exports:{}},Nt={},hy={exports:{}},fy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,b){var Y=N.length;N.push(b);e:for(;0<Y;){var _e=Y-1>>>1,Ve=N[_e];if(0<i(Ve,b))N[_e]=b,N[Y]=Ve,Y=_e;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var b=N[0],Y=N.pop();if(Y!==b){N[0]=Y;e:for(var _e=0,Ve=N.length,Kr=Ve>>>1;_e<Kr;){var tn=2*(_e+1)-1,is=N[tn],Ht=tn+1,mr=N[Ht];if(0>i(is,Y))Ht<Ve&&0>i(mr,is)?(N[_e]=mr,N[Ht]=Y,_e=Ht):(N[_e]=is,N[tn]=Y,_e=tn);else if(Ht<Ve&&0>i(mr,Y))N[_e]=mr,N[Ht]=Y,_e=Ht;else break e}}return b}function i(N,b){var Y=N.sortIndex-b.sortIndex;return Y!==0?Y:N.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,m=!1,v=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(N){for(var b=n(u);b!==null;){if(b.callback===null)r(u);else if(b.startTime<=N)r(u),b.sortIndex=b.expirationTime,t(l,b);else break;b=n(u)}}function w(N){if(_=!1,g(N),!v)if(n(l)!==null)v=!0,le(I);else{var b=n(u);b!==null&&ve(w,b.startTime-N)}}function I(N,b){v=!1,_&&(_=!1,p(L),L=-1),m=!0;var Y=f;try{for(g(b),h=n(l);h!==null&&(!(h.expirationTime>b)||N&&!ue());){var _e=h.callback;if(typeof _e=="function"){h.callback=null,f=h.priorityLevel;var Ve=_e(h.expirationTime<=b);b=e.unstable_now(),typeof Ve=="function"?h.callback=Ve:h===n(l)&&r(l),g(b)}else r(l);h=n(l)}if(h!==null)var Kr=!0;else{var tn=n(u);tn!==null&&ve(w,tn.startTime-b),Kr=!1}return Kr}finally{h=null,f=Y,m=!1}}var V=!1,D=null,L=-1,J=5,z=-1;function ue(){return!(e.unstable_now()-z<J)}function K(){if(D!==null){var N=e.unstable_now();z=N;var b=!0;try{b=D(!0,N)}finally{b?W():(V=!1,D=null)}}else V=!1}var W;if(typeof d=="function")W=function(){d(K)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ye=ee.port2;ee.port1.onmessage=K,W=function(){ye.postMessage(null)}}else W=function(){E(K,0)};function le(N){D=N,V||(V=!0,W())}function ve(N,b){L=E(function(){N(e.unstable_now())},b)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,le(I))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(N){switch(f){case 1:case 2:case 3:var b=3;break;default:b=f}var Y=f;f=b;try{return N()}finally{f=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,b){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var Y=f;f=N;try{return b()}finally{f=Y}},e.unstable_scheduleCallback=function(N,b,Y){var _e=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?_e+Y:_e):Y=_e,N){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=Y+Ve,N={id:c++,callback:b,priorityLevel:N,startTime:Y,expirationTime:Ve,sortIndex:-1},Y>_e?(N.sortIndex=Y,t(u,N),n(l)===null&&N===n(u)&&(_?(p(L),L=-1):_=!0,ve(w,Y-_e))):(N.sortIndex=Ve,t(l,N),v||m||(v=!0,le(I))),N},e.unstable_shouldYield=ue,e.unstable_wrapCallback=function(N){var b=f;return function(){var Y=f;f=b;try{return N.apply(this,arguments)}finally{f=Y}}}})(fy);hy.exports=fy;var UE=hy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy=S,xt=UE;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var py=new Set,Ws={};function Br(e,t){Ri(e,t),Ri(e+"Capture",t)}function Ri(e,t){for(Ws[e]=t,e=0;e<t.length;e++)py.add(t[e])}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bc=Object.prototype.hasOwnProperty,jE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sp={},Cp={};function BE(e){return Bc.call(Cp,e)?!0:Bc.call(Sp,e)?!1:jE.test(e)?Cp[e]=!0:(Sp[e]=!0,!1)}function zE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bE(e,t,n,r){if(t===null||typeof t>"u"||zE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _t(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tt[e]=new _t(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tt[t]=new _t(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tt[e]=new _t(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tt[e]=new _t(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tt[e]=new _t(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tt[e]=new _t(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tt[e]=new _t(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tt[e]=new _t(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tt[e]=new _t(e,5,!1,e.toLowerCase(),null,!1,!1)});var yf=/[\-:]([a-z])/g;function vf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yf,vf);tt[t]=new _t(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yf,vf);tt[t]=new _t(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yf,vf);tt[t]=new _t(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tt[e]=new _t(e,1,!1,e.toLowerCase(),null,!1,!1)});tt.xlinkHref=new _t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tt[e]=new _t(e,1,!1,e.toLowerCase(),null,!0,!0)});function _f(e,t,n,r){var i=tt.hasOwnProperty(t)?tt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bE(t,n,i,r)&&(n=null),r||i===null?BE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ln=dy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xo=Symbol.for("react.element"),ri=Symbol.for("react.portal"),ii=Symbol.for("react.fragment"),Ef=Symbol.for("react.strict_mode"),zc=Symbol.for("react.profiler"),my=Symbol.for("react.provider"),gy=Symbol.for("react.context"),wf=Symbol.for("react.forward_ref"),bc=Symbol.for("react.suspense"),Hc=Symbol.for("react.suspense_list"),Tf=Symbol.for("react.memo"),Fn=Symbol.for("react.lazy"),yy=Symbol.for("react.offscreen"),Ap=Symbol.iterator;function ss(e){return e===null||typeof e!="object"?null:(e=Ap&&e[Ap]||e["@@iterator"],typeof e=="function"?e:null)}var Ae=Object.assign,Uu;function vs(e){if(Uu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Uu=t&&t[1]||""}return`
`+Uu+e}var ju=!1;function Bu(e,t){if(!e||ju)return"";ju=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{ju=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vs(e):""}function HE(e){switch(e.tag){case 5:return vs(e.type);case 16:return vs("Lazy");case 13:return vs("Suspense");case 19:return vs("SuspenseList");case 0:case 2:case 15:return e=Bu(e.type,!1),e;case 11:return e=Bu(e.type.render,!1),e;case 1:return e=Bu(e.type,!0),e;default:return""}}function qc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ii:return"Fragment";case ri:return"Portal";case zc:return"Profiler";case Ef:return"StrictMode";case bc:return"Suspense";case Hc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gy:return(e.displayName||"Context")+".Consumer";case my:return(e._context.displayName||"Context")+".Provider";case wf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tf:return t=e.displayName||null,t!==null?t:qc(e.type)||"Memo";case Fn:t=e._payload,e=e._init;try{return qc(e(t))}catch{}}return null}function qE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qc(t);case 8:return t===Ef?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function WE(e){var t=vy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jo(e){e._valueTracker||(e._valueTracker=WE(e))}function _y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function za(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wc(e,t){var n=t.checked;return Ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Rp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=sr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ey(e,t){t=t.checked,t!=null&&_f(e,"checked",t,!1)}function Kc(e,t){Ey(e,t);var n=sr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qc(e,t.type,sr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qc(e,t,n){(t!=="number"||za(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _s=Array.isArray;function yi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+sr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Gc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return Ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(_s(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:sr(n)}}function wy(e,t){var n=sr(t.value),r=sr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ty(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ty(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zo,Iy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zo=Zo||document.createElement("div"),Zo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ks(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KE=["Webkit","ms","Moz","O"];Object.keys(ks).forEach(function(e){KE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ks[t]=ks[e]})});function Sy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ks.hasOwnProperty(e)&&ks[e]?(""+t).trim():t+"px"}function Cy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Sy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var QE=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xc(e,t){if(t){if(QE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Jc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zc=null;function If(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var eh=null,vi=null,_i=null;function Vp(e){if(e=Vo(e)){if(typeof eh!="function")throw Error(P(280));var t=e.stateNode;t&&(t=Hl(t),eh(e.stateNode,e.type,t))}}function Ay(e){vi?_i?_i.push(e):_i=[e]:vi=e}function Ry(){if(vi){var e=vi,t=_i;if(_i=vi=null,Vp(e),t)for(e=0;e<t.length;e++)Vp(t[e])}}function Py(e,t){return e(t)}function ky(){}var zu=!1;function xy(e,t,n){if(zu)return e(t,n);zu=!0;try{return Py(e,t,n)}finally{zu=!1,(vi!==null||_i!==null)&&(ky(),Ry())}}function Qs(e,t){var n=e.stateNode;if(n===null)return null;var r=Hl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var th=!1;if(Rn)try{var os={};Object.defineProperty(os,"passive",{get:function(){th=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{th=!1}function GE(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var xs=!1,ba=null,Ha=!1,nh=null,YE={onError:function(e){xs=!0,ba=e}};function XE(e,t,n,r,i,s,o,a,l){xs=!1,ba=null,GE.apply(YE,arguments)}function JE(e,t,n,r,i,s,o,a,l){if(XE.apply(this,arguments),xs){if(xs){var u=ba;xs=!1,ba=null}else throw Error(P(198));Ha||(Ha=!0,nh=u)}}function zr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Vy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Np(e){if(zr(e)!==e)throw Error(P(188))}function ZE(e){var t=e.alternate;if(!t){if(t=zr(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Np(i),e;if(s===r)return Np(i),t;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Ny(e){return e=ZE(e),e!==null?Dy(e):null}function Dy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dy(e);if(t!==null)return t;e=e.sibling}return null}var Ly=xt.unstable_scheduleCallback,Dp=xt.unstable_cancelCallback,ew=xt.unstable_shouldYield,tw=xt.unstable_requestPaint,De=xt.unstable_now,nw=xt.unstable_getCurrentPriorityLevel,Sf=xt.unstable_ImmediatePriority,Oy=xt.unstable_UserBlockingPriority,qa=xt.unstable_NormalPriority,rw=xt.unstable_LowPriority,My=xt.unstable_IdlePriority,jl=null,cn=null;function iw(e){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(jl,e,void 0,(e.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:aw,sw=Math.log,ow=Math.LN2;function aw(e){return e>>>=0,e===0?32:31-(sw(e)/ow|0)|0}var ea=64,ta=4194304;function Es(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Es(a):(s&=o,s!==0&&(r=Es(s)))}else o=n&~i,o!==0?r=Es(o):s!==0&&(r=Es(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Xt(t),i=1<<n,r|=e[n],t&=~i;return r}function lw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Xt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=lw(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function rh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fy(){var e=ea;return ea<<=1,!(ea&4194240)&&(ea=64),e}function bu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ko(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xt(t),e[t]=n}function cw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Xt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Cf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Xt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ce=0;function $y(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Uy,Af,jy,By,zy,ih=!1,na=[],Kn=null,Qn=null,Gn=null,Gs=new Map,Ys=new Map,Un=[],hw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lp(e,t){switch(e){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":Gs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(t.pointerId)}}function as(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Vo(t),t!==null&&Af(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function fw(e,t,n,r,i){switch(t){case"focusin":return Kn=as(Kn,e,t,n,r,i),!0;case"dragenter":return Qn=as(Qn,e,t,n,r,i),!0;case"mouseover":return Gn=as(Gn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Gs.set(s,as(Gs.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ys.set(s,as(Ys.get(s)||null,e,t,n,r,i)),!0}return!1}function by(e){var t=Er(e.target);if(t!==null){var n=zr(t);if(n!==null){if(t=n.tag,t===13){if(t=Vy(n),t!==null){e.blockedOn=t,zy(e.priority,function(){jy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Aa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Zc=r,n.target.dispatchEvent(r),Zc=null}else return t=Vo(n),t!==null&&Af(t),e.blockedOn=n,!1;t.shift()}return!0}function Op(e,t,n){Aa(e)&&n.delete(t)}function dw(){ih=!1,Kn!==null&&Aa(Kn)&&(Kn=null),Qn!==null&&Aa(Qn)&&(Qn=null),Gn!==null&&Aa(Gn)&&(Gn=null),Gs.forEach(Op),Ys.forEach(Op)}function ls(e,t){e.blockedOn===t&&(e.blockedOn=null,ih||(ih=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,dw)))}function Xs(e){function t(i){return ls(i,e)}if(0<na.length){ls(na[0],e);for(var n=1;n<na.length;n++){var r=na[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Kn!==null&&ls(Kn,e),Qn!==null&&ls(Qn,e),Gn!==null&&ls(Gn,e),Gs.forEach(t),Ys.forEach(t),n=0;n<Un.length;n++)r=Un[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Un.length&&(n=Un[0],n.blockedOn===null);)by(n),n.blockedOn===null&&Un.shift()}var Ei=Ln.ReactCurrentBatchConfig,Ka=!0;function pw(e,t,n,r){var i=ce,s=Ei.transition;Ei.transition=null;try{ce=1,Rf(e,t,n,r)}finally{ce=i,Ei.transition=s}}function mw(e,t,n,r){var i=ce,s=Ei.transition;Ei.transition=null;try{ce=4,Rf(e,t,n,r)}finally{ce=i,Ei.transition=s}}function Rf(e,t,n,r){if(Ka){var i=sh(e,t,n,r);if(i===null)Zu(e,t,r,Qa,n),Lp(e,r);else if(fw(i,e,t,n,r))r.stopPropagation();else if(Lp(e,r),t&4&&-1<hw.indexOf(e)){for(;i!==null;){var s=Vo(i);if(s!==null&&Uy(s),s=sh(e,t,n,r),s===null&&Zu(e,t,r,Qa,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Zu(e,t,r,null,n)}}var Qa=null;function sh(e,t,n,r){if(Qa=null,e=If(r),e=Er(e),e!==null)if(t=zr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Vy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qa=e,null}function Hy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nw()){case Sf:return 1;case Oy:return 4;case qa:case rw:return 16;case My:return 536870912;default:return 16}default:return 16}}var Bn=null,Pf=null,Ra=null;function qy(){if(Ra)return Ra;var e,t=Pf,n=t.length,r,i="value"in Bn?Bn.value:Bn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ra=i.slice(e,1<r?1-r:void 0)}function Pa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ra(){return!0}function Mp(){return!1}function Dt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ra:Mp,this.isPropagationStopped=Mp,this}return Ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ra)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ra)},persist:function(){},isPersistent:ra}),t}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kf=Dt(qi),xo=Ae({},qi,{view:0,detail:0}),gw=Dt(xo),Hu,qu,us,Bl=Ae({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==us&&(us&&e.type==="mousemove"?(Hu=e.screenX-us.screenX,qu=e.screenY-us.screenY):qu=Hu=0,us=e),Hu)},movementY:function(e){return"movementY"in e?e.movementY:qu}}),Fp=Dt(Bl),yw=Ae({},Bl,{dataTransfer:0}),vw=Dt(yw),_w=Ae({},xo,{relatedTarget:0}),Wu=Dt(_w),Ew=Ae({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),ww=Dt(Ew),Tw=Ae({},qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Iw=Dt(Tw),Sw=Ae({},qi,{data:0}),$p=Dt(Sw),Cw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Aw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rw[e])?!!t[e]:!1}function xf(){return Pw}var kw=Ae({},xo,{key:function(e){if(e.key){var t=Cw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Aw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xf,charCode:function(e){return e.type==="keypress"?Pa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xw=Dt(kw),Vw=Ae({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Up=Dt(Vw),Nw=Ae({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xf}),Dw=Dt(Nw),Lw=Ae({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ow=Dt(Lw),Mw=Ae({},Bl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fw=Dt(Mw),$w=[9,13,27,32],Vf=Rn&&"CompositionEvent"in window,Vs=null;Rn&&"documentMode"in document&&(Vs=document.documentMode);var Uw=Rn&&"TextEvent"in window&&!Vs,Wy=Rn&&(!Vf||Vs&&8<Vs&&11>=Vs),jp=String.fromCharCode(32),Bp=!1;function Ky(e,t){switch(e){case"keyup":return $w.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var si=!1;function jw(e,t){switch(e){case"compositionend":return Qy(t);case"keypress":return t.which!==32?null:(Bp=!0,jp);case"textInput":return e=t.data,e===jp&&Bp?null:e;default:return null}}function Bw(e,t){if(si)return e==="compositionend"||!Vf&&Ky(e,t)?(e=qy(),Ra=Pf=Bn=null,si=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wy&&t.locale!=="ko"?null:t.data;default:return null}}var zw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zw[e.type]:t==="textarea"}function Gy(e,t,n,r){Ay(r),t=Ga(t,"onChange"),0<t.length&&(n=new kf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ns=null,Js=null;function bw(e){ov(e,0)}function zl(e){var t=li(e);if(_y(t))return e}function Hw(e,t){if(e==="change")return t}var Yy=!1;if(Rn){var Ku;if(Rn){var Qu="oninput"in document;if(!Qu){var bp=document.createElement("div");bp.setAttribute("oninput","return;"),Qu=typeof bp.oninput=="function"}Ku=Qu}else Ku=!1;Yy=Ku&&(!document.documentMode||9<document.documentMode)}function Hp(){Ns&&(Ns.detachEvent("onpropertychange",Xy),Js=Ns=null)}function Xy(e){if(e.propertyName==="value"&&zl(Js)){var t=[];Gy(t,Js,e,If(e)),xy(bw,t)}}function qw(e,t,n){e==="focusin"?(Hp(),Ns=t,Js=n,Ns.attachEvent("onpropertychange",Xy)):e==="focusout"&&Hp()}function Ww(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zl(Js)}function Kw(e,t){if(e==="click")return zl(t)}function Qw(e,t){if(e==="input"||e==="change")return zl(t)}function Gw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:Gw;function Zs(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bc.call(t,i)||!Zt(e[i],t[i]))return!1}return!0}function qp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wp(e,t){var n=qp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qp(n)}}function Jy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zy(){for(var e=window,t=za();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=za(e.document)}return t}function Nf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yw(e){var t=Zy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Jy(n.ownerDocument.documentElement,n)){if(r!==null&&Nf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Wp(n,s);var o=Wp(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xw=Rn&&"documentMode"in document&&11>=document.documentMode,oi=null,oh=null,Ds=null,ah=!1;function Kp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ah||oi==null||oi!==za(r)||(r=oi,"selectionStart"in r&&Nf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ds&&Zs(Ds,r)||(Ds=r,r=Ga(oh,"onSelect"),0<r.length&&(t=new kf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=oi)))}function ia(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ai={animationend:ia("Animation","AnimationEnd"),animationiteration:ia("Animation","AnimationIteration"),animationstart:ia("Animation","AnimationStart"),transitionend:ia("Transition","TransitionEnd")},Gu={},ev={};Rn&&(ev=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function bl(e){if(Gu[e])return Gu[e];if(!ai[e])return e;var t=ai[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ev)return Gu[e]=t[n];return e}var tv=bl("animationend"),nv=bl("animationiteration"),rv=bl("animationstart"),iv=bl("transitionend"),sv=new Map,Qp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(e,t){sv.set(e,t),Br(t,[e])}for(var Yu=0;Yu<Qp.length;Yu++){var Xu=Qp[Yu],Jw=Xu.toLowerCase(),Zw=Xu[0].toUpperCase()+Xu.slice(1);cr(Jw,"on"+Zw)}cr(tv,"onAnimationEnd");cr(nv,"onAnimationIteration");cr(rv,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr(iv,"onTransitionEnd");Ri("onMouseEnter",["mouseout","mouseover"]);Ri("onMouseLeave",["mouseout","mouseover"]);Ri("onPointerEnter",["pointerout","pointerover"]);Ri("onPointerLeave",["pointerout","pointerover"]);Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Br("onBeforeInput",["compositionend","keypress","textInput","paste"]);Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eT=new Set("cancel close invalid load scroll toggle".split(" ").concat(ws));function Gp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,JE(r,t,void 0,e),e.currentTarget=null}function ov(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Gp(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Gp(i,a,u),s=l}}}if(Ha)throw e=nh,Ha=!1,nh=null,e}function de(e,t){var n=t[fh];n===void 0&&(n=t[fh]=new Set);var r=e+"__bubble";n.has(r)||(av(t,e,2,!1),n.add(r))}function Ju(e,t,n){var r=0;t&&(r|=4),av(n,e,r,t)}var sa="_reactListening"+Math.random().toString(36).slice(2);function eo(e){if(!e[sa]){e[sa]=!0,py.forEach(function(n){n!=="selectionchange"&&(eT.has(n)||Ju(n,!1,e),Ju(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sa]||(t[sa]=!0,Ju("selectionchange",!1,t))}}function av(e,t,n,r){switch(Hy(t)){case 1:var i=pw;break;case 4:i=mw;break;default:i=Rf}n=i.bind(null,t,n,e),i=void 0,!th||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zu(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Er(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}xy(function(){var u=s,c=If(n),h=[];e:{var f=sv.get(e);if(f!==void 0){var m=kf,v=e;switch(e){case"keypress":if(Pa(n)===0)break e;case"keydown":case"keyup":m=xw;break;case"focusin":v="focus",m=Wu;break;case"focusout":v="blur",m=Wu;break;case"beforeblur":case"afterblur":m=Wu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Fp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Dw;break;case tv:case nv:case rv:m=ww;break;case iv:m=Ow;break;case"scroll":m=gw;break;case"wheel":m=Fw;break;case"copy":case"cut":case"paste":m=Iw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Up}var _=(t&4)!==0,E=!_&&e==="scroll",p=_?f!==null?f+"Capture":null:f;_=[];for(var d=u,g;d!==null;){g=d;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,p!==null&&(w=Qs(d,p),w!=null&&_.push(to(d,w,g)))),E)break;d=d.return}0<_.length&&(f=new m(f,v,null,n,c),h.push({event:f,listeners:_}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==Zc&&(v=n.relatedTarget||n.fromElement)&&(Er(v)||v[Pn]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Er(v):null,v!==null&&(E=zr(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(_=Fp,w="onMouseLeave",p="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(_=Up,w="onPointerLeave",p="onPointerEnter",d="pointer"),E=m==null?f:li(m),g=v==null?f:li(v),f=new _(w,d+"leave",m,n,c),f.target=E,f.relatedTarget=g,w=null,Er(c)===u&&(_=new _(p,d+"enter",v,n,c),_.target=g,_.relatedTarget=E,w=_),E=w,m&&v)t:{for(_=m,p=v,d=0,g=_;g;g=Gr(g))d++;for(g=0,w=p;w;w=Gr(w))g++;for(;0<d-g;)_=Gr(_),d--;for(;0<g-d;)p=Gr(p),g--;for(;d--;){if(_===p||p!==null&&_===p.alternate)break t;_=Gr(_),p=Gr(p)}_=null}else _=null;m!==null&&Yp(h,f,m,_,!1),v!==null&&E!==null&&Yp(h,E,v,_,!0)}}e:{if(f=u?li(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var I=Hw;else if(zp(f))if(Yy)I=Qw;else{I=Ww;var V=qw}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=Kw);if(I&&(I=I(e,u))){Gy(h,I,n,c);break e}V&&V(e,f,u),e==="focusout"&&(V=f._wrapperState)&&V.controlled&&f.type==="number"&&Qc(f,"number",f.value)}switch(V=u?li(u):window,e){case"focusin":(zp(V)||V.contentEditable==="true")&&(oi=V,oh=u,Ds=null);break;case"focusout":Ds=oh=oi=null;break;case"mousedown":ah=!0;break;case"contextmenu":case"mouseup":case"dragend":ah=!1,Kp(h,n,c);break;case"selectionchange":if(Xw)break;case"keydown":case"keyup":Kp(h,n,c)}var D;if(Vf)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else si?Ky(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(Wy&&n.locale!=="ko"&&(si||L!=="onCompositionStart"?L==="onCompositionEnd"&&si&&(D=qy()):(Bn=c,Pf="value"in Bn?Bn.value:Bn.textContent,si=!0)),V=Ga(u,L),0<V.length&&(L=new $p(L,e,null,n,c),h.push({event:L,listeners:V}),D?L.data=D:(D=Qy(n),D!==null&&(L.data=D)))),(D=Uw?jw(e,n):Bw(e,n))&&(u=Ga(u,"onBeforeInput"),0<u.length&&(c=new $p("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=D))}ov(h,t)})}function to(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ga(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Qs(e,n),s!=null&&r.unshift(to(e,s,i)),s=Qs(e,t),s!=null&&r.push(to(e,s,i))),e=e.return}return r}function Gr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yp(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Qs(n,s),l!=null&&o.unshift(to(n,l,a))):i||(l=Qs(n,s),l!=null&&o.push(to(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var tT=/\r\n?/g,nT=/\u0000|\uFFFD/g;function Xp(e){return(typeof e=="string"?e:""+e).replace(tT,`
`).replace(nT,"")}function oa(e,t,n){if(t=Xp(t),Xp(e)!==t&&n)throw Error(P(425))}function Ya(){}var lh=null,uh=null;function ch(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hh=typeof setTimeout=="function"?setTimeout:void 0,rT=typeof clearTimeout=="function"?clearTimeout:void 0,Jp=typeof Promise=="function"?Promise:void 0,iT=typeof queueMicrotask=="function"?queueMicrotask:typeof Jp<"u"?function(e){return Jp.resolve(null).then(e).catch(sT)}:hh;function sT(e){setTimeout(function(){throw e})}function ec(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Xs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Xs(t)}function Yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Wi=Math.random().toString(36).slice(2),sn="__reactFiber$"+Wi,no="__reactProps$"+Wi,Pn="__reactContainer$"+Wi,fh="__reactEvents$"+Wi,oT="__reactListeners$"+Wi,aT="__reactHandles$"+Wi;function Er(e){var t=e[sn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pn]||n[sn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Zp(e);e!==null;){if(n=e[sn])return n;e=Zp(e)}return t}e=n,n=e.parentNode}return null}function Vo(e){return e=e[sn]||e[Pn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function li(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function Hl(e){return e[no]||null}var dh=[],ui=-1;function hr(e){return{current:e}}function me(e){0>ui||(e.current=dh[ui],dh[ui]=null,ui--)}function fe(e,t){ui++,dh[ui]=e.current,e.current=t}var or={},ft=hr(or),It=hr(!1),Vr=or;function Pi(e,t){var n=e.type.contextTypes;if(!n)return or;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function St(e){return e=e.childContextTypes,e!=null}function Xa(){me(It),me(ft)}function em(e,t,n){if(ft.current!==or)throw Error(P(168));fe(ft,t),fe(It,n)}function lv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(P(108,qE(e)||"Unknown",i));return Ae({},n,r)}function Ja(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||or,Vr=ft.current,fe(ft,e),fe(It,It.current),!0}function tm(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=lv(e,t,Vr),r.__reactInternalMemoizedMergedChildContext=e,me(It),me(ft),fe(ft,e)):me(It),fe(It,n)}var En=null,ql=!1,tc=!1;function uv(e){En===null?En=[e]:En.push(e)}function lT(e){ql=!0,uv(e)}function fr(){if(!tc&&En!==null){tc=!0;var e=0,t=ce;try{var n=En;for(ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}En=null,ql=!1}catch(i){throw En!==null&&(En=En.slice(e+1)),Ly(Sf,fr),i}finally{ce=t,tc=!1}}return null}var ci=[],hi=0,Za=null,el=0,Mt=[],Ft=0,Nr=null,wn=1,Tn="";function gr(e,t){ci[hi++]=el,ci[hi++]=Za,Za=e,el=t}function cv(e,t,n){Mt[Ft++]=wn,Mt[Ft++]=Tn,Mt[Ft++]=Nr,Nr=e;var r=wn;e=Tn;var i=32-Xt(r)-1;r&=~(1<<i),n+=1;var s=32-Xt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wn=1<<32-Xt(t)+i|n<<i|r,Tn=s+e}else wn=1<<s|n<<i|r,Tn=e}function Df(e){e.return!==null&&(gr(e,1),cv(e,1,0))}function Lf(e){for(;e===Za;)Za=ci[--hi],ci[hi]=null,el=ci[--hi],ci[hi]=null;for(;e===Nr;)Nr=Mt[--Ft],Mt[Ft]=null,Tn=Mt[--Ft],Mt[Ft]=null,wn=Mt[--Ft],Mt[Ft]=null}var kt=null,Pt=null,Te=!1,Qt=null;function hv(e,t){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function nm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,Pt=Yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,Pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Nr!==null?{id:wn,overflow:Tn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kt=e,Pt=null,!0):!1;default:return!1}}function ph(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mh(e){if(Te){var t=Pt;if(t){var n=t;if(!nm(e,t)){if(ph(e))throw Error(P(418));t=Yn(n.nextSibling);var r=kt;t&&nm(e,t)?hv(r,n):(e.flags=e.flags&-4097|2,Te=!1,kt=e)}}else{if(ph(e))throw Error(P(418));e.flags=e.flags&-4097|2,Te=!1,kt=e}}}function rm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function aa(e){if(e!==kt)return!1;if(!Te)return rm(e),Te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ch(e.type,e.memoizedProps)),t&&(t=Pt)){if(ph(e))throw fv(),Error(P(418));for(;t;)hv(e,t),t=Yn(t.nextSibling)}if(rm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Pt=Yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Pt=null}}else Pt=kt?Yn(e.stateNode.nextSibling):null;return!0}function fv(){for(var e=Pt;e;)e=Yn(e.nextSibling)}function ki(){Pt=kt=null,Te=!1}function Of(e){Qt===null?Qt=[e]:Qt.push(e)}var uT=Ln.ReactCurrentBatchConfig;function Wt(e,t){if(e&&e.defaultProps){t=Ae({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var tl=hr(null),nl=null,fi=null,Mf=null;function Ff(){Mf=fi=nl=null}function $f(e){var t=tl.current;me(tl),e._currentValue=t}function gh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wi(e,t){nl=e,Mf=fi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(wt=!0),e.firstContext=null)}function zt(e){var t=e._currentValue;if(Mf!==e)if(e={context:e,memoizedValue:t,next:null},fi===null){if(nl===null)throw Error(P(308));fi=e,nl.dependencies={lanes:0,firstContext:e}}else fi=fi.next=e;return t}var wr=null;function Uf(e){wr===null?wr=[e]:wr.push(e)}function dv(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Uf(t)):(n.next=i.next,i.next=n),t.interleaved=n,kn(e,r)}function kn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $n=!1;function jf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,kn(e,n)}return i=r.interleaved,i===null?(t.next=t,Uf(r)):(t.next=i.next,i.next=t),r.interleaved=t,kn(e,n)}function ka(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cf(e,n)}}function im(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function rl(e,t,n,r){var i=e.updateQueue;$n=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,_=a;switch(f=t,m=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=Ae({},h,f);break e;case 2:$n=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=h):c=c.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Lr|=o,e.lanes=o,e.memoizedState=h}}function sm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var mv=new dy.Component().refs;function yh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ae({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wl={isMounted:function(e){return(e=e._reactInternals)?zr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=yt(),i=Zn(e),s=Sn(r,i);s.payload=t,n!=null&&(s.callback=n),t=Xn(e,s,i),t!==null&&(Jt(t,e,i,r),ka(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=yt(),i=Zn(e),s=Sn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Xn(e,s,i),t!==null&&(Jt(t,e,i,r),ka(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=yt(),r=Zn(e),i=Sn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Xn(e,i,r),t!==null&&(Jt(t,e,r,n),ka(t,e,r))}};function om(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Zs(n,r)||!Zs(i,s):!0}function gv(e,t,n){var r=!1,i=or,s=t.contextType;return typeof s=="object"&&s!==null?s=zt(s):(i=St(t)?Vr:ft.current,r=t.contextTypes,s=(r=r!=null)?Pi(e,i):or),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function am(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wl.enqueueReplaceState(t,t.state,null)}function vh(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mv,jf(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=zt(s):(s=St(t)?Vr:ft.current,i.context=Pi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(yh(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Wl.enqueueReplaceState(i,i.state,null),rl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function cs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===mv&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function la(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lm(e){var t=e._init;return t(e._payload)}function yv(e){function t(p,d){if(e){var g=p.deletions;g===null?(p.deletions=[d],p.flags|=16):g.push(d)}}function n(p,d){if(!e)return null;for(;d!==null;)t(p,d),d=d.sibling;return null}function r(p,d){for(p=new Map;d!==null;)d.key!==null?p.set(d.key,d):p.set(d.index,d),d=d.sibling;return p}function i(p,d){return p=er(p,d),p.index=0,p.sibling=null,p}function s(p,d,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<d?(p.flags|=2,d):g):(p.flags|=2,d)):(p.flags|=1048576,d)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,d,g,w){return d===null||d.tag!==6?(d=lc(g,p.mode,w),d.return=p,d):(d=i(d,g),d.return=p,d)}function l(p,d,g,w){var I=g.type;return I===ii?c(p,d,g.props.children,w,g.key):d!==null&&(d.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Fn&&lm(I)===d.type)?(w=i(d,g.props),w.ref=cs(p,d,g),w.return=p,w):(w=Oa(g.type,g.key,g.props,null,p.mode,w),w.ref=cs(p,d,g),w.return=p,w)}function u(p,d,g,w){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=uc(g,p.mode,w),d.return=p,d):(d=i(d,g.children||[]),d.return=p,d)}function c(p,d,g,w,I){return d===null||d.tag!==7?(d=kr(g,p.mode,w,I),d.return=p,d):(d=i(d,g),d.return=p,d)}function h(p,d,g){if(typeof d=="string"&&d!==""||typeof d=="number")return d=lc(""+d,p.mode,g),d.return=p,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Xo:return g=Oa(d.type,d.key,d.props,null,p.mode,g),g.ref=cs(p,null,d),g.return=p,g;case ri:return d=uc(d,p.mode,g),d.return=p,d;case Fn:var w=d._init;return h(p,w(d._payload),g)}if(_s(d)||ss(d))return d=kr(d,p.mode,g,null),d.return=p,d;la(p,d)}return null}function f(p,d,g,w){var I=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return I!==null?null:a(p,d,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Xo:return g.key===I?l(p,d,g,w):null;case ri:return g.key===I?u(p,d,g,w):null;case Fn:return I=g._init,f(p,d,I(g._payload),w)}if(_s(g)||ss(g))return I!==null?null:c(p,d,g,w,null);la(p,g)}return null}function m(p,d,g,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(g)||null,a(d,p,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xo:return p=p.get(w.key===null?g:w.key)||null,l(d,p,w,I);case ri:return p=p.get(w.key===null?g:w.key)||null,u(d,p,w,I);case Fn:var V=w._init;return m(p,d,g,V(w._payload),I)}if(_s(w)||ss(w))return p=p.get(g)||null,c(d,p,w,I,null);la(d,w)}return null}function v(p,d,g,w){for(var I=null,V=null,D=d,L=d=0,J=null;D!==null&&L<g.length;L++){D.index>L?(J=D,D=null):J=D.sibling;var z=f(p,D,g[L],w);if(z===null){D===null&&(D=J);break}e&&D&&z.alternate===null&&t(p,D),d=s(z,d,L),V===null?I=z:V.sibling=z,V=z,D=J}if(L===g.length)return n(p,D),Te&&gr(p,L),I;if(D===null){for(;L<g.length;L++)D=h(p,g[L],w),D!==null&&(d=s(D,d,L),V===null?I=D:V.sibling=D,V=D);return Te&&gr(p,L),I}for(D=r(p,D);L<g.length;L++)J=m(D,p,L,g[L],w),J!==null&&(e&&J.alternate!==null&&D.delete(J.key===null?L:J.key),d=s(J,d,L),V===null?I=J:V.sibling=J,V=J);return e&&D.forEach(function(ue){return t(p,ue)}),Te&&gr(p,L),I}function _(p,d,g,w){var I=ss(g);if(typeof I!="function")throw Error(P(150));if(g=I.call(g),g==null)throw Error(P(151));for(var V=I=null,D=d,L=d=0,J=null,z=g.next();D!==null&&!z.done;L++,z=g.next()){D.index>L?(J=D,D=null):J=D.sibling;var ue=f(p,D,z.value,w);if(ue===null){D===null&&(D=J);break}e&&D&&ue.alternate===null&&t(p,D),d=s(ue,d,L),V===null?I=ue:V.sibling=ue,V=ue,D=J}if(z.done)return n(p,D),Te&&gr(p,L),I;if(D===null){for(;!z.done;L++,z=g.next())z=h(p,z.value,w),z!==null&&(d=s(z,d,L),V===null?I=z:V.sibling=z,V=z);return Te&&gr(p,L),I}for(D=r(p,D);!z.done;L++,z=g.next())z=m(D,p,L,z.value,w),z!==null&&(e&&z.alternate!==null&&D.delete(z.key===null?L:z.key),d=s(z,d,L),V===null?I=z:V.sibling=z,V=z);return e&&D.forEach(function(K){return t(p,K)}),Te&&gr(p,L),I}function E(p,d,g,w){if(typeof g=="object"&&g!==null&&g.type===ii&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Xo:e:{for(var I=g.key,V=d;V!==null;){if(V.key===I){if(I=g.type,I===ii){if(V.tag===7){n(p,V.sibling),d=i(V,g.props.children),d.return=p,p=d;break e}}else if(V.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Fn&&lm(I)===V.type){n(p,V.sibling),d=i(V,g.props),d.ref=cs(p,V,g),d.return=p,p=d;break e}n(p,V);break}else t(p,V);V=V.sibling}g.type===ii?(d=kr(g.props.children,p.mode,w,g.key),d.return=p,p=d):(w=Oa(g.type,g.key,g.props,null,p.mode,w),w.ref=cs(p,d,g),w.return=p,p=w)}return o(p);case ri:e:{for(V=g.key;d!==null;){if(d.key===V)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(p,d.sibling),d=i(d,g.children||[]),d.return=p,p=d;break e}else{n(p,d);break}else t(p,d);d=d.sibling}d=uc(g,p.mode,w),d.return=p,p=d}return o(p);case Fn:return V=g._init,E(p,d,V(g._payload),w)}if(_s(g))return v(p,d,g,w);if(ss(g))return _(p,d,g,w);la(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,d!==null&&d.tag===6?(n(p,d.sibling),d=i(d,g),d.return=p,p=d):(n(p,d),d=lc(g,p.mode,w),d.return=p,p=d),o(p)):n(p,d)}return E}var xi=yv(!0),vv=yv(!1),No={},hn=hr(No),ro=hr(No),io=hr(No);function Tr(e){if(e===No)throw Error(P(174));return e}function Bf(e,t){switch(fe(io,t),fe(ro,e),fe(hn,No),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yc(t,e)}me(hn),fe(hn,t)}function Vi(){me(hn),me(ro),me(io)}function _v(e){Tr(io.current);var t=Tr(hn.current),n=Yc(t,e.type);t!==n&&(fe(ro,e),fe(hn,n))}function zf(e){ro.current===e&&(me(hn),me(ro))}var Se=hr(0);function il(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nc=[];function bf(){for(var e=0;e<nc.length;e++)nc[e]._workInProgressVersionPrimary=null;nc.length=0}var xa=Ln.ReactCurrentDispatcher,rc=Ln.ReactCurrentBatchConfig,Dr=0,Ce=null,Ue=null,qe=null,sl=!1,Ls=!1,so=0,cT=0;function nt(){throw Error(P(321))}function Hf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zt(e[n],t[n]))return!1;return!0}function qf(e,t,n,r,i,s){if(Dr=s,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xa.current=e===null||e.memoizedState===null?pT:mT,e=n(r,i),Ls){s=0;do{if(Ls=!1,so=0,25<=s)throw Error(P(301));s+=1,qe=Ue=null,t.updateQueue=null,xa.current=gT,e=n(r,i)}while(Ls)}if(xa.current=ol,t=Ue!==null&&Ue.next!==null,Dr=0,qe=Ue=Ce=null,sl=!1,t)throw Error(P(300));return e}function Wf(){var e=so!==0;return so=0,e}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Ce.memoizedState=qe=e:qe=qe.next=e,qe}function bt(){if(Ue===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=qe===null?Ce.memoizedState:qe.next;if(t!==null)qe=t,Ue=e;else{if(e===null)throw Error(P(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},qe===null?Ce.memoizedState=qe=e:qe=qe.next=e}return qe}function oo(e,t){return typeof t=="function"?t(e):t}function ic(e){var t=bt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=Ue,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Dr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ce.lanes|=c,Lr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Zt(r,t.memoizedState)||(wt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ce.lanes|=s,Lr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function sc(e){var t=bt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Zt(s,t.memoizedState)||(wt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ev(){}function wv(e,t){var n=Ce,r=bt(),i=t(),s=!Zt(r.memoizedState,i);if(s&&(r.memoizedState=i,wt=!0),r=r.queue,Kf(Sv.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||qe!==null&&qe.memoizedState.tag&1){if(n.flags|=2048,ao(9,Iv.bind(null,n,r,i,t),void 0,null),We===null)throw Error(P(349));Dr&30||Tv(n,t,i)}return i}function Tv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Iv(e,t,n,r){t.value=n,t.getSnapshot=r,Cv(t)&&Av(e)}function Sv(e,t,n){return n(function(){Cv(t)&&Av(e)})}function Cv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zt(e,n)}catch{return!0}}function Av(e){var t=kn(e,1);t!==null&&Jt(t,e,1,-1)}function um(e){var t=rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e},t.queue=e,e=e.dispatch=dT.bind(null,Ce,e),[t.memoizedState,e]}function ao(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Rv(){return bt().memoizedState}function Va(e,t,n,r){var i=rn();Ce.flags|=e,i.memoizedState=ao(1|t,n,void 0,r===void 0?null:r)}function Kl(e,t,n,r){var i=bt();r=r===void 0?null:r;var s=void 0;if(Ue!==null){var o=Ue.memoizedState;if(s=o.destroy,r!==null&&Hf(r,o.deps)){i.memoizedState=ao(t,n,s,r);return}}Ce.flags|=e,i.memoizedState=ao(1|t,n,s,r)}function cm(e,t){return Va(8390656,8,e,t)}function Kf(e,t){return Kl(2048,8,e,t)}function Pv(e,t){return Kl(4,2,e,t)}function kv(e,t){return Kl(4,4,e,t)}function xv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vv(e,t,n){return n=n!=null?n.concat([e]):null,Kl(4,4,xv.bind(null,t,e),n)}function Qf(){}function Nv(e,t){var n=bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Dv(e,t){var n=bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Lv(e,t,n){return Dr&21?(Zt(n,t)||(n=Fy(),Ce.lanes|=n,Lr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,wt=!0),e.memoizedState=n)}function hT(e,t){var n=ce;ce=n!==0&&4>n?n:4,e(!0);var r=rc.transition;rc.transition={};try{e(!1),t()}finally{ce=n,rc.transition=r}}function Ov(){return bt().memoizedState}function fT(e,t,n){var r=Zn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Mv(e))Fv(t,n);else if(n=dv(e,t,n,r),n!==null){var i=yt();Jt(n,e,r,i),$v(n,t,r)}}function dT(e,t,n){var r=Zn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mv(e))Fv(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Zt(a,o)){var l=t.interleaved;l===null?(i.next=i,Uf(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=dv(e,t,i,r),n!==null&&(i=yt(),Jt(n,e,r,i),$v(n,t,r))}}function Mv(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function Fv(e,t){Ls=sl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $v(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cf(e,n)}}var ol={readContext:zt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},pT={readContext:zt,useCallback:function(e,t){return rn().memoizedState=[e,t===void 0?null:t],e},useContext:zt,useEffect:cm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Va(4194308,4,xv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=rn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=rn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=fT.bind(null,Ce,e),[r.memoizedState,e]},useRef:function(e){var t=rn();return e={current:e},t.memoizedState=e},useState:um,useDebugValue:Qf,useDeferredValue:function(e){return rn().memoizedState=e},useTransition:function(){var e=um(!1),t=e[0];return e=hT.bind(null,e[1]),rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ce,i=rn();if(Te){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),We===null)throw Error(P(349));Dr&30||Tv(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,cm(Sv.bind(null,r,s,e),[e]),r.flags|=2048,ao(9,Iv.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=rn(),t=We.identifierPrefix;if(Te){var n=Tn,r=wn;n=(r&~(1<<32-Xt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=so++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=cT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mT={readContext:zt,useCallback:Nv,useContext:zt,useEffect:Kf,useImperativeHandle:Vv,useInsertionEffect:Pv,useLayoutEffect:kv,useMemo:Dv,useReducer:ic,useRef:Rv,useState:function(){return ic(oo)},useDebugValue:Qf,useDeferredValue:function(e){var t=bt();return Lv(t,Ue.memoizedState,e)},useTransition:function(){var e=ic(oo)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Ev,useSyncExternalStore:wv,useId:Ov,unstable_isNewReconciler:!1},gT={readContext:zt,useCallback:Nv,useContext:zt,useEffect:Kf,useImperativeHandle:Vv,useInsertionEffect:Pv,useLayoutEffect:kv,useMemo:Dv,useReducer:sc,useRef:Rv,useState:function(){return sc(oo)},useDebugValue:Qf,useDeferredValue:function(e){var t=bt();return Ue===null?t.memoizedState=e:Lv(t,Ue.memoizedState,e)},useTransition:function(){var e=sc(oo)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Ev,useSyncExternalStore:wv,useId:Ov,unstable_isNewReconciler:!1};function Ni(e,t){try{var n="",r=t;do n+=HE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function oc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function _h(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var yT=typeof WeakMap=="function"?WeakMap:Map;function Uv(e,t,n){n=Sn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ll||(ll=!0,kh=r),_h(e,t)},n}function jv(e,t,n){n=Sn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){_h(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){_h(e,t),typeof r!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function hm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new yT;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=VT.bind(null,e,t,n),t.then(e,e))}function fm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dm(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Sn(-1,1),t.tag=2,Xn(n,t,1))),n.lanes|=1),e)}var vT=Ln.ReactCurrentOwner,wt=!1;function pt(e,t,n,r){t.child=e===null?vv(t,null,n,r):xi(t,e.child,n,r)}function pm(e,t,n,r,i){n=n.render;var s=t.ref;return wi(t,i),r=qf(e,t,n,r,s,i),n=Wf(),e!==null&&!wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xn(e,t,i)):(Te&&n&&Df(t),t.flags|=1,pt(e,t,r,i),t.child)}function mm(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!nd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Bv(e,t,s,r,i)):(e=Oa(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Zs,n(o,r)&&e.ref===t.ref)return xn(e,t,i)}return t.flags|=1,e=er(s,r),e.ref=t.ref,e.return=t,t.child=e}function Bv(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Zs(s,r)&&e.ref===t.ref)if(wt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(wt=!0);else return t.lanes=e.lanes,xn(e,t,i)}return Eh(e,t,n,r,i)}function zv(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(pi,Rt),Rt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fe(pi,Rt),Rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,fe(pi,Rt),Rt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,fe(pi,Rt),Rt|=r;return pt(e,t,i,n),t.child}function bv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eh(e,t,n,r,i){var s=St(n)?Vr:ft.current;return s=Pi(t,s),wi(t,i),n=qf(e,t,n,r,s,i),r=Wf(),e!==null&&!wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xn(e,t,i)):(Te&&r&&Df(t),t.flags|=1,pt(e,t,n,i),t.child)}function gm(e,t,n,r,i){if(St(n)){var s=!0;Ja(t)}else s=!1;if(wi(t,i),t.stateNode===null)Na(e,t),gv(t,n,r),vh(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=zt(u):(u=St(n)?Vr:ft.current,u=Pi(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&am(t,o,r,u),$n=!1;var f=t.memoizedState;o.state=f,rl(t,r,o,i),l=t.memoizedState,a!==r||f!==l||It.current||$n?(typeof c=="function"&&(yh(t,n,c,r),l=t.memoizedState),(a=$n||om(t,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,pv(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Wt(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=zt(l):(l=St(n)?Vr:ft.current,l=Pi(t,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&am(t,o,r,l),$n=!1,f=t.memoizedState,o.state=f,rl(t,r,o,i);var v=t.memoizedState;a!==h||f!==v||It.current||$n?(typeof m=="function"&&(yh(t,n,m,r),v=t.memoizedState),(u=$n||om(t,n,u,r,f,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return wh(e,t,n,r,s,i)}function wh(e,t,n,r,i,s){bv(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&tm(t,n,!1),xn(e,t,s);r=t.stateNode,vT.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=xi(t,e.child,null,s),t.child=xi(t,null,a,s)):pt(e,t,a,s),t.memoizedState=r.state,i&&tm(t,n,!0),t.child}function Hv(e){var t=e.stateNode;t.pendingContext?em(e,t.pendingContext,t.pendingContext!==t.context):t.context&&em(e,t.context,!1),Bf(e,t.containerInfo)}function ym(e,t,n,r,i){return ki(),Of(i),t.flags|=256,pt(e,t,n,r),t.child}var Th={dehydrated:null,treeContext:null,retryLane:0};function Ih(e){return{baseLanes:e,cachePool:null,transitions:null}}function qv(e,t,n){var r=t.pendingProps,i=Se.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),fe(Se,i&1),e===null)return mh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Yl(o,r,0,null),e=kr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ih(n),t.memoizedState=Th,e):Gf(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return _T(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=er(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=er(a,s):(s=kr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Ih(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Th,r}return s=e.child,e=s.sibling,r=er(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Gf(e,t){return t=Yl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ua(e,t,n,r){return r!==null&&Of(r),xi(t,e.child,null,n),e=Gf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _T(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=oc(Error(P(422))),ua(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Yl({mode:"visible",children:r.children},i,0,null),s=kr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&xi(t,e.child,null,o),t.child.memoizedState=Ih(o),t.memoizedState=Th,s);if(!(t.mode&1))return ua(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(P(419)),r=oc(s,r,void 0),ua(e,t,o,r)}if(a=(o&e.childLanes)!==0,wt||a){if(r=We,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,kn(e,i),Jt(r,e,i,-1))}return td(),r=oc(Error(P(421))),ua(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=NT.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Pt=Yn(i.nextSibling),kt=t,Te=!0,Qt=null,e!==null&&(Mt[Ft++]=wn,Mt[Ft++]=Tn,Mt[Ft++]=Nr,wn=e.id,Tn=e.overflow,Nr=t),t=Gf(t,r.children),t.flags|=4096,t)}function vm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),gh(e.return,t,n)}function ac(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Wv(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(pt(e,t,r.children,n),r=Se.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vm(e,n,t);else if(e.tag===19)vm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fe(Se,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&il(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ac(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&il(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ac(t,!0,n,null,s);break;case"together":ac(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Na(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Lr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=er(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=er(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ET(e,t,n){switch(t.tag){case 3:Hv(t),ki();break;case 5:_v(t);break;case 1:St(t.type)&&Ja(t);break;case 4:Bf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;fe(tl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(fe(Se,Se.current&1),t.flags|=128,null):n&t.child.childLanes?qv(e,t,n):(fe(Se,Se.current&1),e=xn(e,t,n),e!==null?e.sibling:null);fe(Se,Se.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Wv(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fe(Se,Se.current),r)break;return null;case 22:case 23:return t.lanes=0,zv(e,t,n)}return xn(e,t,n)}var Kv,Sh,Qv,Gv;Kv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sh=function(){};Qv=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Tr(hn.current);var s=null;switch(n){case"input":i=Wc(e,i),r=Wc(e,r),s=[];break;case"select":i=Ae({},i,{value:void 0}),r=Ae({},r,{value:void 0}),s=[];break;case"textarea":i=Gc(e,i),r=Gc(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ya)}Xc(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ws.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ws.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&de("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Gv=function(e,t,n,r){n!==r&&(t.flags|=4)};function hs(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function wT(e,t,n){var r=t.pendingProps;switch(Lf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return St(t.type)&&Xa(),rt(t),null;case 3:return r=t.stateNode,Vi(),me(It),me(ft),bf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(aa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qt!==null&&(Nh(Qt),Qt=null))),Sh(e,t),rt(t),null;case 5:zf(t);var i=Tr(io.current);if(n=t.type,e!==null&&t.stateNode!=null)Qv(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return rt(t),null}if(e=Tr(hn.current),aa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[sn]=t,r[no]=s,e=(t.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(i=0;i<ws.length;i++)de(ws[i],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":Rp(r,s),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},de("invalid",r);break;case"textarea":kp(r,s),de("invalid",r)}Xc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&oa(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&oa(r.textContent,a,e),i=["children",""+a]):Ws.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&de("scroll",r)}switch(n){case"input":Jo(r),Pp(r,s,!0);break;case"textarea":Jo(r),xp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ya)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ty(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[sn]=t,e[no]=r,Kv(e,t,!1,!1),t.stateNode=e;e:{switch(o=Jc(n,r),n){case"dialog":de("cancel",e),de("close",e),i=r;break;case"iframe":case"object":case"embed":de("load",e),i=r;break;case"video":case"audio":for(i=0;i<ws.length;i++)de(ws[i],e);i=r;break;case"source":de("error",e),i=r;break;case"img":case"image":case"link":de("error",e),de("load",e),i=r;break;case"details":de("toggle",e),i=r;break;case"input":Rp(e,r),i=Wc(e,r),de("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ae({},r,{value:void 0}),de("invalid",e);break;case"textarea":kp(e,r),i=Gc(e,r),de("invalid",e);break;default:i=r}Xc(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Cy(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Iy(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ks(e,l):typeof l=="number"&&Ks(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ws.hasOwnProperty(s)?l!=null&&s==="onScroll"&&de("scroll",e):l!=null&&_f(e,s,l,o))}switch(n){case"input":Jo(e),Pp(e,r,!1);break;case"textarea":Jo(e),xp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+sr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?yi(e,!!r.multiple,s,!1):r.defaultValue!=null&&yi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ya)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rt(t),null;case 6:if(e&&t.stateNode!=null)Gv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=Tr(io.current),Tr(hn.current),aa(t)){if(r=t.stateNode,n=t.memoizedProps,r[sn]=t,(s=r.nodeValue!==n)&&(e=kt,e!==null))switch(e.tag){case 3:oa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oa(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sn]=t,t.stateNode=r}return rt(t),null;case 13:if(me(Se),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&Pt!==null&&t.mode&1&&!(t.flags&128))fv(),ki(),t.flags|=98560,s=!1;else if(s=aa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(P(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[sn]=t}else ki(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rt(t),s=!1}else Qt!==null&&(Nh(Qt),Qt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Se.current&1?Be===0&&(Be=3):td())),t.updateQueue!==null&&(t.flags|=4),rt(t),null);case 4:return Vi(),Sh(e,t),e===null&&eo(t.stateNode.containerInfo),rt(t),null;case 10:return $f(t.type._context),rt(t),null;case 17:return St(t.type)&&Xa(),rt(t),null;case 19:if(me(Se),s=t.memoizedState,s===null)return rt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)hs(s,!1);else{if(Be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=il(e),o!==null){for(t.flags|=128,hs(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fe(Se,Se.current&1|2),t.child}e=e.sibling}s.tail!==null&&De()>Di&&(t.flags|=128,r=!0,hs(s,!1),t.lanes=4194304)}else{if(!r)if(e=il(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Te)return rt(t),null}else 2*De()-s.renderingStartTime>Di&&n!==1073741824&&(t.flags|=128,r=!0,hs(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=De(),t.sibling=null,n=Se.current,fe(Se,r?n&1|2:n&1),t):(rt(t),null);case 22:case 23:return ed(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Rt&1073741824&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function TT(e,t){switch(Lf(t),t.tag){case 1:return St(t.type)&&Xa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vi(),me(It),me(ft),bf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zf(t),null;case 13:if(me(Se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));ki()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(Se),null;case 4:return Vi(),null;case 10:return $f(t.type._context),null;case 22:case 23:return ed(),null;case 24:return null;default:return null}}var ca=!1,ot=!1,IT=typeof WeakSet=="function"?WeakSet:Set,F=null;function di(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(e,t,r)}else n.current=null}function Ch(e,t,n){try{n()}catch(r){ke(e,t,r)}}var _m=!1;function ST(e,t){if(lh=Ka,e=Zy(),Nf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=e,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(uh={focusedElem:e,selectionRange:n},Ka=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,E=v.memoizedState,p=t.stateNode,d=p.getSnapshotBeforeUpdate(t.elementType===t.type?_:Wt(t.type,_),E);p.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(w){ke(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return v=_m,_m=!1,v}function Os(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ch(t,n,s)}i=i.next}while(i!==r)}}function Ql(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ah(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Yv(e){var t=e.alternate;t!==null&&(e.alternate=null,Yv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sn],delete t[no],delete t[fh],delete t[oT],delete t[aT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xv(e){return e.tag===5||e.tag===3||e.tag===4}function Em(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ya));else if(r!==4&&(e=e.child,e!==null))for(Rh(e,t,n),e=e.sibling;e!==null;)Rh(e,t,n),e=e.sibling}function Ph(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ph(e,t,n),e=e.sibling;e!==null;)Ph(e,t,n),e=e.sibling}var Ye=null,Kt=!1;function Mn(e,t,n){for(n=n.child;n!==null;)Jv(e,t,n),n=n.sibling}function Jv(e,t,n){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(jl,n)}catch{}switch(n.tag){case 5:ot||di(n,t);case 6:var r=Ye,i=Kt;Ye=null,Mn(e,t,n),Ye=r,Kt=i,Ye!==null&&(Kt?(e=Ye,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(Kt?(e=Ye,n=n.stateNode,e.nodeType===8?ec(e.parentNode,n):e.nodeType===1&&ec(e,n),Xs(e)):ec(Ye,n.stateNode));break;case 4:r=Ye,i=Kt,Ye=n.stateNode.containerInfo,Kt=!0,Mn(e,t,n),Ye=r,Kt=i;break;case 0:case 11:case 14:case 15:if(!ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ch(n,t,o),i=i.next}while(i!==r)}Mn(e,t,n);break;case 1:if(!ot&&(di(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ke(n,t,a)}Mn(e,t,n);break;case 21:Mn(e,t,n);break;case 22:n.mode&1?(ot=(r=ot)||n.memoizedState!==null,Mn(e,t,n),ot=r):Mn(e,t,n);break;default:Mn(e,t,n)}}function wm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new IT),t.forEach(function(r){var i=DT.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ye=a.stateNode,Kt=!1;break e;case 3:Ye=a.stateNode.containerInfo,Kt=!0;break e;case 4:Ye=a.stateNode.containerInfo,Kt=!0;break e}a=a.return}if(Ye===null)throw Error(P(160));Jv(s,o,i),Ye=null,Kt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ke(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zv(t,e),t=t.sibling}function Zv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qt(t,e),nn(e),r&4){try{Os(3,e,e.return),Ql(3,e)}catch(_){ke(e,e.return,_)}try{Os(5,e,e.return)}catch(_){ke(e,e.return,_)}}break;case 1:qt(t,e),nn(e),r&512&&n!==null&&di(n,n.return);break;case 5:if(qt(t,e),nn(e),r&512&&n!==null&&di(n,n.return),e.flags&32){var i=e.stateNode;try{Ks(i,"")}catch(_){ke(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Ey(i,s),Jc(a,o);var u=Jc(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Cy(i,h):c==="dangerouslySetInnerHTML"?Iy(i,h):c==="children"?Ks(i,h):_f(i,c,h,u)}switch(a){case"input":Kc(i,s);break;case"textarea":wy(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?yi(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?yi(i,!!s.multiple,s.defaultValue,!0):yi(i,!!s.multiple,s.multiple?[]:"",!1))}i[no]=s}catch(_){ke(e,e.return,_)}}break;case 6:if(qt(t,e),nn(e),r&4){if(e.stateNode===null)throw Error(P(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(_){ke(e,e.return,_)}}break;case 3:if(qt(t,e),nn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xs(t.containerInfo)}catch(_){ke(e,e.return,_)}break;case 4:qt(t,e),nn(e);break;case 13:qt(t,e),nn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Jf=De())),r&4&&wm(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(ot=(u=ot)||c,qt(t,e),ot=u):qt(t,e),nn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(F=e,c=e.child;c!==null;){for(h=F=c;F!==null;){switch(f=F,m=f.child,f.tag){case 0:case 11:case 14:case 15:Os(4,f,f.return);break;case 1:di(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(_){ke(r,n,_)}}break;case 5:di(f,f.return);break;case 22:if(f.memoizedState!==null){Im(h);continue}}m!==null?(m.return=f,F=m):Im(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Sy("display",o))}catch(_){ke(e,e.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){ke(e,e.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:qt(t,e),nn(e),r&4&&wm(e);break;case 21:break;default:qt(t,e),nn(e)}}function nn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Xv(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ks(i,""),r.flags&=-33);var s=Em(e);Ph(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Em(e);Rh(e,a,o);break;default:throw Error(P(161))}}catch(l){ke(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CT(e,t,n){F=e,e_(e)}function e_(e,t,n){for(var r=(e.mode&1)!==0;F!==null;){var i=F,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ca;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ot;a=ca;var u=ot;if(ca=o,(ot=l)&&!u)for(F=i;F!==null;)o=F,l=o.child,o.tag===22&&o.memoizedState!==null?Sm(i):l!==null?(l.return=o,F=l):Sm(i);for(;s!==null;)F=s,e_(s),s=s.sibling;F=i,ca=a,ot=u}Tm(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,F=s):Tm(e)}}function Tm(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ot||Ql(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ot)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Wt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&sm(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sm(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Xs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}ot||t.flags&512&&Ah(t)}catch(f){ke(t,t.return,f)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function Im(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function Sm(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ql(4,t)}catch(l){ke(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){ke(t,i,l)}}var s=t.return;try{Ah(t)}catch(l){ke(t,s,l)}break;case 5:var o=t.return;try{Ah(t)}catch(l){ke(t,o,l)}}}catch(l){ke(t,t.return,l)}if(t===e){F=null;break}var a=t.sibling;if(a!==null){a.return=t.return,F=a;break}F=t.return}}var AT=Math.ceil,al=Ln.ReactCurrentDispatcher,Yf=Ln.ReactCurrentOwner,Bt=Ln.ReactCurrentBatchConfig,oe=0,We=null,$e=null,Ze=0,Rt=0,pi=hr(0),Be=0,lo=null,Lr=0,Gl=0,Xf=0,Ms=null,Et=null,Jf=0,Di=1/0,_n=null,ll=!1,kh=null,Jn=null,ha=!1,zn=null,ul=0,Fs=0,xh=null,Da=-1,La=0;function yt(){return oe&6?De():Da!==-1?Da:Da=De()}function Zn(e){return e.mode&1?oe&2&&Ze!==0?Ze&-Ze:uT.transition!==null?(La===0&&(La=Fy()),La):(e=ce,e!==0||(e=window.event,e=e===void 0?16:Hy(e.type)),e):1}function Jt(e,t,n,r){if(50<Fs)throw Fs=0,xh=null,Error(P(185));ko(e,n,r),(!(oe&2)||e!==We)&&(e===We&&(!(oe&2)&&(Gl|=n),Be===4&&jn(e,Ze)),Ct(e,r),n===1&&oe===0&&!(t.mode&1)&&(Di=De()+500,ql&&fr()))}function Ct(e,t){var n=e.callbackNode;uw(e,t);var r=Wa(e,e===We?Ze:0);if(r===0)n!==null&&Dp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Dp(n),t===1)e.tag===0?lT(Cm.bind(null,e)):uv(Cm.bind(null,e)),iT(function(){!(oe&6)&&fr()}),n=null;else{switch($y(r)){case 1:n=Sf;break;case 4:n=Oy;break;case 16:n=qa;break;case 536870912:n=My;break;default:n=qa}n=l_(n,t_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function t_(e,t){if(Da=-1,La=0,oe&6)throw Error(P(327));var n=e.callbackNode;if(Ti()&&e.callbackNode!==n)return null;var r=Wa(e,e===We?Ze:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=cl(e,r);else{t=r;var i=oe;oe|=2;var s=r_();(We!==e||Ze!==t)&&(_n=null,Di=De()+500,Pr(e,t));do try{kT();break}catch(a){n_(e,a)}while(1);Ff(),al.current=s,oe=i,$e!==null?t=0:(We=null,Ze=0,t=Be)}if(t!==0){if(t===2&&(i=rh(e),i!==0&&(r=i,t=Vh(e,i))),t===1)throw n=lo,Pr(e,0),jn(e,r),Ct(e,De()),n;if(t===6)jn(e,r);else{if(i=e.current.alternate,!(r&30)&&!RT(i)&&(t=cl(e,r),t===2&&(s=rh(e),s!==0&&(r=s,t=Vh(e,s))),t===1))throw n=lo,Pr(e,0),jn(e,r),Ct(e,De()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:yr(e,Et,_n);break;case 3:if(jn(e,r),(r&130023424)===r&&(t=Jf+500-De(),10<t)){if(Wa(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){yt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=hh(yr.bind(null,e,Et,_n),t);break}yr(e,Et,_n);break;case 4:if(jn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Xt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=De()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*AT(r/1960))-r,10<r){e.timeoutHandle=hh(yr.bind(null,e,Et,_n),r);break}yr(e,Et,_n);break;case 5:yr(e,Et,_n);break;default:throw Error(P(329))}}}return Ct(e,De()),e.callbackNode===n?t_.bind(null,e):null}function Vh(e,t){var n=Ms;return e.current.memoizedState.isDehydrated&&(Pr(e,t).flags|=256),e=cl(e,t),e!==2&&(t=Et,Et=n,t!==null&&Nh(t)),e}function Nh(e){Et===null?Et=e:Et.push.apply(Et,e)}function RT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Zt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jn(e,t){for(t&=~Xf,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Xt(t),r=1<<n;e[n]=-1,t&=~r}}function Cm(e){if(oe&6)throw Error(P(327));Ti();var t=Wa(e,0);if(!(t&1))return Ct(e,De()),null;var n=cl(e,t);if(e.tag!==0&&n===2){var r=rh(e);r!==0&&(t=r,n=Vh(e,r))}if(n===1)throw n=lo,Pr(e,0),jn(e,t),Ct(e,De()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yr(e,Et,_n),Ct(e,De()),null}function Zf(e,t){var n=oe;oe|=1;try{return e(t)}finally{oe=n,oe===0&&(Di=De()+500,ql&&fr())}}function Or(e){zn!==null&&zn.tag===0&&!(oe&6)&&Ti();var t=oe;oe|=1;var n=Bt.transition,r=ce;try{if(Bt.transition=null,ce=1,e)return e()}finally{ce=r,Bt.transition=n,oe=t,!(oe&6)&&fr()}}function ed(){Rt=pi.current,me(pi)}function Pr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,rT(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(Lf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xa();break;case 3:Vi(),me(It),me(ft),bf();break;case 5:zf(r);break;case 4:Vi();break;case 13:me(Se);break;case 19:me(Se);break;case 10:$f(r.type._context);break;case 22:case 23:ed()}n=n.return}if(We=e,$e=e=er(e.current,null),Ze=Rt=t,Be=0,lo=null,Xf=Gl=Lr=0,Et=Ms=null,wr!==null){for(t=0;t<wr.length;t++)if(n=wr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}wr=null}return e}function n_(e,t){do{var n=$e;try{if(Ff(),xa.current=ol,sl){for(var r=Ce.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}sl=!1}if(Dr=0,qe=Ue=Ce=null,Ls=!1,so=0,Yf.current=null,n===null||n.return===null){Be=1,lo=t,$e=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Ze,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=fm(o);if(m!==null){m.flags&=-257,dm(m,o,a,s,t),m.mode&1&&hm(s,u,t),t=m,l=u;var v=t.updateQueue;if(v===null){var _=new Set;_.add(l),t.updateQueue=_}else v.add(l);break e}else{if(!(t&1)){hm(s,u,t),td();break e}l=Error(P(426))}}else if(Te&&a.mode&1){var E=fm(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),dm(E,o,a,s,t),Of(Ni(l,a));break e}}s=l=Ni(l,a),Be!==4&&(Be=2),Ms===null?Ms=[s]:Ms.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=Uv(s,l,t);im(s,p);break e;case 1:a=l;var d=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof d.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Jn===null||!Jn.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=jv(s,a,t);im(s,w);break e}}s=s.return}while(s!==null)}s_(n)}catch(I){t=I,$e===n&&n!==null&&($e=n=n.return);continue}break}while(1)}function r_(){var e=al.current;return al.current=ol,e===null?ol:e}function td(){(Be===0||Be===3||Be===2)&&(Be=4),We===null||!(Lr&268435455)&&!(Gl&268435455)||jn(We,Ze)}function cl(e,t){var n=oe;oe|=2;var r=r_();(We!==e||Ze!==t)&&(_n=null,Pr(e,t));do try{PT();break}catch(i){n_(e,i)}while(1);if(Ff(),oe=n,al.current=r,$e!==null)throw Error(P(261));return We=null,Ze=0,Be}function PT(){for(;$e!==null;)i_($e)}function kT(){for(;$e!==null&&!ew();)i_($e)}function i_(e){var t=a_(e.alternate,e,Rt);e.memoizedProps=e.pendingProps,t===null?s_(e):$e=t,Yf.current=null}function s_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=TT(n,t),n!==null){n.flags&=32767,$e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Be=6,$e=null;return}}else if(n=wT(n,t,Rt),n!==null){$e=n;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);Be===0&&(Be=5)}function yr(e,t,n){var r=ce,i=Bt.transition;try{Bt.transition=null,ce=1,xT(e,t,n,r)}finally{Bt.transition=i,ce=r}return null}function xT(e,t,n,r){do Ti();while(zn!==null);if(oe&6)throw Error(P(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(cw(e,s),e===We&&($e=We=null,Ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ha||(ha=!0,l_(qa,function(){return Ti(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Bt.transition,Bt.transition=null;var o=ce;ce=1;var a=oe;oe|=4,Yf.current=null,ST(e,n),Zv(n,e),Yw(uh),Ka=!!lh,uh=lh=null,e.current=n,CT(n),tw(),oe=a,ce=o,Bt.transition=s}else e.current=n;if(ha&&(ha=!1,zn=e,ul=i),s=e.pendingLanes,s===0&&(Jn=null),iw(n.stateNode),Ct(e,De()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ll)throw ll=!1,e=kh,kh=null,e;return ul&1&&e.tag!==0&&Ti(),s=e.pendingLanes,s&1?e===xh?Fs++:(Fs=0,xh=e):Fs=0,fr(),null}function Ti(){if(zn!==null){var e=$y(ul),t=Bt.transition,n=ce;try{if(Bt.transition=null,ce=16>e?16:e,zn===null)var r=!1;else{if(e=zn,zn=null,ul=0,oe&6)throw Error(P(331));var i=oe;for(oe|=4,F=e.current;F!==null;){var s=F,o=s.child;if(F.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(F=u;F!==null;){var c=F;switch(c.tag){case 0:case 11:case 15:Os(8,c,s)}var h=c.child;if(h!==null)h.return=c,F=h;else for(;F!==null;){c=F;var f=c.sibling,m=c.return;if(Yv(c),c===u){F=null;break}if(f!==null){f.return=m,F=f;break}F=m}}}var v=s.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}F=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,F=o;else e:for(;F!==null;){if(s=F,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Os(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,F=p;break e}F=s.return}}var d=e.current;for(F=d;F!==null;){o=F;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,F=g;else e:for(o=d;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ql(9,a)}}catch(I){ke(a,a.return,I)}if(a===o){F=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,F=w;break e}F=a.return}}if(oe=i,fr(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(jl,e)}catch{}r=!0}return r}finally{ce=n,Bt.transition=t}}return!1}function Am(e,t,n){t=Ni(n,t),t=Uv(e,t,1),e=Xn(e,t,1),t=yt(),e!==null&&(ko(e,1,t),Ct(e,t))}function ke(e,t,n){if(e.tag===3)Am(e,e,n);else for(;t!==null;){if(t.tag===3){Am(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jn===null||!Jn.has(r))){e=Ni(n,e),e=jv(t,e,1),t=Xn(t,e,1),e=yt(),t!==null&&(ko(t,1,e),Ct(t,e));break}}t=t.return}}function VT(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=yt(),e.pingedLanes|=e.suspendedLanes&n,We===e&&(Ze&n)===n&&(Be===4||Be===3&&(Ze&130023424)===Ze&&500>De()-Jf?Pr(e,0):Xf|=n),Ct(e,t)}function o_(e,t){t===0&&(e.mode&1?(t=ta,ta<<=1,!(ta&130023424)&&(ta=4194304)):t=1);var n=yt();e=kn(e,t),e!==null&&(ko(e,t,n),Ct(e,n))}function NT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),o_(e,n)}function DT(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),o_(e,n)}var a_;a_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||It.current)wt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return wt=!1,ET(e,t,n);wt=!!(e.flags&131072)}else wt=!1,Te&&t.flags&1048576&&cv(t,el,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Na(e,t),e=t.pendingProps;var i=Pi(t,ft.current);wi(t,n),i=qf(null,t,r,e,i,n);var s=Wf();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,St(r)?(s=!0,Ja(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jf(t),i.updater=Wl,t.stateNode=i,i._reactInternals=t,vh(t,r,e,n),t=wh(null,t,r,!0,s,n)):(t.tag=0,Te&&s&&Df(t),pt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Na(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=OT(r),e=Wt(r,e),i){case 0:t=Eh(null,t,r,e,n);break e;case 1:t=gm(null,t,r,e,n);break e;case 11:t=pm(null,t,r,e,n);break e;case 14:t=mm(null,t,r,Wt(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wt(r,i),Eh(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wt(r,i),gm(e,t,r,i,n);case 3:e:{if(Hv(t),e===null)throw Error(P(387));r=t.pendingProps,s=t.memoizedState,i=s.element,pv(e,t),rl(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ni(Error(P(423)),t),t=ym(e,t,r,n,i);break e}else if(r!==i){i=Ni(Error(P(424)),t),t=ym(e,t,r,n,i);break e}else for(Pt=Yn(t.stateNode.containerInfo.firstChild),kt=t,Te=!0,Qt=null,n=vv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ki(),r===i){t=xn(e,t,n);break e}pt(e,t,r,n)}t=t.child}return t;case 5:return _v(t),e===null&&mh(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,ch(r,i)?o=null:s!==null&&ch(r,s)&&(t.flags|=32),bv(e,t),pt(e,t,o,n),t.child;case 6:return e===null&&mh(t),null;case 13:return qv(e,t,n);case 4:return Bf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=xi(t,null,r,n):pt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wt(r,i),pm(e,t,r,i,n);case 7:return pt(e,t,t.pendingProps,n),t.child;case 8:return pt(e,t,t.pendingProps.children,n),t.child;case 12:return pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,fe(tl,r._currentValue),r._currentValue=o,s!==null)if(Zt(s.value,o)){if(s.children===i.children&&!It.current){t=xn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Sn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),gh(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),gh(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,wi(t,n),i=zt(i),r=r(i),t.flags|=1,pt(e,t,r,n),t.child;case 14:return r=t.type,i=Wt(r,t.pendingProps),i=Wt(r.type,i),mm(e,t,r,i,n);case 15:return Bv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wt(r,i),Na(e,t),t.tag=1,St(r)?(e=!0,Ja(t)):e=!1,wi(t,n),gv(t,r,i),vh(t,r,i,n),wh(null,t,r,!0,e,n);case 19:return Wv(e,t,n);case 22:return zv(e,t,n)}throw Error(P(156,t.tag))};function l_(e,t){return Ly(e,t)}function LT(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,n,r){return new LT(e,t,n,r)}function nd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function OT(e){if(typeof e=="function")return nd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wf)return 11;if(e===Tf)return 14}return 2}function er(e,t){var n=e.alternate;return n===null?(n=jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oa(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")nd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ii:return kr(n.children,i,s,t);case Ef:o=8,i|=8;break;case zc:return e=jt(12,n,t,i|2),e.elementType=zc,e.lanes=s,e;case bc:return e=jt(13,n,t,i),e.elementType=bc,e.lanes=s,e;case Hc:return e=jt(19,n,t,i),e.elementType=Hc,e.lanes=s,e;case yy:return Yl(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case my:o=10;break e;case gy:o=9;break e;case wf:o=11;break e;case Tf:o=14;break e;case Fn:o=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=jt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function kr(e,t,n,r){return e=jt(7,e,r,t),e.lanes=n,e}function Yl(e,t,n,r){return e=jt(22,e,r,t),e.elementType=yy,e.lanes=n,e.stateNode={isHidden:!1},e}function lc(e,t,n){return e=jt(6,e,null,t),e.lanes=n,e}function uc(e,t,n){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function MT(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bu(0),this.expirationTimes=bu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function rd(e,t,n,r,i,s,o,a,l){return e=new MT(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=jt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jf(s),e}function FT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ri,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function u_(e){if(!e)return or;e=e._reactInternals;e:{if(zr(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(St(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(St(n))return lv(e,n,t)}return t}function c_(e,t,n,r,i,s,o,a,l){return e=rd(n,r,!0,e,i,s,o,a,l),e.context=u_(null),n=e.current,r=yt(),i=Zn(n),s=Sn(r,i),s.callback=t??null,Xn(n,s,i),e.current.lanes=i,ko(e,i,r),Ct(e,r),e}function Xl(e,t,n,r){var i=t.current,s=yt(),o=Zn(i);return n=u_(n),t.context===null?t.context=n:t.pendingContext=n,t=Sn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xn(i,t,o),e!==null&&(Jt(e,i,o,s),ka(e,i,o)),o}function hl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function id(e,t){Rm(e,t),(e=e.alternate)&&Rm(e,t)}function $T(){return null}var h_=typeof reportError=="function"?reportError:function(e){console.error(e)};function sd(e){this._internalRoot=e}Jl.prototype.render=sd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));Xl(e,t,null,null)};Jl.prototype.unmount=sd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Or(function(){Xl(null,e,null,null)}),t[Pn]=null}};function Jl(e){this._internalRoot=e}Jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=By();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Un.length&&t!==0&&t<Un[n].priority;n++);Un.splice(n,0,e),n===0&&by(e)}};function od(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pm(){}function UT(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=hl(o);s.call(u)}}var o=c_(t,r,e,0,null,!1,!1,"",Pm);return e._reactRootContainer=o,e[Pn]=o.current,eo(e.nodeType===8?e.parentNode:e),Or(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=hl(l);a.call(u)}}var l=rd(e,0,!1,null,null,!1,!1,"",Pm);return e._reactRootContainer=l,e[Pn]=l.current,eo(e.nodeType===8?e.parentNode:e),Or(function(){Xl(t,l,n,r)}),l}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=hl(o);a.call(l)}}Xl(t,o,e,i)}else o=UT(n,t,e,i,r);return hl(o)}Uy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Es(t.pendingLanes);n!==0&&(Cf(t,n|1),Ct(t,De()),!(oe&6)&&(Di=De()+500,fr()))}break;case 13:Or(function(){var r=kn(e,1);if(r!==null){var i=yt();Jt(r,e,1,i)}}),id(e,1)}};Af=function(e){if(e.tag===13){var t=kn(e,134217728);if(t!==null){var n=yt();Jt(t,e,134217728,n)}id(e,134217728)}};jy=function(e){if(e.tag===13){var t=Zn(e),n=kn(e,t);if(n!==null){var r=yt();Jt(n,e,t,r)}id(e,t)}};By=function(){return ce};zy=function(e,t){var n=ce;try{return ce=e,t()}finally{ce=n}};eh=function(e,t,n){switch(t){case"input":if(Kc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Hl(r);if(!i)throw Error(P(90));_y(r),Kc(r,i)}}}break;case"textarea":wy(e,n);break;case"select":t=n.value,t!=null&&yi(e,!!n.multiple,t,!1)}};Py=Zf;ky=Or;var jT={usingClientEntryPoint:!1,Events:[Vo,li,Hl,Ay,Ry,Zf]},fs={findFiberByHostInstance:Er,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},BT={bundleType:fs.bundleType,version:fs.version,rendererPackageName:fs.rendererPackageName,rendererConfig:fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ny(e),e===null?null:e.stateNode},findFiberByHostInstance:fs.findFiberByHostInstance||$T,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fa.isDisabled&&fa.supportsFiber)try{jl=fa.inject(BT),cn=fa}catch{}}Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jT;Nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!od(t))throw Error(P(200));return FT(e,t,null,n)};Nt.createRoot=function(e,t){if(!od(e))throw Error(P(299));var n=!1,r="",i=h_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=rd(e,1,!1,null,null,n,!1,r,i),e[Pn]=t.current,eo(e.nodeType===8?e.parentNode:e),new sd(t)};Nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Ny(t),e=e===null?null:e.stateNode,e};Nt.flushSync=function(e){return Or(e)};Nt.hydrate=function(e,t,n){if(!Zl(t))throw Error(P(200));return eu(null,e,t,!0,n)};Nt.hydrateRoot=function(e,t,n){if(!od(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=h_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=c_(t,null,e,1,n??null,i,!1,s,o),e[Pn]=t.current,eo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jl(t)};Nt.render=function(e,t,n){if(!Zl(t))throw Error(P(200));return eu(null,e,t,!1,n)};Nt.unmountComponentAtNode=function(e){if(!Zl(e))throw Error(P(40));return e._reactRootContainer?(Or(function(){eu(null,null,e,!1,function(){e._reactRootContainer=null,e[Pn]=null})}),!0):!1};Nt.unstable_batchedUpdates=Zf;Nt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zl(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return eu(e,t,n,!1,r)};Nt.version="18.2.0-next-9e3b772b8-20220608";function f_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f_)}catch(e){console.error(e)}}f_(),cy.exports=Nt;var zT=cy.exports,km=zT;jc.createRoot=km.createRoot,jc.hydrateRoot=km.hydrateRoot;/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uo.apply(this,arguments)}var bn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bn||(bn={}));const xm="popstate";function bT(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:a}=r.location;return Dh("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:fl(i)}return qT(t,n,null,e)}function Le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ad(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function HT(){return Math.random().toString(36).substr(2,8)}function Vm(e,t){return{usr:e.state,key:e.key,idx:t}}function Dh(e,t,n,r){return n===void 0&&(n=null),uo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ki(t):t,{state:n,key:t&&t.key||r||HT()})}function fl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ki(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function qT(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=bn.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(uo({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=bn.Pop;let E=c(),p=E==null?null:E-u;u=E,l&&l({action:a,location:_.location,delta:p})}function f(E,p){a=bn.Push;let d=Dh(_.location,E,p);n&&n(d,E),u=c()+1;let g=Vm(d,u),w=_.createHref(d);try{o.pushState(g,"",w)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(w)}s&&l&&l({action:a,location:_.location,delta:1})}function m(E,p){a=bn.Replace;let d=Dh(_.location,E,p);n&&n(d,E),u=c();let g=Vm(d,u),w=_.createHref(d);o.replaceState(g,"",w),s&&l&&l({action:a,location:_.location,delta:0})}function v(E){let p=i.location.origin!=="null"?i.location.origin:i.location.href,d=typeof E=="string"?E:fl(E);return Le(p,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,p)}let _={get action(){return a},get location(){return e(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(xm,h),l=E,()=>{i.removeEventListener(xm,h),l=null}},createHref(E){return t(i,E)},createURL:v,encodeLocation(E){let p=v(E);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:m,go(E){return o.go(E)}};return _}var Nm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Nm||(Nm={}));function WT(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Ki(t):t,i=ld(r.pathname||"/",n);if(i==null)return null;let s=d_(e);KT(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=nI(s[a],sI(i));return o}function d_(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Le(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=tr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Le(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),d_(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:eI(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of p_(s.path))i(s,o,l)}),t}function p_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=p_(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function KT(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:tI(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const QT=/^:\w+$/,GT=3,YT=2,XT=1,JT=10,ZT=-2,Dm=e=>e==="*";function eI(e,t){let n=e.split("/"),r=n.length;return n.some(Dm)&&(r+=ZT),t&&(r+=YT),n.filter(i=>!Dm(i)).reduce((i,s)=>i+(QT.test(s)?GT:s===""?XT:JT),r)}function tI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function nI(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=rI({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:tr([i,c.pathname]),pathnameBase:uI(tr([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=tr([i,c.pathnameBase]))}return s}function rI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=iI(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let f=a[h]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=oI(a[h]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:e}}function iI(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ad(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function sI(e){try{return decodeURI(e)}catch(t){return ad(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function oI(e,t){try{return decodeURIComponent(e)}catch(n){return ad(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function ld(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function aI(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ki(e):e;return{pathname:n?n.startsWith("/")?n:lI(n,t):t,search:cI(r),hash:hI(i)}}function lI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function cc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ud(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function cd(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ki(e):(i=uo({},e),Le(!i.pathname||!i.pathname.includes("?"),cc("?","pathname","search",i)),Le(!i.pathname||!i.pathname.includes("#"),cc("#","pathname","hash",i)),Le(!i.search||!i.search.includes("#"),cc("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=t.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=aI(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const tr=e=>e.join("/").replace(/\/\/+/g,"/"),uI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function fI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const m_=["post","put","patch","delete"];new Set(m_);const dI=["get",...m_];new Set(dI);/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dl.apply(this,arguments)}const hd=S.createContext(null),g_=S.createContext(null),br=S.createContext(null),tu=S.createContext(null),On=S.createContext({outlet:null,matches:[],isDataRoute:!1}),y_=S.createContext(null);function pI(e,t){let{relative:n}=t===void 0?{}:t;Qi()||Le(!1);let{basename:r,navigator:i}=S.useContext(br),{hash:s,pathname:o,search:a}=fd(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:tr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Qi(){return S.useContext(tu)!=null}function Gi(){return Qi()||Le(!1),S.useContext(tu).location}function v_(e){S.useContext(br).static||S.useLayoutEffect(e)}function __(){let{isDataRoute:e}=S.useContext(On);return e?PI():mI()}function mI(){Qi()||Le(!1);let e=S.useContext(hd),{basename:t,navigator:n}=S.useContext(br),{matches:r}=S.useContext(On),{pathname:i}=Gi(),s=JSON.stringify(ud(r).map(l=>l.pathnameBase)),o=S.useRef(!1);return v_(()=>{o.current=!0}),S.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=cd(l,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:tr([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,s,i,e])}function gI(){let{matches:e}=S.useContext(On),t=e[e.length-1];return t?t.params:{}}function fd(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=S.useContext(On),{pathname:i}=Gi(),s=JSON.stringify(ud(r).map(o=>o.pathnameBase));return S.useMemo(()=>cd(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function yI(e,t){return vI(e,t)}function vI(e,t,n){Qi()||Le(!1);let{navigator:r}=S.useContext(br),{matches:i}=S.useContext(On),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Gi(),u;if(t){var c;let _=typeof t=="string"?Ki(t):t;a==="/"||(c=_.pathname)!=null&&c.startsWith(a)||Le(!1),u=_}else u=l;let h=u.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",m=WT(e,{pathname:f}),v=II(m&&m.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:tr([a,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:tr([a,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n);return t&&v?S.createElement(tu.Provider,{value:{location:dl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:bn.Pop}},v):v}function _I(){let e=RI(),t=fI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,s)}const EI=S.createElement(_I,null);class wI extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?S.createElement(On.Provider,{value:this.props.routeContext},S.createElement(y_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TI(e){let{routeContext:t,match:n,children:r}=e,i=S.useContext(hd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(On.Provider,{value:t},r)}function II(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Le(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||EI);let f=t.concat(s.slice(0,u+1)),m=()=>{let v;return c?v=h:l.route.Component?v=S.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=a,S.createElement(TI,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:v})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?S.createElement(wI,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}var E_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(E_||{}),pl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pl||{});function SI(e){let t=S.useContext(hd);return t||Le(!1),t}function CI(e){let t=S.useContext(g_);return t||Le(!1),t}function AI(e){let t=S.useContext(On);return t||Le(!1),t}function w_(e){let t=AI(),n=t.matches[t.matches.length-1];return n.route.id||Le(!1),n.route.id}function RI(){var e;let t=S.useContext(y_),n=CI(pl.UseRouteError),r=w_(pl.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function PI(){let{router:e}=SI(E_.UseNavigateStable),t=w_(pl.UseNavigateStable),n=S.useRef(!1);return v_(()=>{n.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,dl({fromRouteId:t},s)))},[e,t])}function kI(e){let{to:t,replace:n,state:r,relative:i}=e;Qi()||Le(!1);let{matches:s}=S.useContext(On),{pathname:o}=Gi(),a=__(),l=cd(t,ud(s).map(c=>c.pathnameBase),o,i==="path"),u=JSON.stringify(l);return S.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:i}),[a,u,i,n,r]),null}function Ts(e){Le(!1)}function xI(e){let{basename:t="/",children:n=null,location:r,navigationType:i=bn.Pop,navigator:s,static:o=!1}=e;Qi()&&Le(!1);let a=t.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Ki(r));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:m="default"}=r,v=S.useMemo(()=>{let _=ld(u,a);return _==null?null:{location:{pathname:_,search:c,hash:h,state:f,key:m},navigationType:i}},[a,u,c,h,f,m,i]);return v==null?null:S.createElement(br.Provider,{value:l},S.createElement(tu.Provider,{children:n,value:v}))}function VI(e){let{children:t,location:n}=e;return yI(Lh(t),n)}new Promise(()=>{});function Lh(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(r,i)=>{if(!S.isValidElement(r))return;let s=[...t,i];if(r.type===S.Fragment){n.push.apply(n,Lh(r.props.children,s));return}r.type!==Ts&&Le(!1),!r.props.index||!r.props.children||Le(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Lh(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ml.apply(this,arguments)}function T_(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function NI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function DI(e,t){return e.button===0&&(!t||t==="_self")&&!NI(e)}const LI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],OI=["aria-current","caseSensitive","className","end","style","to","children"],MI="startTransition",Lm=NE[MI];function FI(e){let{basename:t,children:n,future:r,window:i}=e,s=S.useRef();s.current==null&&(s.current=bT({window:i,v5Compat:!0}));let o=s.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=S.useCallback(h=>{u&&Lm?Lm(()=>l(h)):l(h)},[l,u]);return S.useLayoutEffect(()=>o.listen(c),[o,c]),S.createElement(xI,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o})}const $I=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nu=S.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=t,h=T_(t,LI),{basename:f}=S.useContext(br),m,v=!1;if(typeof u=="string"&&UI.test(u)&&(m=u,$I))try{let d=new URL(window.location.href),g=u.startsWith("//")?new URL(d.protocol+u):new URL(u),w=ld(g.pathname,f);g.origin===d.origin&&w!=null?u=w+g.search+g.hash:v=!0}catch{}let _=pI(u,{relative:i}),E=jI(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function p(d){r&&r(d),d.defaultPrevented||E(d)}return S.createElement("a",ml({},h,{href:m||_,onClick:v||s?r:p,ref:n,target:l}))}),Om=S.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,children:u}=t,c=T_(t,OI),h=fd(l,{relative:c.relative}),f=Gi(),m=S.useContext(g_),{navigator:v}=S.useContext(br),_=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,E=f.pathname,p=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(E=E.toLowerCase(),p=p?p.toLowerCase():null,_=_.toLowerCase());let d=E===_||!o&&E.startsWith(_)&&E.charAt(_.length)==="/",g=p!=null&&(p===_||!o&&p.startsWith(_)&&p.charAt(_.length)==="/"),w=d?r:void 0,I;typeof s=="function"?I=s({isActive:d,isPending:g}):I=[s,d?"active":null,g?"pending":null].filter(Boolean).join(" ");let V=typeof a=="function"?a({isActive:d,isPending:g}):a;return S.createElement(nu,ml({},c,{"aria-current":w,className:I,ref:n,style:V,to:l}),typeof u=="function"?u({isActive:d,isPending:g}):u)});var Mm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Mm||(Mm={}));var Fm;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Fm||(Fm={}));function jI(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=t===void 0?{}:t,a=__(),l=Gi(),u=fd(e,{relative:o});return S.useCallback(c=>{if(DI(c,n)){c.preventDefault();let h=r!==void 0?r:fl(l)===fl(u);a(e,{replace:h,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,e,s,o])}const BI="_card_31zeg_1",zI={card:BI},bI=({plant:e})=>k.jsxs("article",{className:zI.card,children:[k.jsx("h2",{children:e.name}),k.jsx("img",{src:e.imageLink,alt:e.name}),k.jsxs("p",{children:["Price: $",e.price]}),k.jsx(nu,{to:e.id,children:"See more..."})]}),HI="_container_klp6a_1",qI="_title_klp6a_8",$m={container:HI,title:qI},WI=({plants:e})=>k.jsxs("section",{children:[k.jsxs("h3",{className:$m.title,children:["There are ",e.length," different types of plants available:"]}),k.jsx("div",{className:$m.container,children:e.map(t=>k.jsx(bI,{plant:t},t.id))})]});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},KI=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},S_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[c],n[h],n[f],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(I_(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):KI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new QI;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class QI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GI=function(e){const t=I_(e);return S_.encodeByteArray(t,!0)},gl=function(e){return GI(e).replace(/\./g,"")},YI=function(e){try{return S_.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=()=>XI().__FIREBASE_DEFAULTS__,ZI=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},eS=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&YI(e[1]);return t&&JSON.parse(t)},C_=()=>{try{return JI()||ZI()||eS()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},tS=e=>{var t,n;return(n=(t=C_())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},nS=e=>{const t=tS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},A_=()=>{var e;return(e=C_())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[gl(JSON.stringify(n)),gl(JSON.stringify(o)),a].join(".")}function sS(){try{return typeof indexedDB=="object"}catch{return!1}}function oS(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="FirebaseError";class Yi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=aS,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,R_.prototype.create)}}class R_{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?lS(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Yi(i,a,r)}}function lS(e,t){return e.replace(uS,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const uS=/\{\$([^}]+)}/g;function Oh(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Um(s)&&Um(o)){if(!Oh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Um(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(e){return e&&e._delegate?e._delegate:e}class co{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new rS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(fS(t))try{this.getOrInitializeService({instanceIdentifier:vr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=vr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=vr){return this.instances.has(t)}getOptions(t=vr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hS(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=vr){return this.component?this.component.multipleInstances?t:vr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hS(e){return e===vr?void 0:e}function fS(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new cS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(se||(se={}));const pS={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},mS=se.INFO,gS={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},yS=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=gS[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class P_{constructor(t){this.name=t,this._logLevel=mS,this._logHandler=yS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in se))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?pS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...t),this._logHandler(this,se.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...t),this._logHandler(this,se.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,se.INFO,...t),this._logHandler(this,se.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,se.WARN,...t),this._logHandler(this,se.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...t),this._logHandler(this,se.ERROR,...t)}}const vS=(e,t)=>t.some(n=>e instanceof n);let jm,Bm;function _S(){return jm||(jm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ES(){return Bm||(Bm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k_=new WeakMap,Mh=new WeakMap,x_=new WeakMap,hc=new WeakMap,dd=new WeakMap;function wS(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(nr(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&k_.set(n,e)}).catch(()=>{}),dd.set(t,e),t}function TS(e){if(Mh.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Mh.set(e,t)}let Fh={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Mh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||x_.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function IS(e){Fh=e(Fh)}function SS(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(fc(this),t,...n);return x_.set(r,t.sort?t.sort():[t]),nr(r)}:ES().includes(e)?function(...t){return e.apply(fc(this),t),nr(k_.get(this))}:function(...t){return nr(e.apply(fc(this),t))}}function CS(e){return typeof e=="function"?SS(e):(e instanceof IDBTransaction&&TS(e),vS(e,_S())?new Proxy(e,Fh):e)}function nr(e){if(e instanceof IDBRequest)return wS(e);if(hc.has(e))return hc.get(e);const t=CS(e);return t!==e&&(hc.set(e,t),dd.set(t,e)),t}const fc=e=>dd.get(e);function AS(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=nr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(nr(o.result),l.oldVersion,l.newVersion,nr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const RS=["get","getKey","getAll","getAllKeys","count"],PS=["put","add","delete","clear"],dc=new Map;function zm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(dc.get(t))return dc.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=PS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RS.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return dc.set(t,s),s}IS(e=>({...e,get:(t,n,r)=>zm(t,n)||e.get(t,n,r),has:(t,n)=>!!zm(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xS(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const $h="@firebase/app",bm="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new P_("@firebase/app"),VS="@firebase/app-compat",NS="@firebase/analytics-compat",DS="@firebase/analytics",LS="@firebase/app-check-compat",OS="@firebase/app-check",MS="@firebase/auth",FS="@firebase/auth-compat",$S="@firebase/database",US="@firebase/database-compat",jS="@firebase/functions",BS="@firebase/functions-compat",zS="@firebase/installations",bS="@firebase/installations-compat",HS="@firebase/messaging",qS="@firebase/messaging-compat",WS="@firebase/performance",KS="@firebase/performance-compat",QS="@firebase/remote-config",GS="@firebase/remote-config-compat",YS="@firebase/storage",XS="@firebase/storage-compat",JS="@firebase/firestore",ZS="@firebase/firestore-compat",eC="firebase",tC="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh="[DEFAULT]",nC={[$h]:"fire-core",[VS]:"fire-core-compat",[DS]:"fire-analytics",[NS]:"fire-analytics-compat",[OS]:"fire-app-check",[LS]:"fire-app-check-compat",[MS]:"fire-auth",[FS]:"fire-auth-compat",[$S]:"fire-rtdb",[US]:"fire-rtdb-compat",[jS]:"fire-fn",[BS]:"fire-fn-compat",[zS]:"fire-iid",[bS]:"fire-iid-compat",[HS]:"fire-fcm",[qS]:"fire-fcm-compat",[WS]:"fire-perf",[KS]:"fire-perf-compat",[QS]:"fire-rc",[GS]:"fire-rc-compat",[YS]:"fire-gcs",[XS]:"fire-gcs-compat",[JS]:"fire-fst",[ZS]:"fire-fst-compat","fire-js":"fire-js",[eC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=new Map,jh=new Map;function rC(e,t){try{e.container.addComponent(t)}catch(n){Mr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function vl(e){const t=e.name;if(jh.has(t))return Mr.debug(`There were multiple attempts to register component ${t}.`),!1;jh.set(t,e);for(const n of yl.values())rC(n,e);return!0}function iC(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},rr=new R_("app","Firebase",sC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=tC;function V_(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Uh,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw rr.create("bad-app-name",{appName:String(i)});if(n||(n=A_()),!n)throw rr.create("no-options");const s=yl.get(i);if(s){if(Oh(n,s.options)&&Oh(r,s.config))return s;throw rr.create("duplicate-app",{appName:i})}const o=new dS(i);for(const l of jh.values())o.addComponent(l);const a=new oC(n,r,o);return yl.set(i,a),a}function lC(e=Uh){const t=yl.get(e);if(!t&&e===Uh&&A_())return V_();if(!t)throw rr.create("no-app",{appName:e});return t}function Ii(e,t,n){var r;let i=(r=nC[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Mr.warn(a.join(" "));return}vl(new co(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="firebase-heartbeat-database",cC=1,ho="firebase-heartbeat-store";let pc=null;function N_(){return pc||(pc=AS(uC,cC,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ho)}}}).catch(e=>{throw rr.create("idb-open",{originalErrorMessage:e.message})})),pc}async function hC(e){try{return await(await N_()).transaction(ho).objectStore(ho).get(D_(e))}catch(t){if(t instanceof Yi)Mr.warn(t.message);else{const n=rr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Mr.warn(n.message)}}}async function Hm(e,t){try{const r=(await N_()).transaction(ho,"readwrite");await r.objectStore(ho).put(t,D_(e)),await r.done}catch(n){if(n instanceof Yi)Mr.warn(n.message);else{const r=rr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mr.warn(r.message)}}}function D_(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=1024,dC=30*24*60*60*1e3;class pC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qm();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=dC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=qm(),{heartbeatsToSend:n,unsentEntries:r}=mC(this._heartbeatsCache.heartbeats),i=gl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function qm(){return new Date().toISOString().substring(0,10)}function mC(e,t=fC){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Wm(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Wm(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sS()?oS().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await hC(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Hm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Hm(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Wm(e){return gl(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(e){vl(new co("platform-logger",t=>new kS(t),"PRIVATE")),vl(new co("heartbeat",t=>new pC(t),"PRIVATE")),Ii($h,bm,e),Ii($h,bm,"esm2017"),Ii("fire-js","")}yC("");var vC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O,pd=pd||{},G=vC||self;function ru(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Do(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function _C(e){return Object.prototype.hasOwnProperty.call(e,mc)&&e[mc]||(e[mc]=++EC)}var mc="closure_uid_"+(1e9*Math.random()>>>0),EC=0;function wC(e,t,n){return e.call.apply(e.bind,arguments)}function TC(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function ut(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ut=wC:ut=TC,ut.apply(null,arguments)}function da(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Qe(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function dr(){this.s=this.s,this.o=this.o}var IC=0;dr.prototype.s=!1;dr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),IC!=0)&&_C(this)};dr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const L_=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function md(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Km(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ru(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function ct(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var SC=function(){if(!G.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{G.addEventListener("test",()=>{},t),G.removeEventListener("test",()=>{},t)}catch{}return e}();function fo(e){return/^[\s\xa0]*$/.test(e)}function iu(){var e=G.navigator;return e&&(e=e.userAgent)?e:""}function on(e){return iu().indexOf(e)!=-1}function gd(e){return gd[" "](e),e}gd[" "]=function(){};function CC(e,t){var n=yA;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var AC=on("Opera"),Oi=on("Trident")||on("MSIE"),O_=on("Edge"),Bh=O_||Oi,M_=on("Gecko")&&!(iu().toLowerCase().indexOf("webkit")!=-1&&!on("Edge"))&&!(on("Trident")||on("MSIE"))&&!on("Edge"),RC=iu().toLowerCase().indexOf("webkit")!=-1&&!on("Edge");function F_(){var e=G.document;return e?e.documentMode:void 0}var zh;e:{var gc="",yc=function(){var e=iu();if(M_)return/rv:([^\);]+)(\)|;)/.exec(e);if(O_)return/Edge\/([\d\.]+)/.exec(e);if(Oi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(RC)return/WebKit\/(\S+)/.exec(e);if(AC)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(yc&&(gc=yc?yc[1]:""),Oi){var vc=F_();if(vc!=null&&vc>parseFloat(gc)){zh=String(vc);break e}}zh=gc}var bh;if(G.document&&Oi){var Qm=F_();bh=Qm||parseInt(zh,10)||void 0}else bh=void 0;var PC=bh;function po(e,t){if(ct.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(M_){e:{try{gd(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:kC[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&po.$.h.call(this)}}Qe(po,ct);var kC={2:"touch",3:"pen",4:"mouse"};po.prototype.h=function(){po.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Lo="closure_listenable_"+(1e6*Math.random()|0),xC=0;function VC(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++xC,this.fa=this.ia=!1}function su(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function yd(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function NC(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function $_(e){const t={};for(const n in e)t[n]=e[n];return t}const Gm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U_(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<Gm.length;s++)n=Gm[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ou(e){this.src=e,this.g={},this.h=0}ou.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=qh(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new VC(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function Hh(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=L_(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(su(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function qh(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var vd="closure_lm_"+(1e6*Math.random()|0),_c={};function j_(e,t,n,r,i){if(r&&r.once)return z_(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)j_(e,t[s],n,r,i);return null}return n=wd(n),e&&e[Lo]?e.O(t,n,Do(r)?!!r.capture:!!r,i):B_(e,t,n,!1,r,i)}function B_(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Do(i)?!!i.capture:!!i,a=Ed(e);if(a||(e[vd]=a=new ou(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=DC(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)SC||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(H_(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function DC(){function e(n){return t.call(e.src,e.listener,n)}const t=LC;return e}function z_(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)z_(e,t[s],n,r,i);return null}return n=wd(n),e&&e[Lo]?e.P(t,n,Do(r)?!!r.capture:!!r,i):B_(e,t,n,!0,r,i)}function b_(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)b_(e,t[s],n,r,i);else r=Do(r)?!!r.capture:!!r,n=wd(n),e&&e[Lo]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=qh(s,n,r,i),-1<n&&(su(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Ed(e))&&(t=e.g[t.toString()],e=-1,t&&(e=qh(t,n,r,i)),(n=-1<e?t[e]:null)&&_d(n))}function _d(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Lo])Hh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(H_(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ed(t))?(Hh(n,e),n.h==0&&(n.src=null,t[vd]=null)):su(e)}}}function H_(e){return e in _c?_c[e]:_c[e]="on"+e}function LC(e,t){if(e.fa)e=!0;else{t=new po(t,this);var n=e.listener,r=e.la||e.src;e.ia&&_d(e),e=n.call(r,t)}return e}function Ed(e){return e=e[vd],e instanceof ou?e:null}var Ec="__closure_events_fn_"+(1e9*Math.random()>>>0);function wd(e){return typeof e=="function"?e:(e[Ec]||(e[Ec]=function(t){return e.handleEvent(t)}),e[Ec])}function Ke(){dr.call(this),this.i=new ou(this),this.S=this,this.J=null}Qe(Ke,dr);Ke.prototype[Lo]=!0;Ke.prototype.removeEventListener=function(e,t,n,r){b_(this,e,t,n,r)};function et(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new ct(t,e);else if(t instanceof ct)t.target=t.target||e;else{var i=t;t=new ct(r,e),U_(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=pa(o,r,!0,t)&&i}if(o=t.g=e,i=pa(o,r,!0,t)&&i,i=pa(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=pa(o,r,!1,t)&&i}Ke.prototype.N=function(){if(Ke.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)su(n[r]);delete e.g[t],e.h--}}this.J=null};Ke.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Ke.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function pa(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Hh(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Td=G.JSON.stringify;class OC{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function MC(){var e=Id;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class FC{constructor(){this.h=this.g=null}add(t,n){const r=q_.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var q_=new OC(()=>new $C,e=>e.reset());class $C{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function UC(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function jC(e){G.setTimeout(()=>{throw e},0)}let mo,go=!1,Id=new FC,W_=()=>{const e=G.Promise.resolve(void 0);mo=()=>{e.then(BC)}};var BC=()=>{for(var e;e=MC();){try{e.h.call(e.g)}catch(n){jC(n)}var t=q_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}go=!1};function au(e,t){Ke.call(this),this.h=e||1,this.g=t||G,this.j=ut(this.qb,this),this.l=Date.now()}Qe(au,Ke);O=au.prototype;O.ga=!1;O.T=null;O.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),et(this,"tick"),this.ga&&(Sd(this),this.start()))}};O.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Sd(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}O.N=function(){au.$.N.call(this),Sd(this),delete this.g};function Cd(e,t,n){if(typeof e=="function")n&&(e=ut(e,n));else if(e&&typeof e.handleEvent=="function")e=ut(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:G.setTimeout(e,t||0)}function K_(e){e.g=Cd(()=>{e.g=null,e.i&&(e.i=!1,K_(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class zC extends dr{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:K_(this)}N(){super.N(),this.g&&(G.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yo(e){dr.call(this),this.h=e,this.g={}}Qe(yo,dr);var Ym=[];function Q_(e,t,n,r){Array.isArray(n)||(n&&(Ym[0]=n.toString()),n=Ym);for(var i=0;i<n.length;i++){var s=j_(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function G_(e){yd(e.g,function(t,n){this.g.hasOwnProperty(n)&&_d(t)},e),e.g={}}yo.prototype.N=function(){yo.$.N.call(this),G_(this)};yo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function lu(){this.g=!0}lu.prototype.Ea=function(){this.g=!1};function bC(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function HC(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function mi(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+WC(e,n)+(r?" "+r:"")})}function qC(e,t){e.info(function(){return"TIMEOUT: "+t})}lu.prototype.info=function(){};function WC(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Td(n)}catch{return t}}var Hr={},Xm=null;function uu(){return Xm=Xm||new Ke}Hr.Ta="serverreachability";function Y_(e){ct.call(this,Hr.Ta,e)}Qe(Y_,ct);function vo(e){const t=uu();et(t,new Y_(t))}Hr.STAT_EVENT="statevent";function X_(e,t){ct.call(this,Hr.STAT_EVENT,e),this.stat=t}Qe(X_,ct);function gt(e){const t=uu();et(t,new X_(t,e))}Hr.Ua="timingevent";function J_(e,t){ct.call(this,Hr.Ua,e),this.size=t}Qe(J_,ct);function Oo(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return G.setTimeout(function(){e()},t)}var cu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Z_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ad(){}Ad.prototype.h=null;function Jm(e){return e.h||(e.h=e.i())}function e0(){}var Mo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Rd(){ct.call(this,"d")}Qe(Rd,ct);function Pd(){ct.call(this,"c")}Qe(Pd,ct);var Wh;function hu(){}Qe(hu,Ad);hu.prototype.g=function(){return new XMLHttpRequest};hu.prototype.i=function(){return{}};Wh=new hu;function Fo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new yo(this),this.P=KC,e=Bh?125:void 0,this.V=new au(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new t0}function t0(){this.i=null,this.g="",this.h=!1}var KC=45e3,Kh={},_l={};O=Fo.prototype;O.setTimeout=function(e){this.P=e};function Qh(e,t,n){e.L=1,e.v=du(Vn(t)),e.s=n,e.S=!0,n0(e,null)}function n0(e,t){e.G=Date.now(),$o(e),e.A=Vn(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),c0(n.i,"t",r),e.C=0,n=e.l.J,e.h=new t0,e.g=V0(e.l,n?t:null,!e.s),0<e.O&&(e.M=new zC(ut(e.Pa,e,e.g),e.O)),Q_(e.U,e.g,"readystatechange",e.nb),t=e.I?$_(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),vo(),bC(e.j,e.u,e.A,e.m,e.W,e.s)}O.nb=function(e){e=e.target;const t=this.M;t&&an(e)==3?t.l():this.Pa(e)};O.Pa=function(e){try{if(e==this.g)e:{const c=an(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||Bh||this.g&&(this.h.h||this.g.ja()||ng(this.g)))){this.J||c!=4||t==7||(t==8||0>=h?vo(3):vo(2)),fu(this);var n=this.g.da();this.ca=n;t:if(r0(this)){var r=ng(this.g);e="";var i=r.length,s=an(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ir(this),$s(this);var o="";break t}this.h.i=new G.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,HC(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fo(a)){var u=a;break t}}u=null}if(n=u)mi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gh(this,n);else{this.i=!1,this.o=3,gt(12),Ir(this),$s(this);break e}}this.S?(i0(this,c,o),Bh&&this.i&&c==3&&(Q_(this.U,this.V,"tick",this.mb),this.V.start())):(mi(this.j,this.m,o,null),Gh(this,o)),c==4&&Ir(this),this.i&&!this.J&&(c==4?R0(this.l,this):(this.i=!1,$o(this)))}else pA(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,gt(12)):(this.o=0,gt(13)),Ir(this),$s(this)}}}catch{}finally{}};function r0(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function i0(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=QC(e,n),i==_l){t==4&&(e.o=4,gt(14),r=!1),mi(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Kh){e.o=4,gt(15),mi(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else mi(e.j,e.m,i,null),Gh(e,i);r0(e)&&i!=_l&&i!=Kh&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,gt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ld(t),t.M=!0,gt(11))):(mi(e.j,e.m,n,"[Invalid Chunked Response]"),Ir(e),$s(e))}O.mb=function(){if(this.g){var e=an(this.g),t=this.g.ja();this.C<t.length&&(fu(this),i0(this,e,t),this.i&&e!=4&&$o(this))}};function QC(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?_l:(n=Number(t.substring(n,r)),isNaN(n)?Kh:(r+=1,r+n>t.length?_l:(t=t.slice(r,r+n),e.C=r+n,t)))}O.cancel=function(){this.J=!0,Ir(this)};function $o(e){e.Y=Date.now()+e.P,s0(e,e.P)}function s0(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Oo(ut(e.lb,e),t)}function fu(e){e.B&&(G.clearTimeout(e.B),e.B=null)}O.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(qC(this.j,this.A),this.L!=2&&(vo(),gt(17)),Ir(this),this.o=2,$s(this)):s0(this,this.Y-e)};function $s(e){e.l.H==0||e.J||R0(e.l,e)}function Ir(e){fu(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Sd(e.V),G_(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Gh(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Yh(n.i,e))){if(!e.K&&Yh(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Tl(n),yu(n);else break e;Dd(n),gt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Oo(ut(n.ib,n),6e3));if(1>=d0(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Sr(n,11)}else if((e.K||n.g==e)&&Tl(n),!fo(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=e.g;if(m){const v=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(kd(s,s.h),s.h=null))}if(r.F){const _=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,pe(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=x0(r,r.J?r.pa:null,r.Y),o.K){p0(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(fu(a),$o(a)),r.g=o}else C0(r);0<n.j.length&&vu(n)}else u[0]!="stop"&&u[0]!="close"||Sr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Sr(n,7):Nd(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}vo(4)}catch{}}function GC(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(ru(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function YC(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(ru(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function o0(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(ru(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=YC(e),r=GC(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var a0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XC(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function xr(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof xr){this.h=e.h,El(this,e.j),this.s=e.s,this.g=e.g,wl(this,e.m),this.l=e.l;var t=e.i,n=new _o;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Zm(this,n),this.o=e.o}else e&&(t=String(e).match(a0))?(this.h=!1,El(this,t[1]||"",!0),this.s=Is(t[2]||""),this.g=Is(t[3]||"",!0),wl(this,t[4]),this.l=Is(t[5]||"",!0),Zm(this,t[6]||"",!0),this.o=Is(t[7]||"")):(this.h=!1,this.i=new _o(null,this.h))}xr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ss(t,eg,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Ss(t,eg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Ss(n,n.charAt(0)=="/"?eA:ZC,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ss(n,nA)),e.join("")};function Vn(e){return new xr(e)}function El(e,t,n){e.j=n?Is(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function wl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Zm(e,t,n){t instanceof _o?(e.i=t,rA(e.i,e.h)):(n||(t=Ss(t,tA)),e.i=new _o(t,e.h))}function pe(e,t,n){e.i.set(t,n)}function du(e){return pe(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Is(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ss(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,JC),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function JC(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var eg=/[#\/\?@]/g,ZC=/[#\?:]/g,eA=/[#\?]/g,tA=/[#\?@]/g,nA=/#/g;function _o(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function pr(e){e.g||(e.g=new Map,e.h=0,e.i&&XC(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}O=_o.prototype;O.add=function(e,t){pr(this),this.i=null,e=Xi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function l0(e,t){pr(e),t=Xi(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function u0(e,t){return pr(e),t=Xi(e,t),e.g.has(t)}O.forEach=function(e,t){pr(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};O.ta=function(){pr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};O.Z=function(e){pr(this);let t=[];if(typeof e=="string")u0(this,e)&&(t=t.concat(this.g.get(Xi(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};O.set=function(e,t){return pr(this),this.i=null,e=Xi(this,e),u0(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};O.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function c0(e,t,n){l0(e,t),0<n.length&&(e.i=null,e.g.set(Xi(e,t),md(n)),e.h+=n.length)}O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Xi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function rA(e,t){t&&!e.j&&(pr(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(l0(this,r),c0(this,i,n))},e)),e.j=t}var iA=class{constructor(e,t){this.g=e,this.map=t}};function h0(e){this.l=e||sA,G.PerformanceNavigationTiming?(e=G.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(G.g&&G.g.Ka&&G.g.Ka()&&G.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sA=10;function f0(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function d0(e){return e.h?1:e.g?e.g.size:0}function Yh(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function kd(e,t){e.g?e.g.add(t):e.h=t}function p0(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}h0.prototype.cancel=function(){if(this.i=m0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function m0(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return md(e.i)}var oA=class{stringify(e){return G.JSON.stringify(e,void 0)}parse(e){return G.JSON.parse(e,void 0)}};function aA(){this.g=new oA}function lA(e,t,n){const r=n||"";try{o0(e,function(i,s){let o=i;Do(i)&&(o=Td(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function uA(e,t){const n=new lu;if(G.Image){const r=new Image;r.onload=da(ma,n,r,"TestLoadImage: loaded",!0,t),r.onerror=da(ma,n,r,"TestLoadImage: error",!1,t),r.onabort=da(ma,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=da(ma,n,r,"TestLoadImage: timeout",!1,t),G.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function ma(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function pu(e){this.l=e.ec||null,this.j=e.ob||!1}Qe(pu,Ad);pu.prototype.g=function(){return new mu(this.l,this.j)};pu.prototype.i=function(e){return function(){return e}}({});function mu(e,t){Ke.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=xd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qe(mu,Ke);var xd=0;O=mu.prototype;O.open=function(e,t){if(this.readyState!=xd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Eo(this)};O.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||G).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Uo(this)),this.readyState=xd};O.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Eo(this)),this.g&&(this.readyState=3,Eo(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof G.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;g0(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function g0(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}O.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Uo(this):Eo(this),this.readyState==3&&g0(this)}};O.Za=function(e){this.g&&(this.response=this.responseText=e,Uo(this))};O.Ya=function(e){this.g&&(this.response=e,Uo(this))};O.ka=function(){this.g&&Uo(this)};function Uo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Eo(e)}O.setRequestHeader=function(e,t){this.v.append(e,t)};O.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};O.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Eo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var cA=G.JSON.parse;function xe(e){Ke.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=y0,this.L=this.M=!1}Qe(xe,Ke);var y0="",hA=/^https?$/i,fA=["POST","PUT"];O=xe.prototype;O.Oa=function(e){this.M=e};O.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Wh.g(),this.C=this.u?Jm(this.u):Jm(Wh),this.g.onreadystatechange=ut(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){tg(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=G.FormData&&e instanceof G.FormData,!(0<=L_(fA,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{E0(this),0<this.B&&((this.L=dA(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ut(this.ua,this)):this.A=Cd(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){tg(this,s)}};function dA(e){return Oi&&typeof e.timeout=="number"&&e.ontimeout!==void 0}O.ua=function(){typeof pd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,et(this,"timeout"),this.abort(8))};function tg(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,v0(e),gu(e)}function v0(e){e.F||(e.F=!0,et(e,"complete"),et(e,"error"))}O.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,et(this,"complete"),et(this,"abort"),gu(this))};O.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gu(this,!0)),xe.$.N.call(this)};O.La=function(){this.s||(this.G||this.v||this.l?_0(this):this.kb())};O.kb=function(){_0(this)};function _0(e){if(e.h&&typeof pd<"u"&&(!e.C[1]||an(e)!=4||e.da()!=2)){if(e.v&&an(e)==4)Cd(e.La,0,e);else if(et(e,"readystatechange"),an(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(a0)[1]||null;!i&&G.self&&G.self.location&&(i=G.self.location.protocol.slice(0,-1)),r=!hA.test(i?i.toLowerCase():"")}n=r}if(n)et(e,"complete"),et(e,"success");else{e.m=6;try{var s=2<an(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",v0(e)}}finally{gu(e)}}}}function gu(e,t){if(e.g){E0(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||et(e,"ready");try{n.onreadystatechange=r}catch{}}}function E0(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(G.clearTimeout(e.A),e.A=null)}O.isActive=function(){return!!this.g};function an(e){return e.g?e.g.readyState:0}O.da=function(){try{return 2<an(this)?this.g.status:-1}catch{return-1}};O.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};O.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),cA(t)}};function ng(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case y0:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function pA(e){const t={};e=(e.g&&2<=an(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(fo(e[r]))continue;var n=UC(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}NC(t,function(r){return r.join(", ")})}O.Ia=function(){return this.m};O.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function w0(e){let t="";return yd(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Vd(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=w0(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):pe(e,t,n))}function ds(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function T0(e){this.Ga=0,this.j=[],this.l=new lu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ds("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ds("baseRetryDelayMs",5e3,e),this.hb=ds("retryDelaySeedMs",1e4,e),this.eb=ds("forwardChannelMaxRetries",2,e),this.xa=ds("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new h0(e&&e.concurrentRequestLimit),this.Ja=new aA,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}O=T0.prototype;O.ra=8;O.H=1;function Nd(e){if(I0(e),e.H==3){var t=e.W++,n=Vn(e.I);if(pe(n,"SID",e.K),pe(n,"RID",t),pe(n,"TYPE","terminate"),jo(e,n),t=new Fo(e,e.l,t),t.L=2,t.v=du(Vn(n)),n=!1,G.navigator&&G.navigator.sendBeacon)try{n=G.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&G.Image&&(new Image().src=t.v,n=!0),n||(t.g=V0(t.l,null),t.g.ha(t.v)),t.G=Date.now(),$o(t)}k0(e)}function yu(e){e.g&&(Ld(e),e.g.cancel(),e.g=null)}function I0(e){yu(e),e.u&&(G.clearTimeout(e.u),e.u=null),Tl(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&G.clearTimeout(e.m),e.m=null)}function vu(e){if(!f0(e.i)&&!e.m){e.m=!0;var t=e.Na;mo||W_(),go||(mo(),go=!0),Id.add(t,e),e.C=0}}function mA(e,t){return d0(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Oo(ut(e.Na,e,t),P0(e,e.C)),e.C++,!0)}O.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Fo(this,this.l,e);let s=this.s;if(this.U&&(s?(s=$_(s),U_(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=S0(this,i,t),n=Vn(this.I),pe(n,"RID",e),pe(n,"CVER",22),this.F&&pe(n,"X-HTTP-Session-Id",this.F),jo(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(w0(s)))+"&"+t:this.o&&Vd(n,this.o,s)),kd(this.i,i),this.bb&&pe(n,"TYPE","init"),this.P?(pe(n,"$req",t),pe(n,"SID","null"),i.aa=!0,Qh(i,n,null)):Qh(i,n,t),this.H=2}}else this.H==3&&(e?rg(this,e):this.j.length==0||f0(this.i)||rg(this))};function rg(e,t){var n;t?n=t.m:n=e.W++;const r=Vn(e.I);pe(r,"SID",e.K),pe(r,"RID",n),pe(r,"AID",e.V),jo(e,r),e.o&&e.s&&Vd(r,e.o,e.s),n=new Fo(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=S0(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),kd(e.i,n),Qh(n,r,t)}function jo(e,t){e.na&&yd(e.na,function(n,r){pe(t,r,n)}),e.h&&o0({},function(n,r){pe(t,r,n)})}function S0(e,t,n){n=Math.min(e.j.length,n);var r=e.h?ut(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{lA(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function C0(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;mo||W_(),go||(mo(),go=!0),Id.add(t,e),e.A=0}}function Dd(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Oo(ut(e.Ma,e),P0(e,e.A)),e.A++,!0)}O.Ma=function(){if(this.u=null,A0(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Oo(ut(this.jb,this),e)}};O.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,gt(10),yu(this),A0(this))};function Ld(e){e.B!=null&&(G.clearTimeout(e.B),e.B=null)}function A0(e){e.g=new Fo(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Vn(e.wa);pe(t,"RID","rpc"),pe(t,"SID",e.K),pe(t,"AID",e.V),pe(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&pe(t,"TO",e.qa),pe(t,"TYPE","xmlhttp"),jo(e,t),e.o&&e.s&&Vd(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=du(Vn(t)),n.s=null,n.S=!0,n0(n,e)}O.ib=function(){this.v!=null&&(this.v=null,yu(this),Dd(this),gt(19))};function Tl(e){e.v!=null&&(G.clearTimeout(e.v),e.v=null)}function R0(e,t){var n=null;if(e.g==t){Tl(e),Ld(e),e.g=null;var r=2}else if(Yh(e.i,t))n=t.F,p0(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=uu(),et(r,new J_(r,n)),vu(e)}else C0(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&mA(e,t)||r==2&&Dd(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Sr(e,5);break;case 4:Sr(e,10);break;case 3:Sr(e,6);break;default:Sr(e,2)}}}function P0(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Sr(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=ut(e.pb,e);n||(n=new xr("//www.google.com/images/cleardot.gif"),G.location&&G.location.protocol=="http"||El(n,"https"),du(n)),uA(n.toString(),r)}else gt(2);e.H=0,e.h&&e.h.za(t),k0(e),I0(e)}O.pb=function(e){e?(this.l.info("Successfully pinged google.com"),gt(2)):(this.l.info("Failed to ping google.com"),gt(1))};function k0(e){if(e.H=0,e.ma=[],e.h){const t=m0(e.i);(t.length!=0||e.j.length!=0)&&(Km(e.ma,t),Km(e.ma,e.j),e.i.i.length=0,md(e.j),e.j.length=0),e.h.ya()}}function x0(e,t,n){var r=n instanceof xr?Vn(n):new xr(n);if(r.g!="")t&&(r.g=t+"."+r.g),wl(r,r.m);else{var i=G.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new xr(null);r&&El(s,r),t&&(s.g=t),i&&wl(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&pe(r,n,t),pe(r,"VER",e.ra),jo(e,r),r}function V0(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new xe(new pu({ob:!0})):new xe(e.va),t.Oa(e.J),t}O.isActive=function(){return!!this.h&&this.h.isActive(this)};function N0(){}O=N0.prototype;O.Ba=function(){};O.Aa=function(){};O.za=function(){};O.ya=function(){};O.isActive=function(){return!0};O.Va=function(){};function Il(){if(Oi&&!(10<=Number(PC)))throw Error("Environmental error: no available transport.")}Il.prototype.g=function(e,t){return new Vt(e,t)};function Vt(e,t){Ke.call(this),this.g=new T0(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!fo(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!fo(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Ji(this)}Qe(Vt,Ke);Vt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;gt(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=x0(e,null,e.Y),vu(e)};Vt.prototype.close=function(){Nd(this.g)};Vt.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Td(e),e=n);t.j.push(new iA(t.fb++,e)),t.H==3&&vu(t)};Vt.prototype.N=function(){this.g.h=null,delete this.j,Nd(this.g),delete this.g,Vt.$.N.call(this)};function D0(e){Rd.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Qe(D0,Rd);function L0(){Pd.call(this),this.status=1}Qe(L0,Pd);function Ji(e){this.g=e}Qe(Ji,N0);Ji.prototype.Ba=function(){et(this.g,"a")};Ji.prototype.Aa=function(e){et(this.g,new D0(e))};Ji.prototype.za=function(e){et(this.g,new L0)};Ji.prototype.ya=function(){et(this.g,"b")};function gA(){this.blockSize=-1}function en(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Qe(en,gA);en.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function wc(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}en.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)wc(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){wc(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){wc(this,r),i=0;break}}this.h=i,this.i+=t};en.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function he(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var yA={};function Od(e){return-128<=e&&128>e?CC(e,function(t){return new he([t|0],0>t?-1:0)}):new he([e|0],0>e?-1:0)}function ln(e){if(isNaN(e)||!isFinite(e))return Si;if(0>e)return Je(ln(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Xh;return new he(t,0)}function O0(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Je(O0(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ln(Math.pow(t,8)),r=Si,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=ln(Math.pow(t,s)),r=r.R(s).add(ln(o))):(r=r.R(n),r=r.add(ln(o)))}return r}var Xh=4294967296,Si=Od(0),Jh=Od(1),ig=Od(16777216);O=he.prototype;O.ea=function(){if($t(this))return-Je(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Xh+r)*t,t*=Xh}return e};O.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(In(this))return"0";if($t(this))return"-"+Je(this).toString(e);for(var t=ln(Math.pow(e,6)),n=this,r="";;){var i=Cl(n,t).g;n=Sl(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,In(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};O.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function In(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function $t(e){return e.h==-1}O.X=function(e){return e=Sl(this,e),$t(e)?-1:In(e)?0:1};function Je(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new he(n,~e.h).add(Jh)}O.abs=function(){return $t(this)?Je(this):this};O.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new he(n,n[n.length-1]&-2147483648?-1:0)};function Sl(e,t){return e.add(Je(t))}O.R=function(e){if(In(this)||In(e))return Si;if($t(this))return $t(e)?Je(this).R(Je(e)):Je(Je(this).R(e));if($t(e))return Je(this.R(Je(e)));if(0>this.X(ig)&&0>e.X(ig))return ln(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=o*l,ga(n,2*r+2*i),n[2*r+2*i+1]+=s*l,ga(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,ga(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,ga(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new he(n,0)};function ga(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ps(e,t){this.g=e,this.h=t}function Cl(e,t){if(In(t))throw Error("division by zero");if(In(e))return new ps(Si,Si);if($t(e))return t=Cl(Je(e),t),new ps(Je(t.g),Je(t.h));if($t(t))return t=Cl(e,Je(t)),new ps(Je(t.g),t.h);if(30<e.g.length){if($t(e)||$t(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Jh,r=t;0>=r.X(e);)n=sg(n),r=sg(r);var i=Yr(n,1),s=Yr(r,1);for(r=Yr(r,2),n=Yr(n,2);!In(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Yr(r,1),n=Yr(n,1)}return t=Sl(e,i.R(t)),new ps(i,t)}for(i=Si;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=ln(n),o=s.R(t);$t(o)||0<o.X(e);)n-=r,s=ln(n),o=s.R(t);In(s)&&(s=Jh),i=i.add(s),e=Sl(e,o)}return new ps(i,e)}O.gb=function(e){return Cl(this,e).h};O.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new he(n,this.h&e.h)};O.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new he(n,this.h|e.h)};O.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new he(n,this.h^e.h)};function sg(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new he(n,e.h)}function Yr(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new he(i,e.h)}Il.prototype.createWebChannel=Il.prototype.g;Vt.prototype.send=Vt.prototype.u;Vt.prototype.open=Vt.prototype.m;Vt.prototype.close=Vt.prototype.close;cu.NO_ERROR=0;cu.TIMEOUT=8;cu.HTTP_ERROR=6;Z_.COMPLETE="complete";e0.EventType=Mo;Mo.OPEN="a";Mo.CLOSE="b";Mo.ERROR="c";Mo.MESSAGE="d";Ke.prototype.listen=Ke.prototype.O;xe.prototype.listenOnce=xe.prototype.P;xe.prototype.getLastError=xe.prototype.Sa;xe.prototype.getLastErrorCode=xe.prototype.Ia;xe.prototype.getStatus=xe.prototype.da;xe.prototype.getResponseJson=xe.prototype.Wa;xe.prototype.getResponseText=xe.prototype.ja;xe.prototype.send=xe.prototype.ha;xe.prototype.setWithCredentials=xe.prototype.Oa;en.prototype.digest=en.prototype.l;en.prototype.reset=en.prototype.reset;en.prototype.update=en.prototype.j;he.prototype.add=he.prototype.add;he.prototype.multiply=he.prototype.R;he.prototype.modulo=he.prototype.gb;he.prototype.compare=he.prototype.X;he.prototype.toNumber=he.prototype.ea;he.prototype.toString=he.prototype.toString;he.prototype.getBits=he.prototype.D;he.fromNumber=ln;he.fromString=O0;var vA=function(){return new Il},_A=function(){return uu()},Tc=cu,EA=Z_,wA=Hr,og={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ya=e0,TA=xe,IA=en,Ci=he;const ag="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}st.UNAUTHENTICATED=new st(null),st.GOOGLE_CREDENTIALS=new st("google-credentials-uid"),st.FIRST_PARTY=new st("first-party-uid"),st.MOCK_USER=new st("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zi="10.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new P_("@firebase/firestore");function ms(){return Fr.logLevel}function $(e,...t){if(Fr.logLevel<=se.DEBUG){const n=t.map(Md);Fr.debug(`Firestore (${Zi}): ${e}`,...n)}}function Nn(e,...t){if(Fr.logLevel<=se.ERROR){const n=t.map(Md);Fr.error(`Firestore (${Zi}): ${e}`,...n)}}function Mi(e,...t){if(Fr.logLevel<=se.WARN){const n=t.map(Md);Fr.warn(`Firestore (${Zi}): ${e}`,...n)}}function Md(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(e="Unexpected state"){const t=`FIRESTORE (${Zi}) INTERNAL ASSERTION FAILED: `+e;throw Nn(t),new Error(t)}function ge(e,t){e||Q()}function Z(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends Yi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class SA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(st.UNAUTHENTICATED))}shutdown(){}}class CA{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class AA{constructor(t){this.t=t,this.currentUser=st.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Cn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Cn,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Cn)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string"),new M0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ge(t===null||typeof t=="string"),new st(t)}}class RA{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=st.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class PA{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new RA(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(st.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kA{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xA{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ge(typeof n.token=="string"),this.R=n.token,new kA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{static V(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=VA(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function ae(e,t){return e<t?-1:e>t?1:0}function Fi(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new B(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new B(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new B(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ze.fromMillis(Date.now())}static fromDate(t){return ze.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ae(this.nanoseconds,t.nanoseconds):ae(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.timestamp=t}static fromTimestamp(t){return new X(t)}static min(){return new X(new ze(0,0))}static max(){return new X(new ze(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t,n,r){n===void 0?n=0:n>t.length&&Q(),r===void 0?r=t.length-n:r>t.length-n&&Q(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return wo.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof wo?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Ie extends wo{construct(t,n,r){return new Ie(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new B(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ie(n)}static emptyPath(){return new Ie([])}}const NA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends wo{construct(t,n,r){return new lt(t,n,r)}static isValidIdentifier(t){return NA.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new lt(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new B(A.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new B(A.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new B(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new B(A.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new lt(n)}static emptyPath(){return new lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(t){this.path=t}static fromPath(t){return new q(Ie.fromString(t))}static fromName(t){return new q(Ie.fromString(t).popFirst(5))}static empty(){return new q(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ie.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new q(new Ie(t.slice()))}}function DA(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new ar(i,q.empty(),t)}function LA(e){return new ar(e.readTime,e.key,-1)}class ar{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ar(X.min(),q.empty(),-1)}static max(){return new ar(X.max(),q.empty(),-1)}}function OA(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=q.comparator(e.documentKey,t.documentKey),n!==0?n:ae(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(e){if(e.code!==A.FAILED_PRECONDITION||e.message!==MA)throw e;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new R((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):R.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):R.reject(n)}static resolve(t){return new R((n,r)=>{n(t)})}static reject(t){return new R((n,r)=>{r(t)})}static waitFor(t){return new R((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=R.resolve(!1);for(const r of t)n=n.next(i=>i?R.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new R((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new R((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function zo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Fd.ae=-1;function _u(e){return e==null}function Al(e){return e===0&&1/e==-1/0}function $A(e){return typeof e=="number"&&Number.isInteger(e)&&!Al(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function es(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function $0(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t,n){this.comparator=t,this.root=n||Xe.EMPTY}insert(t,n){return new Re(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new Re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new va(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new va(this.root,t,this.comparator,!1)}getReverseIterator(){return new va(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new va(this.root,t,this.comparator,!0)}}class va{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Xe.RED,this.left=i??Xe.EMPTY,this.right=s??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Xe(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Xe.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const t=this.left.check();if(t!==this.right.check())throw Q();return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(t,n,r,i,s){return this}insert(t,n,r){return new Xe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.comparator=t,this.data=new Re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new ug(this.data.getIterator())}getIteratorFrom(t){return new ug(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof ht)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ht(this.comparator);return n.data=t,n}}class ug{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.fields=t,t.sort(lt.comparator)}static empty(){return new Yt([])}unionWith(t){let n=new ht(lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Yt(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Fi(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new U0("Invalid base64 string: "+s):s}}(t);return new dt(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new dt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ae(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}dt.EMPTY_BYTE_STRING=new dt("");const UA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lr(e){if(ge(!!e),typeof e=="string"){let t=0;const n=UA.exec(e);if(ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Me(e.seconds),nanos:Me(e.nanos)}}function Me(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function $r(e){return typeof e=="string"?dt.fromBase64String(e):dt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ud(e){const t=e.mapValue.fields.__previous_value__;return $d(t)?Ud(t):t}function To(e){const t=lr(e.mapValue.fields.__local_write_time__.timestampValue);return new ze(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(t,n,r,i,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Io{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Io("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Io&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ur(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?$d(e)?4:BA(e)?9007199254740991:10:Q()}function mn(e,t){if(e===t)return!0;const n=Ur(e);if(n!==Ur(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return To(e).isEqual(To(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=lr(i.timestampValue),a=lr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return $r(i.bytesValue).isEqual($r(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Me(i.geoPointValue.latitude)===Me(s.geoPointValue.latitude)&&Me(i.geoPointValue.longitude)===Me(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Me(i.integerValue)===Me(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Me(i.doubleValue),a=Me(s.doubleValue);return o===a?Al(o)===Al(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Fi(e.arrayValue.values||[],t.arrayValue.values||[],mn);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(lg(o)!==lg(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!mn(o[l],a[l])))return!1;return!0}(e,t);default:return Q()}}function So(e,t){return(e.values||[]).find(n=>mn(n,t))!==void 0}function $i(e,t){if(e===t)return 0;const n=Ur(e),r=Ur(t);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=Me(s.integerValue||s.doubleValue),l=Me(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return cg(e.timestampValue,t.timestampValue);case 4:return cg(To(e),To(t));case 5:return ae(e.stringValue,t.stringValue);case 6:return function(s,o){const a=$r(s),l=$r(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ae(a[u],l[u]);if(c!==0)return c}return ae(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=ae(Me(s.latitude),Me(o.latitude));return a!==0?a:ae(Me(s.longitude),Me(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=$i(a[u],l[u]);if(c)return c}return ae(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===_a.mapValue&&o===_a.mapValue)return 0;if(s===_a.mapValue)return 1;if(o===_a.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=ae(l[h],c[h]);if(f!==0)return f;const m=$i(a[l[h]],u[c[h]]);if(m!==0)return m}return ae(l.length,c.length)}(e.mapValue,t.mapValue);default:throw Q()}}function cg(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ae(e,t);const n=lr(e),r=lr(t),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function Ui(e){return Zh(e)}function Zh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=lr(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return $r(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return q.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Zh(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Zh(n.fields[o])}`;return i+"}"}(e.mapValue):Q()}function ef(e){return!!e&&"integerValue"in e}function jd(e){return!!e&&"arrayValue"in e}function hg(e){return!!e&&"nullValue"in e}function fg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ma(e){return!!e&&"mapValue"in e}function Us(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return es(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Us(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Us(e.arrayValue.values[n]);return t}return Object.assign({},e)}function BA(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(t){this.value=t}static empty(){return new Ut({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Ma(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Us(n)}setAll(t){let n=lt.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Us(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());Ma(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return mn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Ma(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){es(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Ut(Us(this.value))}}function j0(e){const t=[];return es(e.fields,(n,r)=>{const i=new lt([n]);if(Ma(r)){const s=j0(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Yt(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new at(t,0,X.min(),X.min(),X.min(),Ut.empty(),0)}static newFoundDocument(t,n,r,i){return new at(t,1,n,X.min(),r,i,0)}static newNoDocument(t,n){return new at(t,2,n,X.min(),X.min(),Ut.empty(),0)}static newUnknownDocument(t,n){return new at(t,3,n,X.min(),X.min(),Ut.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof at&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new at(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t,n){this.position=t,this.inclusive=n}}function dg(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=$i(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function pg(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!mn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t,n="asc"){this.field=t,this.dir=n}}function zA(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{}class je extends B0{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new HA(t,n,r):n==="array-contains"?new KA(t,r):n==="in"?new QA(t,r):n==="not-in"?new GA(t,r):n==="array-contains-any"?new YA(t,r):new je(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new qA(t,r):new WA(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($i(n,this.value)):n!==null&&Ur(this.value)===Ur(n)&&this.matchesComparison($i(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class gn extends B0{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new gn(t,n)}matches(t){return z0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.le(n=>n.isInequality());return t!==null?t.field:null}le(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function z0(e){return e.op==="and"}function b0(e){return bA(e)&&z0(e)}function bA(e){for(const t of e.filters)if(t instanceof gn)return!1;return!0}function tf(e){if(e instanceof je)return e.field.canonicalString()+e.op.toString()+Ui(e.value);if(b0(e))return e.filters.map(t=>tf(t)).join(",");{const t=e.filters.map(n=>tf(n)).join(",");return`${e.op}(${t})`}}function H0(e,t){return e instanceof je?function(r,i){return i instanceof je&&r.op===i.op&&r.field.isEqual(i.field)&&mn(r.value,i.value)}(e,t):e instanceof gn?function(r,i){return i instanceof gn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&H0(o,i.filters[a]),!0):!1}(e,t):void Q()}function q0(e){return e instanceof je?function(n){return`${n.field.canonicalString()} ${n.op} ${Ui(n.value)}`}(e):e instanceof gn?function(n){return n.op.toString()+" {"+n.getFilters().map(q0).join(" ,")+"}"}(e):"Filter"}class HA extends je{constructor(t,n,r){super(t,n,r),this.key=q.fromName(r.referenceValue)}matches(t){const n=q.comparator(t.key,this.key);return this.matchesComparison(n)}}class qA extends je{constructor(t,n){super(t,"in",n),this.keys=W0("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class WA extends je{constructor(t,n){super(t,"not-in",n),this.keys=W0("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function W0(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}class KA extends je{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return jd(n)&&So(n.arrayValue,this.value)}}class QA extends je{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&So(this.value.arrayValue,n)}}class GA extends je{constructor(t,n){super(t,"not-in",n)}matches(t){if(So(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!So(this.value.arrayValue,n)}}class YA extends je{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!jd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>So(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function mg(e,t=null,n=[],r=[],i=null,s=null,o=null){return new XA(e,t,n,r,i,s,o)}function Bd(e){const t=Z(e);if(t.he===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>tf(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),_u(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Ui(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Ui(r)).join(",")),t.he=n}return t.he}function zd(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!zA(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!H0(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!pg(e.startAt,t.startAt)&&pg(e.endAt,t.endAt)}function nf(e){return q.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function JA(e,t,n,r,i,s,o,a){return new Eu(e,t,n,r,i,s,o,a)}function wu(e){return new Eu(e)}function gg(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function ZA(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function eR(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function tR(e){return e.collectionGroup!==null}function Bs(e){const t=Z(e);if(t.Pe===null){t.Pe=[];const n=eR(t),r=ZA(t);if(n!==null&&r===null)n.isKeyField()||t.Pe.push(new js(n)),t.Pe.push(new js(lt.keyField(),"asc"));else{let i=!1;for(const s of t.explicitOrderBy)t.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new js(lt.keyField(),s))}}}return t.Pe}function fn(e){const t=Z(e);return t.Ie||(t.Ie=nR(t,Bs(e))),t.Ie}function nR(e,t){if(e.limitType==="F")return mg(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new js(i.field,s)});const n=e.endAt?new Rl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Rl(e.startAt.position,e.startAt.inclusive):null;return mg(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function rf(e,t,n){return new Eu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Tu(e,t){return zd(fn(e),fn(t))&&e.limitType===t.limitType}function K0(e){return`${Bd(fn(e))}|lt:${e.limitType}`}function ei(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>q0(i)).join(", ")}]`),_u(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ui(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ui(i)).join(",")),`Target(${r})`}(fn(e))}; limitType=${e.limitType})`}function Iu(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Bs(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=dg(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Bs(r),i)||r.endAt&&!function(o,a,l){const u=dg(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Bs(r),i))}(e,t)}function rR(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Q0(e){return(t,n)=>{let r=!1;for(const i of Bs(e)){const s=iR(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function iR(e,t,n){const r=e.field.isKeyField()?q.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?$i(l,u):Q()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){es(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return $0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=new Re(q.comparator);function Dn(){return sR}const G0=new Re(q.comparator);function Cs(...e){let t=G0;for(const n of e)t=t.insert(n.key,n);return t}function Y0(e){let t=G0;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Cr(){return zs()}function X0(){return zs()}function zs(){return new ts(e=>e.toString(),(e,t)=>e.isEqual(t))}const oR=new Re(q.comparator),aR=new ht(q.comparator);function te(...e){let t=aR;for(const n of e)t=t.add(n);return t}const lR=new ht(ae);function uR(){return lR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Al(t)?"-0":t}}function Z0(e){return{integerValue:""+e}}function cR(e,t){return $A(t)?Z0(t):J0(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(){this._=void 0}}function hR(e,t,n){return e instanceof Pl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&$d(s)&&(s=Ud(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof Co?t1(e,t):e instanceof Ao?n1(e,t):function(i,s){const o=e1(i,s),a=yg(o)+yg(i.Te);return ef(o)&&ef(i.Te)?Z0(a):J0(i.serializer,a)}(e,t)}function fR(e,t,n){return e instanceof Co?t1(e,t):e instanceof Ao?n1(e,t):n}function e1(e,t){return e instanceof kl?function(r){return ef(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class Pl extends Su{}class Co extends Su{constructor(t){super(),this.elements=t}}function t1(e,t){const n=r1(t);for(const r of e.elements)n.some(i=>mn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ao extends Su{constructor(t){super(),this.elements=t}}function n1(e,t){let n=r1(t);for(const r of e.elements)n=n.filter(i=>!mn(i,r));return{arrayValue:{values:n}}}class kl extends Su{constructor(t,n){super(),this.serializer=t,this.Te=n}}function yg(e){return Me(e.integerValue||e.doubleValue)}function r1(e){return jd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function dR(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Co&&i instanceof Co||r instanceof Ao&&i instanceof Ao?Fi(r.elements,i.elements,mn):r instanceof kl&&i instanceof kl?mn(r.Te,i.Te):r instanceof Pl&&i instanceof Pl}(e.transform,t.transform)}class pR{constructor(t,n){this.version=t,this.transformResults=n}}class An{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new An}static exists(t){return new An(void 0,t)}static updateTime(t){return new An(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fa(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Cu{}function i1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new o1(e.key,An.none()):new bo(e.key,e.data,An.none());{const n=e.data,r=Ut.empty();let i=new ht(lt.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new qr(e.key,r,new Yt(i.toArray()),An.none())}}function mR(e,t,n){e instanceof bo?function(i,s,o){const a=i.value.clone(),l=_g(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof qr?function(i,s,o){if(!Fa(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=_g(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(s1(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function bs(e,t,n,r){return e instanceof bo?function(s,o,a,l){if(!Fa(s.precondition,o))return a;const u=s.value.clone(),c=Eg(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof qr?function(s,o,a,l){if(!Fa(s.precondition,o))return a;const u=Eg(s.fieldTransforms,l,o),c=o.data;return c.setAll(s1(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(s,o,a){return Fa(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function gR(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=e1(r.transform,i||null);s!=null&&(n===null&&(n=Ut.empty()),n.set(r.field,s))}return n||null}function vg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fi(r,i,(s,o)=>dR(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class bo extends Cu{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qr extends Cu{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function s1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function _g(e,t,n){const r=new Map;ge(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,fR(o,a,n[i]))}return r}function Eg(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,hR(s,o,t))}return r}class o1 extends Cu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yR extends Cu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&mR(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=bs(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=bs(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=X0();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=i1(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),te())}isEqual(t){return this.batchId===t.batchId&&Fi(this.mutations,t.mutations,(n,r)=>vg(n,r))&&Fi(this.baseMutations,t.baseMutations,(n,r)=>vg(n,r))}}class bd{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){ge(t.mutations.length===r.length);let i=function(){return oR}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new bd(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe,ie;function wR(e){switch(e){default:return Q();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function a1(e){if(e===void 0)return Nn("GRPC error has no .code"),A.UNKNOWN;switch(e){case Oe.OK:return A.OK;case Oe.CANCELLED:return A.CANCELLED;case Oe.UNKNOWN:return A.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return A.INTERNAL;case Oe.UNAVAILABLE:return A.UNAVAILABLE;case Oe.UNAUTHENTICATED:return A.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case Oe.NOT_FOUND:return A.NOT_FOUND;case Oe.ALREADY_EXISTS:return A.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return A.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case Oe.ABORTED:return A.ABORTED;case Oe.OUT_OF_RANGE:return A.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return A.UNIMPLEMENTED;case Oe.DATA_LOSS:return A.DATA_LOSS;default:return Q()}}(ie=Oe||(Oe={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=new Ci([4294967295,4294967295],0);function wg(e){const t=TR().encode(e),n=new IA;return n.update(t),new Uint8Array(n.digest())}function Tg(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ci([n,r],0),new Ci([i,s],0)]}class Hd{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new As(`Invalid padding: ${n}`);if(r<0)throw new As(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new As(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new As(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*t.length-n,this.Re=Ci.fromNumber(this.Ae)}Ve(t,n,r){let i=t.add(n.multiply(Ci.fromNumber(r)));return i.compare(IR)===1&&(i=new Ci([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ae===0)return!1;const n=wg(t),[r,i]=Tg(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);if(!this.me(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Hd(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Ae===0)return;const n=wg(t),[r,i]=Tg(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);this.fe(o)}}fe(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class As extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Ho.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Au(X.min(),i,new Re(ae),Dn(),te())}}class Ho{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Ho(r,n,te(),te(),te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t,n,r,i){this.ge=t,this.removedTargetIds=n,this.key=r,this.pe=i}}class l1{constructor(t,n){this.targetId=t,this.ye=n}}class u1{constructor(t,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ig{constructor(){this.we=0,this.Se=Cg(),this.be=dt.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(t){t.approximateByteSize()>0&&(this.Ce=!0,this.be=t)}xe(){let t=te(),n=te(),r=te();return this.Se.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new Ho(this.be,this.De,t,n,r)}Oe(){this.Ce=!1,this.Se=Cg()}Ne(t,n){this.Ce=!0,this.Se=this.Se.insert(t,n)}Be(t){this.Ce=!0,this.Se=this.Se.remove(t)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class SR{constructor(t){this.Qe=t,this.Ke=new Map,this.$e=Dn(),this.Ue=Sg(),this.We=new Re(ae)}Ge(t){for(const n of t.ge)t.pe&&t.pe.isFoundDocument()?this.ze(n,t.pe):this.je(n,t.key,t.pe);for(const n of t.removedTargetIds)this.je(n,t.key,t.pe)}He(t){this.forEachTarget(t,n=>{const r=this.Je(n);switch(t.state){case 0:this.Ye(n)&&r.Me(t.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(t.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(t.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(t.resumeToken));break;default:Q()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(t){const n=t.targetId,r=t.ye.count,i=this.et(n);if(i){const s=i.target;if(nf(s))if(r===0){const o=new q(s.path);this.je(n,o,at.newNoDocument(o,X.min()))}else ge(r===1);else{const o=this.tt(n);if(o!==r){const a=this.nt(t),l=a?this.rt(a,t,o):1;if(l!==0){this.Ze(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,u)}}}}}nt(t){const n=t.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=$r(r).toUint8Array()}catch(l){if(l instanceof U0)return Mi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Hd(o,i,s)}catch(l){return Mi(l instanceof As?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ae===0?null:a}rt(t,n,r){return n.ye.count===r-this.ot(t,n.targetId)?0:2}ot(t,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Qe.st(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.je(n,s,null),i++)}),i}_t(t){const n=new Map;this.Ke.forEach((s,o)=>{const a=this.et(o);if(a){if(s.current&&nf(a.target)){const l=new q(a.target.path);this.$e.get(l)!==null||this.ut(o,l)||this.je(o,l,at.newNoDocument(l,t))}s.Fe&&(n.set(o,s.xe()),s.Oe())}});let r=te();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.et(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(t));const i=new Au(t,n,this.We,this.$e,r);return this.$e=Dn(),this.Ue=Sg(),this.We=new Re(ae),i}ze(t,n){if(!this.Ye(t))return;const r=this.ut(t,n.key)?2:0;this.Je(t).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}je(t,n,r){if(!this.Ye(t))return;const i=this.Je(t);this.ut(t,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(t){this.Ke.delete(t)}tt(t){const n=this.Je(t).xe();return this.Qe.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Le(t){this.Je(t).Le()}Je(t){let n=this.Ke.get(t);return n||(n=new Ig,this.Ke.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new ht(ae),this.Ue=this.Ue.insert(t,n)),n}Ye(t){const n=this.et(t)!==null;return n||$("WatchChangeAggregator","Detected inactive target",t),n}et(t){const n=this.Ke.get(t);return n&&n.ve?null:this.Qe.lt(t)}Ze(t){this.Ke.set(t,new Ig),this.Qe.getRemoteKeysForTarget(t).forEach(n=>{this.je(t,n,null)})}ut(t,n){return this.Qe.getRemoteKeysForTarget(t).has(n)}}function Sg(){return new Re(q.comparator)}function Cg(){return new Re(q.comparator)}const CR=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),AR=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),RR=(()=>({and:"AND",or:"OR"}))();class PR{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function sf(e,t){return e.useProto3Json||_u(t)?t:{value:t}}function xl(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function c1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function kR(e,t){return xl(e,t.toTimestamp())}function dn(e){return ge(!!e),X.fromTimestamp(function(n){const r=lr(n);return new ze(r.seconds,r.nanos)}(e))}function qd(e,t){return function(r){return new Ie(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function h1(e){const t=Ie.fromString(e);return ge(m1(t)),t}function of(e,t){return qd(e.databaseId,t.path)}function Ic(e,t){const n=h1(t);if(n.get(1)!==e.databaseId.projectId)throw new B(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new B(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new q(f1(n))}function af(e,t){return qd(e.databaseId,t)}function xR(e){const t=h1(e);return t.length===4?Ie.emptyPath():f1(t)}function lf(e){return new Ie(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function f1(e){return ge(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Ag(e,t,n){return{name:of(e,t),fields:n.value.mapValue.fields}}function VR(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Q()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(ge(c===void 0||typeof c=="string"),dt.fromBase64String(c||"")):(ge(c===void 0||c instanceof Uint8Array),dt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const c=u.code===void 0?A.UNKNOWN:a1(u.code);return new B(c,u.message||"")}(o);n=new u1(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ic(e,r.document.name),s=dn(r.document.updateTime),o=r.document.createTime?dn(r.document.createTime):X.min(),a=new Ut({mapValue:{fields:r.document.fields}}),l=at.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new $a(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ic(e,r.document),s=r.readTime?dn(r.readTime):X.min(),o=at.newNoDocument(i,s),a=r.removedTargetIds||[];n=new $a([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ic(e,r.document),s=r.removedTargetIds||[];n=new $a([],s,i,null)}else{if(!("filter"in t))return Q();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new ER(i,s),a=r.targetId;n=new l1(a,o)}}return n}function NR(e,t){let n;if(t instanceof bo)n={update:Ag(e,t.key,t.value)};else if(t instanceof o1)n={delete:of(e,t.key)};else if(t instanceof qr)n={update:Ag(e,t.key,t.data),updateMask:BR(t.fieldMask)};else{if(!(t instanceof yR))return Q();n={verify:of(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Pl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Co)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ao)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof kl)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw Q()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:kR(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q()}(e,t.precondition)),n}function DR(e,t){return e&&e.length>0?(ge(t!==void 0),e.map(n=>function(i,s){let o=i.updateTime?dn(i.updateTime):dn(s);return o.isEqual(X.min())&&(o=dn(s)),new pR(o,i.transformResults||[])}(n,t))):[]}function LR(e,t){return{documents:[af(e,t.path)]}}function OR(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=af(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=af(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return p1(gn.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:ti(h.field),direction:$R(h.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=sf(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function MR(e){let t=xR(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ge(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=d1(h);return f instanceof gn&&b0(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(v){return new js(ni(v.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,_u(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new Rl(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new Rl(m,f)}(n.endAt)),JA(t,i,o,s,a,"F",l,u)}function FR(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function d1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ni(n.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ni(n.unaryFilter.field);return je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ni(n.unaryFilter.field);return je.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ni(n.unaryFilter.field);return je.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(e):e.fieldFilter!==void 0?function(n){return je.create(ni(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return gn.create(n.compositeFilter.filters.map(r=>d1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(e):Q()}function $R(e){return CR[e]}function UR(e){return AR[e]}function jR(e){return RR[e]}function ti(e){return{fieldPath:e.canonicalString()}}function ni(e){return lt.fromServerFormat(e.fieldPath)}function p1(e){return e instanceof je?function(n){if(n.op==="=="){if(fg(n.value))return{unaryFilter:{field:ti(n.field),op:"IS_NAN"}};if(hg(n.value))return{unaryFilter:{field:ti(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fg(n.value))return{unaryFilter:{field:ti(n.field),op:"IS_NOT_NAN"}};if(hg(n.value))return{unaryFilter:{field:ti(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ti(n.field),op:UR(n.op),value:n.value}}}(e):e instanceof gn?function(n){const r=n.getFilters().map(i=>p1(i));return r.length===1?r[0]:{compositeFilter:{op:jR(n.op),filters:r}}}(e):Q()}function BR(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function m1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t,n,r,i,s=X.min(),o=X.min(),a=dt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Hn(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Hn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(t){this.ht=t}}function bR(e){const t=MR({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?rf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(){this.an=new qR}addToCollectionParentIndex(t,n){return this.an.add(n),R.resolve()}getCollectionParents(t,n){return R.resolve(this.an.getEntries(n))}addFieldIndex(t,n){return R.resolve()}deleteFieldIndex(t,n){return R.resolve()}deleteAllFieldIndexes(t){return R.resolve()}createTargetIndexes(t,n){return R.resolve()}getDocumentsMatchingTarget(t,n){return R.resolve(null)}getIndexType(t,n){return R.resolve(0)}getFieldIndexes(t,n){return R.resolve([])}getNextCollectionGroupToUpdate(t){return R.resolve(null)}getMinOffset(t,n){return R.resolve(ar.min())}getMinOffsetFromCollectionGroup(t,n){return R.resolve(ar.min())}updateCollectionGroup(t,n,r){return R.resolve()}updateIndexEntries(t,n){return R.resolve()}}class qR{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new ht(Ie.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new ht(Ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static Bn(){return new ji(0)}static Ln(){return new ji(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.changes=new ts(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,at.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&bs(r.mutation,i,Yt.empty(),ze.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,te()).next(()=>r))}getLocalViewOfDocuments(t,n,r=te()){const i=Cr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=Cs();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Cr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,te()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Dn();const o=zs(),a=function(){return zs()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof qr)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),bs(c.mutation,u,c.mutation.getFieldMask(),ze.now())):o.set(u.key,Yt.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new KR(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=zs();let i=new Re((o,a)=>o-a),s=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Yt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||te()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=X0();c.forEach(f=>{if(!s.has(f)){const m=i1(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,h))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):tR(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):R.resolve(Cr());let a=-1,l=s;return o.next(u=>R.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?R.resolve():this.remoteDocumentCache.getEntry(t,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,te())).next(c=>({batchId:a,changes:Y0(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new q(n)).next(r=>{let i=Cs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=Cs();return this.indexManager.getCollectionParents(t,s).next(a=>R.forEach(a,l=>{const u=function(h,f){return new Eu(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,at.newInvalidDocument(c)))});let a=Cs();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&bs(c.mutation,u,Yt.empty(),ze.now()),Iu(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(t){this.serializer=t,this.lr=new Map,this.hr=new Map}getBundleMetadata(t,n){return R.resolve(this.lr.get(n))}saveBundleMetadata(t,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:dn(i.createTime)}}(n)),R.resolve()}getNamedQuery(t,n){return R.resolve(this.hr.get(n))}saveNamedQuery(t,n){return this.hr.set(n.name,function(i){return{name:i.name,query:bR(i.bundledQuery),readTime:dn(i.readTime)}}(n)),R.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.overlays=new Re(q.comparator),this.Pr=new Map}getOverlay(t,n){return R.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Cr();return R.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.It(t,n,s)}),R.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),R.resolve()}getOverlaysForCollection(t,n,r){const i=Cr(),s=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return R.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Re((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Cr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Cr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return R.resolve(a)}It(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _R(n,r));let s=this.Pr.get(n);s===void 0&&(s=te(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(){this.Ir=new ht(He.dr),this.Tr=new ht(He.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(t,n){const r=new He(t,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Rr(new He(t,n))}Vr(t,n){t.forEach(r=>this.removeReference(r,n))}mr(t){const n=new q(new Ie([])),r=new He(n,t),i=new He(n,t+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(t=>this.Rr(t))}Rr(t){this.Ir=this.Ir.delete(t),this.Tr=this.Tr.delete(t)}pr(t){const n=new q(new Ie([])),r=new He(n,t),i=new He(n,t+1);let s=te();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new He(t,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class He{constructor(t,n){this.key=t,this.yr=n}static dr(t,n){return q.comparator(t.key,n.key)||ae(t.yr,n.yr)}static Er(t,n){return ae(t.yr,n.yr)||q.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new ht(He.dr)}checkEmpty(t){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new vR(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Sr=this.Sr.add(new He(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return R.resolve(o)}lookupMutationBatch(t,n){return R.resolve(this.br(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Dr(r),s=i<0?0:i;return R.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(t){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new He(n,0),i=new He(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const a=this.br(o.yr);s.push(a)}),R.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ht(ae);return n.forEach(i=>{const s=new He(i,0),o=new He(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{r=r.add(a.yr)})}),R.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;q.isDocumentKey(s)||(s=s.child(""));const o=new He(new q(s),0);let a=new ht(ae);return this.Sr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.yr)),!0)},o),R.resolve(this.Cr(a))}Cr(t){const n=[];return t.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){ge(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return R.forEach(n.mutations,i=>{const s=new He(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Sr=r})}xn(t){}containsKey(t,n){const r=new He(n,0),i=this.Sr.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,R.resolve()}vr(t,n){return this.Dr(t)}Dr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}br(t){const n=this.Dr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t){this.Fr=t,this.docs=function(){return new Re(q.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():at.newInvalidDocument(n))}getEntries(t,n){let r=Dn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():at.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Dn();const o=n.path,a=new q(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||OA(LA(c),r)<=0||(i.has(c.key)||Iu(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return R.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Q()}Mr(t,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new ZR(this)}getSize(t){return R.resolve(this.size)}}class ZR extends WR{constructor(t){super(),this.ur=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(t,i)):this.ur.removeEntry(r)}),R.waitFor(n)}getFromCache(t,n){return this.ur.getEntry(t,n)}getAllFromCache(t,n){return this.ur.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(t){this.persistence=t,this.Or=new ts(n=>Bd(n),zd),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Nr=0,this.Br=new Wd,this.targetCount=0,this.Lr=ji.Bn()}forEachTarget(t,n){return this.Or.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(t){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return R.resolve(this.Nr)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),R.resolve()}Qn(t){this.Or.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Lr=new ji(n),this.highestTargetId=n),t.sequenceNumber>this.Nr&&(this.Nr=t.sequenceNumber)}addTargetData(t,n){return this.Qn(n),this.targetCount+=1,R.resolve()}updateTargetData(t,n){return this.Qn(n),R.resolve()}removeTargetData(t,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),R.waitFor(s).next(()=>i)}getTargetCount(t){return R.resolve(this.targetCount)}getTargetData(t,n){const r=this.Or.get(n)||null;return R.resolve(r)}addMatchingKeys(t,n,r){return this.Br.Ar(n,r),R.resolve()}removeMatchingKeys(t,n,r){this.Br.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),R.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Br.mr(n),R.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Br.pr(n);return R.resolve(r)}containsKey(t,n){return R.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(t,n){this.kr={},this.overlays={},this.qr=new Fd(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=t(this),this.Kr=new eP(this),this.indexManager=new HR,this.remoteDocumentCache=function(i){return new JR(i)}(r=>this.referenceDelegate.$r(r)),this.serializer=new zR(n),this.Ur=new GR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new YR,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.kr[t.toKey()];return r||(r=new XR(n,this.referenceDelegate),this.kr[t.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(t,n,r){$("MemoryPersistence","Starting transaction:",t);const i=new nP(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(s=>this.referenceDelegate.Gr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zr(t,n){return R.or(Object.values(this.kr).map(r=>()=>r.containsKey(t,n)))}}class nP extends FA{constructor(t){super(),this.currentSequenceNumber=t}}class Kd{constructor(t){this.persistence=t,this.jr=new Wd,this.Hr=null}static Jr(t){return new Kd(t)}get Yr(){if(this.Hr)return this.Hr;throw Q()}addReference(t,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),R.resolve()}removeReference(t,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(t,n){return this.Yr.add(n.toString()),R.resolve()}removeTarget(t,n){this.jr.mr(n.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Yr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Wr(){this.Hr=new Set}Gr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Yr,r=>{const i=q.fromPath(r);return this.Zr(t,i).next(s=>{s||n.removeEntry(i,X.min())})}).next(()=>(this.Hr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Zr(t,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(t){return 0}Zr(t,n){return R.or([()=>R.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.zr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Qi=r,this.Ki=i}static $i(t,n){let r=te(),i=te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Qd(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(t,n){this.ji=t,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.Hi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ji(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new rP;return this.Yi(t,n,o).next(a=>{if(s.result=a,this.Wi)return this.Zi(t,n,o,a.size)})}).next(()=>s.result)}Zi(t,n,r,i){return r.documentReadCount<this.Gi?(ms()<=se.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",ei(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),R.resolve()):(ms()<=se.DEBUG&&$("QueryEngine","Query:",ei(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(ms()<=se.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",ei(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fn(n))):R.resolve())}Hi(t,n){if(gg(n))return R.resolve(null);let r=fn(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rf(n,null,"F"),r=fn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=te(...s);return this.ji.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Xi(n,a);return this.es(n,u,o,l.readTime)?this.Hi(t,rf(n,null,"F")):this.ts(t,u,n,l)}))})))}Ji(t,n,r,i){return gg(n)||i.isEqual(X.min())?R.resolve(null):this.ji.getDocuments(t,r).next(s=>{const o=this.Xi(n,s);return this.es(n,o,r,i)?R.resolve(null):(ms()<=se.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ei(n)),this.ts(t,o,n,DA(i,-1)).next(a=>a))})}Xi(t,n){let r=new ht(Q0(t));return n.forEach((i,s)=>{Iu(t,s)&&(r=r.add(s))}),r}es(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Yi(t,n,r){return ms()<=se.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",ei(n)),this.ji.getDocumentsMatchingQuery(t,n,ar.min(),r)}ts(t,n,r,i){return this.ji.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(t,n,r,i){this.persistence=t,this.ns=n,this.serializer=i,this.rs=new Re(ae),this.ss=new ts(s=>Bd(s),zd),this.os=new Map,this._s=t.getRemoteDocumentCache(),this.Kr=t.getTargetCache(),this.Ur=t.getBundleCache(),this.us(r)}us(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new QR(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.rs))}}function oP(e,t,n,r){return new sP(e,t,n,r)}async function g1(e,t){const n=Z(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.us(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=te();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({cs:u,removedBatchIds:o,addedBatchIds:a}))})})}function aP(e,t){const n=Z(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n._s.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let m=R.resolve();return f.forEach(v=>{m=m.next(()=>c.getEntry(l,v)).next(_=>{const E=u.docVersions.get(v);ge(E!==null),_.version.compareTo(E)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=te();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function y1(e){const t=Z(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Kr.getLastRemoteSnapshotVersion(n))}function lP(e,t){const n=Z(e),r=t.snapshotVersion;let i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;const a=[];t.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Kr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Kr.addMatchingKeys(s,c.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(h)!==null?m=m.withResumeToken(dt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(h,m),function(_,E,p){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size>0}(f,m,c)&&a.push(n.Kr.updateTargetData(s,m))});let l=Dn(),u=te();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(uP(s,o,t.documentUpdates).next(c=>{l=c.ls,u=c.hs})),!r.isEqual(X.min())){const c=n.Kr.getLastRemoteSnapshotVersion(s).next(h=>n.Kr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return R.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.rs=i,s))}function uP(e,t,n){let r=te(),i=te();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Dn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(X.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ls:o,hs:i}})}function cP(e,t){const n=Z(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function hP(e,t){const n=Z(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Kr.getTargetData(r,t).next(s=>s?(i=s,R.resolve(i)):n.Kr.allocateTargetId(r).next(o=>(i=new Hn(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.rs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(t,r.targetId)),r})}async function uf(e,t,n){const r=Z(e),i=r.rs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!zo(o))throw o;$("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.rs=r.rs.remove(t),r.ss.delete(i.target)}function Rg(e,t,n){const r=Z(e);let i=X.min(),s=te();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=Z(l),f=h.ss.get(c);return f!==void 0?R.resolve(h.rs.get(f)):h.Kr.getTargetData(u,c)}(r,o,fn(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ns.getDocumentsMatchingQuery(o,t,n?i:X.min(),n?s:te())).next(a=>(fP(r,rR(t),a),{documents:a,Ps:s})))}function fP(e,t,n){let r=e.os.get(t)||X.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.os.set(t,r)}class Pg{constructor(){this.activeTargetIds=uR()}Rs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}As(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class dP{constructor(){this.ro=new Pg,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.ro.Rs(t),this.io[t]||"not-current"}updateQueryState(t,n,r){this.io[t]=n}removeLocalQueryTarget(t){this.ro.Vs(t)}isLocalQueryTarget(t){return this.ro.activeTargetIds.has(t)}clearQueryState(t){delete this.io[t]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(t){return this.ro.activeTargetIds.has(t)}start(){return this.ro=new Pg,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{so(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(t){this.co.push(t)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.co)t(0)}uo(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.co)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ea=null;function Sc(){return Ea===null?Ea=function(){return 268435456+Math.round(2147483648*Math.random())}():Ea++,"0x"+Ea.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(t){this.ho=t.ho,this.Po=t.Po}Io(t){this.To=t}Eo(t){this.Ao=t}onMessage(t){this.Ro=t}close(){this.Po()}send(t){this.ho(t)}Vo(){this.To()}mo(t){this.Ao(t)}fo(t){this.Ro(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it="WebChannelConnection";class yP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get So(){return!1}bo(n,r,i,s,o){const a=Sc(),l=this.Do(n,r);$("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(u,s,o),this.vo(n,l,u,i).then(c=>($("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Mi("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Fo(n,r,i,s,o,a){return this.bo(n,r,i,s,o)}Co(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zi}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Do(n,r){const i=mP[n];return`${this.po}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,r,i){const s=Sc();return new Promise((o,a)=>{const l=new TA;l.setWithCredentials(!0),l.listenOnce(EA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Tc.NO_ERROR:const c=l.getResponseJson();$(it,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case Tc.TIMEOUT:$(it,`RPC '${t}' ${s} timed out`),a(new B(A.DEADLINE_EXCEEDED,"Request time out"));break;case Tc.HTTP_ERROR:const h=l.getStatus();if($(it,`RPC '${t}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const v=function(E){const p=E.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(p)>=0?p:A.UNKNOWN}(m.status);a(new B(v,m.message))}else a(new B(A.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new B(A.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{$(it,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);$(it,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Mo(t,n,r){const i=Sc(),s=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=vA(),a=_A(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Co(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");$(it,`Creating RPC '${t}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,m=!1;const v=new gP({ho:E=>{m?$(it,`Not sending because RPC '${t}' stream ${i} is closed:`,E):(f||($(it,`Opening RPC '${t}' stream ${i} transport.`),h.open(),f=!0),$(it,`RPC '${t}' stream ${i} sending:`,E),h.send(E))},Po:()=>h.close()}),_=(E,p,d)=>{E.listen(p,g=>{try{d(g)}catch(w){setTimeout(()=>{throw w},0)}})};return _(h,ya.EventType.OPEN,()=>{m||$(it,`RPC '${t}' stream ${i} transport opened.`)}),_(h,ya.EventType.CLOSE,()=>{m||(m=!0,$(it,`RPC '${t}' stream ${i} transport closed`),v.mo())}),_(h,ya.EventType.ERROR,E=>{m||(m=!0,Mi(it,`RPC '${t}' stream ${i} transport errored:`,E),v.mo(new B(A.UNAVAILABLE,"The operation could not be completed")))}),_(h,ya.EventType.MESSAGE,E=>{var p;if(!m){const d=E.data[0];ge(!!d);const g=d,w=g.error||((p=g[0])===null||p===void 0?void 0:p.error);if(w){$(it,`RPC '${t}' stream ${i} received error:`,w);const I=w.status;let V=function(J){const z=Oe[J];if(z!==void 0)return a1(z)}(I),D=w.message;V===void 0&&(V=A.INTERNAL,D="Unknown error status: "+I+" with message "+w.message),m=!0,v.mo(new B(V,D)),h.close()}else $(it,`RPC '${t}' stream ${i} received:`,d),v.fo(d)}}),_(a,wA.STAT_EVENT,E=>{E.stat===og.PROXY?$(it,`RPC '${t}' stream ${i} detected buffering proxy`):E.stat===og.NOPROXY&&$(it,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Vo()},0),v}}function Cc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(e){return new PR(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(t,n,r=1e3,i=1.5,s=6e4){this._i=t,this.timerId=n,this.xo=r,this.Oo=i,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(t){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),t())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(t,n,r,i,s,o,a,l){this._i=t,this.Uo=r,this.Wo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new v1(t,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(t){this.r_(),this.stream.send(t)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(t,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,t!==4?this.Ho.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(Nn(n.toString()),Nn("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const t=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===n&&this.__(r,i)},r=>{t(()=>{const i=new B(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(t,n){const r=this.o_(this.Go);this.stream=this.u_(t,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(t){return $("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}o_(t){return n=>{this._i.enqueueAndForget(()=>this.Go===t?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vP extends _1{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}u_(t,n){return this.connection.Mo("Listen",t,n)}onMessage(t){this.Ho.reset();const n=VR(this.serializer,t),r=function(s){if(!("targetChange"in s))return X.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?X.min():o.readTime?dn(o.readTime):X.min()}(t);return this.listener.c_(n,r)}l_(t){const n={};n.database=lf(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=nf(l)?{documents:LR(s,l)}:{query:OR(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=c1(s,o.resumeToken);const u=sf(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(X.min())>0){a.readTime=xl(s,o.snapshotVersion.toTimestamp());const u=sf(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=FR(this.serializer,t);r&&(n.labels=r),this.n_(n)}h_(t){const n={};n.database=lf(this.serializer),n.removeTarget=t,this.n_(n)}}class _P extends _1{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(t,n){return this.connection.Mo("Write",t,n)}onMessage(t){if(ge(!!t.streamToken),this.lastStreamToken=t.streamToken,this.P_){this.Ho.reset();const n=DR(t.writeResults,t.commitTime),r=dn(t.commitTime);return this.listener.T_(r,n)}return ge(!t.writeResults||t.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const t={};t.database=lf(this.serializer),this.n_(t)}d_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>NR(this.serializer,r))};this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new B(A.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.bo(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new B(A.UNKNOWN,i.toString())})}Fo(t,n,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(A.UNKNOWN,s.toString())})}terminate(){this.R_=!0}}class wP{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(t){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.w_("Offline")))}set(t){this.D_(),this.f_=0,t==="Online"&&(this.p_=!1),this.w_(t)}w_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}S_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(Nn(n),this.p_=!1):$("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=s,this.x_.so(o=>{r.enqueueAndForget(async()=>{Wr(this)&&($("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Z(l);u.F_.add(4),await qo(u),u.O_.set("Unknown"),u.F_.delete(4),await Pu(u)}(this))})}),this.O_=new wP(r,i)}}async function Pu(e){if(Wr(e))for(const t of e.M_)await t(!0)}async function qo(e){for(const t of e.M_)await t(!1)}function E1(e,t){const n=Z(e);n.v_.has(t.targetId)||(n.v_.set(t.targetId,t),Xd(n)?Yd(n):ns(n).Yo()&&Gd(n,t))}function w1(e,t){const n=Z(e),r=ns(n);n.v_.delete(t),r.Yo()&&T1(n,t),n.v_.size===0&&(r.Yo()?r.e_():Wr(n)&&n.O_.set("Unknown"))}function Gd(e,t){if(e.N_.Le(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(X.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ns(e).l_(t)}function T1(e,t){e.N_.Le(t),ns(e).h_(t)}function Yd(e){e.N_=new SR({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.v_.get(t)||null,st:()=>e.datastore.serializer.databaseId}),ns(e).start(),e.O_.y_()}function Xd(e){return Wr(e)&&!ns(e).Jo()&&e.v_.size>0}function Wr(e){return Z(e).F_.size===0}function I1(e){e.N_=void 0}async function IP(e){e.v_.forEach((t,n)=>{Gd(e,t)})}async function SP(e,t){I1(e),Xd(e)?(e.O_.b_(t),Yd(e)):e.O_.set("Unknown")}async function CP(e,t,n){if(e.O_.set("Online"),t instanceof u1&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.v_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.v_.delete(a),i.N_.removeTarget(a))}(e,t)}catch(r){$("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Vl(e,r)}else if(t instanceof $a?e.N_.Ge(t):t instanceof l1?e.N_.Xe(t):e.N_.He(t),!n.isEqual(X.min()))try{const r=await y1(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.N_._t(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.v_.get(u);c&&s.v_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.v_.get(l);if(!c)return;s.v_.set(l,c.withResumeToken(dt.EMPTY_BYTE_STRING,c.snapshotVersion)),T1(s,l);const h=new Hn(c.target,l,u,c.sequenceNumber);Gd(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){$("RemoteStore","Failed to raise snapshot:",r),await Vl(e,r)}}async function Vl(e,t,n){if(!zo(t))throw t;e.F_.add(1),await qo(e),e.O_.set("Offline"),n||(n=()=>y1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{$("RemoteStore","Retrying IndexedDB access"),await n(),e.F_.delete(1),await Pu(e)})}function S1(e,t){return t().catch(n=>Vl(e,n,t))}async function ku(e){const t=Z(e),n=ur(t);let r=t.C_.length>0?t.C_[t.C_.length-1].batchId:-1;for(;AP(t);)try{const i=await cP(t.localStore,r);if(i===null){t.C_.length===0&&n.e_();break}r=i.batchId,RP(t,i)}catch(i){await Vl(t,i)}C1(t)&&A1(t)}function AP(e){return Wr(e)&&e.C_.length<10}function RP(e,t){e.C_.push(t);const n=ur(e);n.Yo()&&n.I_&&n.d_(t.mutations)}function C1(e){return Wr(e)&&!ur(e).Jo()&&e.C_.length>0}function A1(e){ur(e).start()}async function PP(e){ur(e).A_()}async function kP(e){const t=ur(e);for(const n of e.C_)t.d_(n.mutations)}async function xP(e,t,n){const r=e.C_.shift(),i=bd.from(r,t,n);await S1(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await ku(e)}async function VP(e,t){t&&ur(e).I_&&await async function(r,i){if(function(o){return wR(o)&&o!==A.ABORTED}(i.code)){const s=r.C_.shift();ur(r).Xo(),await S1(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ku(r)}}(e,t),C1(e)&&A1(e)}async function xg(e,t){const n=Z(e);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");const r=Wr(n);n.F_.add(3),await qo(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.F_.delete(3),await Pu(n)}async function NP(e,t){const n=Z(e);t?(n.F_.delete(2),await Pu(n)):t||(n.F_.add(2),await qo(n),n.O_.set("Unknown"))}function ns(e){return e.B_||(e.B_=function(n,r,i){const s=Z(n);return s.V_(),new vP(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Io:IP.bind(null,e),Eo:SP.bind(null,e),c_:CP.bind(null,e)}),e.M_.push(async t=>{t?(e.B_.Xo(),Xd(e)?Yd(e):e.O_.set("Unknown")):(await e.B_.stop(),I1(e))})),e.B_}function ur(e){return e.L_||(e.L_=function(n,r,i){const s=Z(n);return s.V_(),new _P(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Io:PP.bind(null,e),Eo:VP.bind(null,e),E_:kP.bind(null,e),T_:xP.bind(null,e)}),e.M_.push(async t=>{t?(e.L_.Xo(),await ku(e)):(await e.L_.stop(),e.C_.length>0&&($("RemoteStore",`Stopping write stream with ${e.C_.length} pending writes`),e.C_=[]))})),e.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new Jd(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(A.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zd(e,t){if(Nn("AsyncQueue",`${t}: ${e}`),zo(e))return new B(A.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t){this.comparator=t?(n,r)=>t(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=Cs(),this.sortedSet=new Re(this.comparator)}static emptySet(t){return new Ai(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ai)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Ai;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(){this.k_=new Re(q.comparator)}track(t){const n=t.doc.key,r=this.k_.get(n);r?t.type!==0&&r.type===3?this.k_=this.k_.insert(n,t):t.type===3&&r.type!==1?this.k_=this.k_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.k_=this.k_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.k_=this.k_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.k_=this.k_.remove(n):t.type===1&&r.type===2?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.k_=this.k_.insert(n,{type:2,doc:t.doc}):Q():this.k_=this.k_.insert(n,t)}q_(){const t=[];return this.k_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Bi{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Bi(t,n,Ai.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Tu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(){this.Q_=void 0,this.listeners=[]}}class LP{constructor(){this.queries=new ts(t=>K0(t),Tu),this.onlineState="Unknown",this.K_=new Set}}async function ep(e,t){const n=Z(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new DP),i)try{s.Q_=await n.onListen(r)}catch(o){const a=Zd(o,`Initialization of query '${ei(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.U_(n.onlineState),s.Q_&&t.W_(s.Q_)&&np(n)}async function tp(e,t){const n=Z(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function OP(e,t){const n=Z(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.W_(i)&&(r=!0);o.Q_=i}}r&&np(n)}function MP(e,t,n){const r=Z(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function np(e){e.K_.forEach(t=>{t.next()})}class rp{constructor(t,n,r){this.query=t,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Bi(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.z_?this.H_(t)&&(this.G_.next(t),n=!0):this.J_(t,this.onlineState)&&(this.Y_(t),n=!0),this.j_=t,n}onError(t){this.G_.error(t)}U_(t){this.onlineState=t;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,t)&&(this.Y_(this.j_),n=!0),n}J_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}H_(t){if(t.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(t){t=Bi.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.z_=!0,this.G_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(t){this.key=t}}class P1{constructor(t){this.key=t}}class FP{constructor(t,n){this.query=t,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=te(),this.mutatedKeys=te(),this.ua=Q0(t),this.ca=new Ai(this.ua)}get la(){return this.oa}ha(t,n){const r=n?n.Pa:new Vg,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,h)=>{const f=i.get(c),m=Iu(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;f&&m?f.data.isEqual(m.data)?v!==_&&(r.track({type:3,doc:m}),E=!0):this.Ia(f,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.ua(m,l)>0||u&&this.ua(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),E=!0):f&&!m&&(r.track({type:1,doc:f}),E=!0,(l||u)&&(a=!0)),E&&(m?(o=o.add(m),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,es:a,mutatedKeys:s}}Ia(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.ca;this.ca=t.ca,this.mutatedKeys=t.mutatedKeys;const s=t.Pa.q_();s.sort((u,c)=>function(f,m){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return v(f)-v(m)}(u.type,c.type)||this.ua(u.doc,c.doc)),this.da(r);const o=n?this.Ta():[],a=this.aa.size===0&&this.current?1:0,l=a!==this._a;return this._a=a,s.length!==0||l?{snapshot:new Bi(this.query,t.ca,i,s,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Vg,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(t){return!this.oa.has(t)&&!!this.ca.has(t)&&!this.ca.get(t).hasLocalMutations}da(t){t&&(t.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=t.current)}Ta(){if(!this.current)return[];const t=this.aa;this.aa=te(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return t.forEach(r=>{this.aa.has(r)||n.push(new P1(r))}),this.aa.forEach(r=>{t.has(r)||n.push(new R1(r))}),n}Ra(t){this.oa=t.Ps,this.aa=te();const n=this.ha(t.documents);return this.applyChanges(n,!0)}Va(){return Bi.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class $P{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class UP{constructor(t){this.key=t,this.ma=!1}}class jP{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new ts(a=>K0(a),Tu),this.pa=new Map,this.ya=new Set,this.wa=new Re(q.comparator),this.Sa=new Map,this.ba=new Wd,this.Da={},this.Ca=new Map,this.va=ji.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function BP(e,t){const n=XP(e);let r,i;const s=n.ga.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await hP(n.localStore,fn(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await zP(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&E1(n.remoteStore,o)}return i}async function zP(e,t,n,r,i){e.Ma=(h,f,m)=>async function(_,E,p,d){let g=E.view.ha(p);g.es&&(g=await Rg(_.localStore,E.query,!1).then(({documents:V})=>E.view.ha(V,g)));const w=d&&d.targetChanges.get(E.targetId),I=E.view.applyChanges(g,_.isPrimaryClient,w);return Dg(_,E.targetId,I.Ea),I.snapshot}(e,h,f,m);const s=await Rg(e.localStore,t,!0),o=new FP(t,s.Ps),a=o.ha(s.documents),l=Ho.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);Dg(e,n,u.Ea);const c=new $P(t,n,o);return e.ga.set(t,c),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),u.snapshot}async function bP(e,t){const n=Z(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Tu(s,t))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await uf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),w1(n.remoteStore,r.targetId),cf(n,r.targetId)}).catch(Bo)):(cf(n,r.targetId),await uf(n.localStore,r.targetId,!0))}async function HP(e,t,n){const r=JP(e);try{const i=await function(o,a){const l=Z(o),u=ze.now(),c=a.reduce((m,v)=>m.add(v.key),te());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=Dn(),_=te();return l._s.getEntries(m,c).next(E=>{v=E,v.forEach((p,d)=>{d.isValidDocument()||(_=_.add(p))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(E=>{h=E;const p=[];for(const d of a){const g=gR(d,h.get(d.key).overlayedDocument);g!=null&&p.push(new qr(d.key,g,j0(g.value.mapValue),An.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,p,a)}).next(E=>{f=E;const p=E.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(m,E.batchId,p)})}).then(()=>({batchId:f.batchId,changes:Y0(h)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Da[o.currentUser.toKey()];u||(u=new Re(ae)),u=u.insert(a,l),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),await Wo(r,i.changes),await ku(r.remoteStore)}catch(i){const s=Zd(i,"Failed to persist write");n.reject(s)}}async function k1(e,t){const n=Z(e);try{const r=await lP(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?ge(o.ma):i.removedDocuments.size>0&&(ge(o.ma),o.ma=!1))}),await Wo(n,r,t)}catch(r){await Bo(r)}}function Ng(e,t,n){const r=Z(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Z(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.listeners)f.U_(a)&&(u=!0)}),u&&np(l)}(r.eventManager,t),i.length&&r.fa.c_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function qP(e,t,n){const r=Z(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),s=i&&i.key;if(s){let o=new Re(q.comparator);o=o.insert(s,at.newNoDocument(s,X.min()));const a=te().add(s),l=new Au(X.min(),new Map,new Re(ae),o,a);await k1(r,l),r.wa=r.wa.remove(s),r.Sa.delete(t),ip(r)}else await uf(r.localStore,t,!1).then(()=>cf(r,t,n)).catch(Bo)}async function WP(e,t){const n=Z(e),r=t.batch.batchId;try{const i=await aP(n.localStore,t);V1(n,r,null),x1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wo(n,i)}catch(i){await Bo(i)}}async function KP(e,t,n){const r=Z(e);try{const i=await function(o,a){const l=Z(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(ge(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);V1(r,t,n),x1(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Wo(r,i)}catch(i){await Bo(i)}}function x1(e,t){(e.Ca.get(t)||[]).forEach(n=>{n.resolve()}),e.Ca.delete(t)}function V1(e,t,n){const r=Z(e);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function cf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.mr(t).forEach(r=>{e.ba.containsKey(r)||N1(e,r)})}function N1(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);n!==null&&(w1(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),ip(e))}function Dg(e,t,n){for(const r of n)r instanceof R1?(e.ba.addReference(r.key,t),QP(e,r)):r instanceof P1?($("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||N1(e,r.key)):Q()}function QP(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||($("SyncEngine","New document in limbo: "+n),e.ya.add(r),ip(e))}function ip(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new q(Ie.fromString(t)),r=e.va.next();e.Sa.set(r,new UP(n)),e.wa=e.wa.insert(n,r),E1(e.remoteStore,new Hn(fn(wu(n.path)),r,"TargetPurposeLimboResolution",Fd.ae))}}async function Wo(e,t,n){const r=Z(e),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Qd.$i(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.fa.c_(i),await async function(l,u){const c=Z(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>R.forEach(u,f=>R.forEach(f.Qi,m=>c.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>R.forEach(f.Ki,m=>c.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!zo(h))throw h;$("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=c.rs.get(f),v=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(v);c.rs=c.rs.insert(f,_)}}}(r.localStore,s))}async function GP(e,t){const n=Z(e);if(!n.currentUser.isEqual(t)){$("SyncEngine","User change. New user:",t.toKey());const r=await g1(n.localStore,t);n.currentUser=t,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new B(A.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Wo(n,r.cs)}}function YP(e,t){const n=Z(e),r=n.Sa.get(t);if(r&&r.ma)return te().add(r.key);{let i=te();const s=n.pa.get(t);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function XP(e){const t=Z(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=k1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qP.bind(null,t),t.fa.c_=OP.bind(null,t.eventManager),t.fa.xa=MP.bind(null,t.eventManager),t}function JP(e){const t=Z(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=KP.bind(null,t),t}class Lg{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Ru(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return oP(this.persistence,new iP,t.initialUser,this.serializer)}createPersistence(t){return new tP(Kd.Jr,this.serializer)}createSharedClientState(t){return new dP}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ZP{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ng(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GP.bind(null,this.syncEngine),await NP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new LP}()}createDatastore(t){const n=Ru(t.databaseInfo.databaseId),r=function(s){return new yP(s)}(t.databaseInfo);return function(s,o,a,l){return new EP(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new TP(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Ng(this.syncEngine,n,0),function(){return kg.C()?new kg:new pP}())}createSyncEngine(t,n){return function(i,s,o,a,l,u,c){const h=new jP(i,s,o,a,l,u);return c&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Z(n);$("RemoteStore","RemoteStore shutting down."),r.F_.add(5),await qo(r),r.x_.shutdown(),r.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ba(this.observer.next,t)}error(t){this.observer.error?this.Ba(this.observer.error,t):Nn("Uncaught Error in snapshot listener:",t.toString())}La(){this.muted=!0}Ba(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=st.UNAUTHENTICATED,this.clientId=F0.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{$("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>($("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Zd(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Ac(e,t){e.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await g1(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Og(e,t){e.asyncQueue.verifyOperationInProgress();const n=await nk(e);$("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>xg(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>xg(t.remoteStore,s)),e._onlineComponents=t}function tk(e){return e.name==="FirebaseError"?e.code===A.FAILED_PRECONDITION||e.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function nk(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ac(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!tk(n))throw n;Mi("Error using user provided cache. Falling back to memory cache: "+n),await Ac(e,new Lg)}}else $("FirestoreClient","Using default OfflineComponentProvider"),await Ac(e,new Lg);return e._offlineComponents}async function D1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),await Og(e,e._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),await Og(e,new ZP))),e._onlineComponents}function rk(e){return D1(e).then(t=>t.syncEngine)}async function Nl(e){const t=await D1(e),n=t.eventManager;return n.onListen=BP.bind(null,t.syncEngine),n.onUnlisten=bP.bind(null,t.syncEngine),n}function ik(e,t,n={}){const r=new Cn;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new sp({next:f=>{o.enqueueAndForget(()=>tp(s,h));const m=f.docs.has(a);!m&&f.fromCache?u.reject(new B(A.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?u.reject(new B(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new rp(wu(a.path),c,{includeMetadataChanges:!0,Z_:!0});return ep(s,h)}(await Nl(e),e.asyncQueue,t,n,r)),r.promise}function sk(e,t,n={}){const r=new Cn;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new sp({next:f=>{o.enqueueAndForget(()=>tp(s,h)),f.fromCache&&l.source==="server"?u.reject(new B(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new rp(a,c,{includeMetadataChanges:!0,Z_:!0});return ep(s,h)}(await Nl(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(e,t,n){if(!n)throw new B(A.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ok(e,t,n,r){if(t===!0&&r===!0)throw new B(A.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Fg(e){if(!q.isDocumentKey(e))throw new B(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function $g(e){if(q.isDocumentKey(e))throw new B(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function op(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Q()}function pn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new B(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=op(e);throw new B(A.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new B(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new B(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ok("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L1((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new B(A.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new B(A.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new B(A.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xu{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ug({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new B(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ug(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new SA;switch(r.type){case"firstParty":return new PA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Mg.get(n);r&&($("ComponentProvider","Removing Datastore"),Mg.delete(n),r.terminate())}(this),Promise.resolve()}}function ak(e,t,n,r={}){var i;const s=(e=pn(e,xu))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Mi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=st.MOCK_USER;else{a=iS(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new B(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new st(u)}e._authCredentials=new CA(new M0(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ko(this.firestore,t,this._query)}}class At{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new At(this.firestore,t,this._key)}}class ir extends Ko{constructor(t,n,r){super(t,n,wu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new At(this.firestore,null,new q(t))}withConverter(t){return new ir(this.firestore,t,this._path)}}function M1(e,t,...n){if(e=Li(e),O1("collection","path",t),e instanceof xu){const r=Ie.fromString(t,...n);return $g(r),new ir(e,null,r)}{if(!(e instanceof At||e instanceof ir))throw new B(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ie.fromString(t,...n));return $g(r),new ir(e.firestore,null,r)}}function Vu(e,t,...n){if(e=Li(e),arguments.length===1&&(t=F0.V()),O1("doc","path",t),e instanceof xu){const r=Ie.fromString(t,...n);return Fg(r),new At(e,null,new q(r))}{if(!(e instanceof At||e instanceof ir))throw new B(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ie.fromString(t,...n));return Fg(r),new At(e.firestore,e instanceof ir?e.converter:null,new q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new v1(this,"async_queue_retry"),this.ou=()=>{const n=Cc();n&&$("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const t=Cc();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this._u(),this.au(t)}enterRestrictedMode(t){if(!this.eu){this.eu=!0,this.iu=t||!1;const n=Cc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(t){if(this._u(),this.eu)return new Promise(()=>{});const n=new Cn;return this.au(()=>this.eu&&this.iu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xa.push(t),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(t){if(!zo(t))throw t;$("AsyncQueue","Operation failed with retryable error: "+t)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(t){const n=this.Za.then(()=>(this.ru=!0,t().catch(r=>{this.nu=r,this.ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Nn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(t,n,r){this._u(),this.su.indexOf(t)>-1&&(n=0);const i=Jd.createAndSchedule(this,t,n,r,s=>this.cu(s));return this.tu.push(i),i}_u(){this.nu&&Q()}verifyOperationInProgress(){}async lu(){let t;do t=this.Za,await t;while(t!==this.Za)}hu(t){for(const n of this.tu)if(n.timerId===t)return!0;return!1}Pu(t){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lu()})}Iu(t){this.su.push(t)}cu(t){const n=this.tu.indexOf(t);this.tu.splice(n,1)}}function jg(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class zi extends xu{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new lk}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||F1(this),this._firestoreClient.terminate()}}function uk(e,t){const n=typeof e=="object"?e:lC(),r=typeof e=="string"?e:t||"(default)",i=iC(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=nS("firestore");s&&ak(i,...s)}return i}function Nu(e){return e._firestoreClient||F1(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function F1(e){var t,n,r;const i=e._freezeSettings(),s=function(a,l,u,c){return new jA(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,L1(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new ek(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new bi(dt.fromBase64String(t))}catch(n){throw new B(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new bi(dt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new B(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new B(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new B(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ae(this._lat,t._lat)||ae(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=/^__.*__$/;class hk{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new qr(t,this.data,this.fieldMask,n,this.fieldTransforms):new bo(t,this.data,n,this.fieldTransforms)}}function U1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class up{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.du(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(t){return new up(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Eu({path:r,Ru:!1});return i.Vu(t),i}mu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(t){return this.Eu({path:void 0,Ru:!0})}gu(t){return Dl(t,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vu(this.path.get(t))}Vu(t){if(t.length===0)throw this.gu("Document fields must not be empty");if(U1(this.Tu)&&ck.test(t))throw this.gu('Document fields cannot begin and end with "__"')}}class fk{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ru(t)}wu(t,n,r,i=!1){return new up({Tu:t,methodName:n,yu:r,path:lt.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dk(e){const t=e._freezeSettings(),n=Ru(e._databaseId);return new fk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function pk(e,t,n,r,i,s={}){const o=e.wu(s.merge||s.mergeFields?2:0,t,n,i);b1("Data must be an object, but it was:",o,r);const a=B1(r,o);let l,u;if(s.merge)l=new Yt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=mk(t,h,n);if(!o.contains(f))throw new B(A.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);yk(c,f)||c.push(f)}l=new Yt(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new hk(new Ut(a),l,u)}function j1(e,t){if(z1(e=Li(e)))return b1("Unsupported field value:",t,e),B1(e,t);if(e instanceof $1)return function(r,i){if(!U1(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Ru&&t.Tu!==4)throw t.gu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=j1(a,i.fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Li(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ze.fromDate(r);return{timestampValue:xl(i.serializer,s)}}if(r instanceof ze){const s=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xl(i.serializer,s)}}if(r instanceof lp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bi)return{bytesValue:c1(i.serializer,r._byteString)};if(r instanceof At){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qd(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${op(r)}`)}(e,t)}function B1(e,t){const n={};return $0(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):es(e,(r,i)=>{const s=j1(i,t.Au(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function z1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ze||e instanceof lp||e instanceof bi||e instanceof At||e instanceof $1)}function b1(e,t,n){if(!z1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=op(n);throw r==="an object"?t.gu(e+" a custom object"):t.gu(e+" "+r)}}function mk(e,t,n){if((t=Li(t))instanceof ap)return t._internalPath;if(typeof t=="string")return H1(e,t);throw Dl("Field path arguments must be of type string or ",e,!1,void 0,n)}const gk=new RegExp("[~\\*/\\[\\]]");function H1(e,t,n){if(t.search(gk)>=0)throw Dl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ap(...t.split("."))._internalPath}catch{throw Dl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Dl(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new B(A.INVALID_ARGUMENT,a+e+l)}function yk(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new vk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(W1("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vk extends q1{data(){return super.data()}}function W1(e,t){return typeof t=="string"?H1(e,t):t instanceof ap?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new B(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _k{convertValue(t,n="none"){switch(Ur(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes($r(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Q()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return es(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new lp(Me(t.latitude),Me(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Ud(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(To(t));default:return null}}convertTimestamp(t){const n=lr(t);return new ze(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Ie.fromString(t);ge(m1(r));const i=new Io(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||Nn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Q1 extends q1{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ua(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(W1("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ua extends Q1{data(t={}){return super.data(t)}}class G1{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Rs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Ua(this._firestore,this._userDataWriter,r.key,r,new Rs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Ua(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Rs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Ua(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Rs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:wk(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function wk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(e){e=pn(e,At);const t=pn(e.firestore,zi);return ik(Nu(t),e._key).then(n=>J1(t,e,n))}class cp extends _k{constructor(t){super(),this.firestore=t}convertBytes(t){return new bi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new At(this.firestore,null,n)}}function Tk(e){e=pn(e,Ko);const t=pn(e.firestore,zi),n=Nu(t),r=new cp(t);return K1(e._query),sk(n,e._query).then(i=>new G1(t,r,e,i))}function X1(e,t,n){e=pn(e,At);const r=pn(e.firestore,zi),i=Ek(e.converter,t,n);return Sk(r,[pk(dk(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,An.none())])}function Ik(e,...t){var n,r,i;e=Li(e);let s={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||jg(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(jg(t[o])){const h=t[o];t[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),t[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(e instanceof At)u=pn(e.firestore,zi),c=wu(e._key.path),l={next:h=>{t[o]&&t[o](J1(u,e,h))},error:t[o+1],complete:t[o+2]};else{const h=pn(e,Ko);u=pn(h.firestore,zi),c=h._query;const f=new cp(u);l={next:m=>{t[o]&&t[o](new G1(u,f,h,m))},error:t[o+1],complete:t[o+2]},K1(e._query)}return function(f,m,v,_){const E=new sp(_),p=new rp(m,E,v);return f.asyncQueue.enqueueAndForget(async()=>ep(await Nl(f),p)),()=>{E.La(),f.asyncQueue.enqueueAndForget(async()=>tp(await Nl(f),p))}}(Nu(u),c,a,l)}function Sk(e,t){return function(r,i){const s=new Cn;return r.asyncQueue.enqueueAndForget(async()=>HP(await rk(r),i,s)),s.promise}(Nu(e),t)}function J1(e,t,n){const r=n.docs.get(t._key),i=new cp(e);return new Q1(e,i,t._key,r,new Rs(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){Zi=i})(aC),vl(new co("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new zi(new AA(r.getProvider("auth-internal")),new xA(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new B(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Io(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ii(ag,"4.2.0",t),Ii(ag,"4.2.0","esm2017")})();var Ck="firebase",Ak="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ii(Ck,Ak,"app");const Rk="AIzaSyBNDIceyxKbCNiee3RXEPs3GgYvy22Fle4",Pk={apiKey:Rk,authDomain:"e-commerce-marcela.firebaseapp.com",projectId:"e-commerce-marcela",storageBucket:"e-commerce-marcela.appspot.com",messagingSenderId:"969645449164",appId:"1:969645449164:web:8dd89b8c5d22b163808769"},kk=V_(Pk),rs=uk(kk),xk=async()=>{const e=M1(rs,"shop-items");return(await Tk(e)).docs.map(n=>({id:n.id,...n.data()}))},Vk=async e=>{const t=Vu(rs,"shop-items",e),n=await Y1(t);if(!n.exists())throw new Error("Document not found");return{id:n.id,...n.data()}},Nk=async(e,t)=>{try{await X1(Vu(rs,"shop-items",t),e)}catch(n){throw console.log(n),n}},Dk=e=>{const t=M1(rs,"shop-items");return Ik(t,r=>{const i=r.docs.map(s=>({id:s.id,...s.data()}));e(i)})},Lk="_card_bvtnu_1",Ok="_info_bvtnu_7",Mk="_image_bvtnu_17",Rc={card:Lk,info:Ok,image:Mk},Fk=({plant:e})=>k.jsxs("article",{className:Rc.card,children:[k.jsx("img",{className:Rc.image,src:e.imageLink,alt:e.name}),k.jsxs("div",{className:Rc.info,children:[k.jsx("h3",{children:e.name}),k.jsxs("p",{children:["Price: $",e.price]}),k.jsx(nu,{to:e.id,children:"Open this Item"})]})]}),$k="_container_3ubue_1",Uk="_title_3ubue_19",Pc={container:$k,title:Uk,"slides-buttons":"_slides-buttons_3ubue_25"},jk=({plants:e})=>{const[t,n]=S.useState(0);let r=0;const i=()=>{n(t===0?r:t-1)},s=()=>{n(t===r?0:t+1)};let o=Pc["slides-buttons"];return k.jsxs(k.Fragment,{children:[k.jsx("h2",{className:Pc.title,children:"Top Sellers"}),k.jsxs("div",{className:Pc.container,children:[k.jsx("button",{className:o,onClick:i,children:""}),e.filter(a=>a.favourited).map((a,l)=>{if(r=l,l===t)return k.jsx(Fk,{plant:a},l)}),k.jsx("button",{className:o,onClick:s,children:""})]})]})},Bk="_container_rqhm8_1",zk="_title_rqhm8_8",kc={container:Bk,title:zk,"green-title":"_green-title_rqhm8_16"},bk=()=>{const[e,t]=S.useState([]);S.useEffect(()=>{const r=Dk(t);return()=>r()},[]);let n=kc["green-title"];return k.jsxs("main",{children:[k.jsxs("h1",{className:kc.title,children:["Welcome to ",k.jsx("span",{className:n,children:"Verde"})]}),k.jsxs("div",{className:kc.container,children:[k.jsx(jk,{plants:e}),e.length>0&&k.jsx(WI,{plants:e})]})]})},Z1="1",Hk=async()=>{try{const e=await Y1(Vu(rs,"shopping-cart",Z1));return e.exists()?e.data():{items:[]}}catch(e){throw console.log(e),e}},xc=async e=>{try{await X1(Vu(rs,"shopping-cart",Z1),e)}catch(t){throw console.log(t),t}},Ro=S.createContext(null),qk=({children:e})=>{const[t,n]=S.useState([]),[r,i]=S.useState({items:[]}),s=()=>{xk().then(c=>n(c)).catch(c=>console.log(c))},o=()=>{Hk().then(c=>i(c)).catch(c=>console.log(c))};S.useEffect(()=>{s(),o()},[]);const a=(c,h)=>{const f={...r};h===0?f.items.splice(c,1):f.items[c].quantity=h,i(f),xc(f)},l=()=>{const c={...r};c.items.map(async h=>{const f=h.quantity,m=t.find(p=>p.id===h.plantId),v=m.variants.find(p=>p.id===h.variantId),_=v.quantity;console.log(v);const E=_-f;v.quantity=E,await Nk(m,m.id)}),c.items=[],i(c),xc(c)},u=c=>{const h={...r},f=h.items.find(m=>m.plantId===c.plantId&&m.variantId===c.variantId);f?f.quantity+=1:h.items.push(c),i(h),xc(h)};return k.jsx(Ro.Provider,{value:{plants:t,refreshPlants:s,addItemToShoppingCart:u,shoppingCart:r,updateQuantityInShoppingCart:a,processPayment:l},children:e})};var Qo=e=>e.type==="checkbox",gi=e=>e instanceof Date,mt=e=>e==null;const eE=e=>typeof e=="object";var be=e=>!mt(e)&&!Array.isArray(e)&&eE(e)&&!gi(e),Wk=e=>be(e)&&e.target?Qo(e.target)?e.target.checked:e.target.value:e,Kk=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Qk=(e,t)=>e.has(Kk(t)),Gk=e=>{const t=e.constructor&&e.constructor.prototype;return be(t)&&t.hasOwnProperty("isPrototypeOf")},hp=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function vn(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(hp&&(e instanceof Blob||e instanceof FileList))&&(n||be(e)))if(t=n?[]:{},!n&&!Gk(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=vn(e[r]));else return e;return t}var Go=e=>Array.isArray(e)?e.filter(Boolean):[],Fe=e=>e===void 0,U=(e,t,n)=>{if(!t||!be(e))return n;const r=Go(t.split(/[,[\].]+?/)).reduce((i,s)=>mt(i)?i:i[s],e);return Fe(r)||r===e?Fe(e[t])?n:e[t]:r},Ar=e=>typeof e=="boolean";const Bg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Gt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},yn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};re.createContext(null);var Yk=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==Gt.all&&(t._proxyFormState[o]=!r||Gt.all),n&&(n[o]=!0),e[o]}});return i},Lt=e=>be(e)&&!Object.keys(e).length,Xk=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return Lt(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!r||Gt.all))},Vc=e=>Array.isArray(e)?e:[e];function Jk(e){const t=re.useRef(e);t.current=e,re.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var un=e=>typeof e=="string",Zk=(e,t,n,r,i)=>un(e)?(r&&t.watch.add(e),U(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),U(n,s))):(r&&(t.watchAll=!0),n),fp=e=>/^\w*$/.test(e),tE=e=>Go(e.replace(/["|']|\]/g,"").split(/\.|\[/));function we(e,t,n){let r=-1;const i=fp(t)?[t]:tE(t),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=e[a];l=be(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}e[a]=l,e=e[a]}return e}var e2=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{};const hf=(e,t,n)=>{for(const r of n||Object.keys(e)){const i=U(e,r);if(i){const{_f:s,...o}=i;if(s&&t(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else be(o)&&hf(o,t)}}};var zg=e=>({isOnSubmit:!e||e===Gt.onSubmit,isOnBlur:e===Gt.onBlur,isOnChange:e===Gt.onChange,isOnAll:e===Gt.all,isOnTouch:e===Gt.onTouched}),bg=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),t2=(e,t,n)=>{const r=Go(U(e,n));return we(r,"root",t[n]),we(e,n,r),e},dp=e=>e.type==="file",qn=e=>typeof e=="function",Ll=e=>{if(!hp)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ja=e=>un(e),pp=e=>e.type==="radio",Ol=e=>e instanceof RegExp;const Hg={value:!1,isValid:!1},qg={value:!0,isValid:!0};var nE=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Fe(e[0].attributes.value)?Fe(e[0].value)||e[0].value===""?qg:{value:e[0].value,isValid:!0}:qg:Hg}return Hg};const Wg={isValid:!1,value:null};var rE=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Wg):Wg;function Kg(e,t,n="validate"){if(ja(e)||Array.isArray(e)&&e.every(ja)||Ar(e)&&!e)return{type:n,message:ja(e)?e:"",ref:t}}var Xr=e=>be(e)&&!Ol(e)?e:{value:e,message:""},Qg=async(e,t,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:h,pattern:f,validate:m,name:v,valueAsNumber:_,mount:E,disabled:p}=e._f,d=U(t,v);if(!E||p)return{};const g=o?o[0]:s,w=K=>{r&&g.reportValidity&&(g.setCustomValidity(Ar(K)?"":K||""),g.reportValidity())},I={},V=pp(s),D=Qo(s),L=V||D,J=(_||dp(s))&&Fe(s.value)&&Fe(d)||Ll(s)&&s.value===""||d===""||Array.isArray(d)&&!d.length,z=e2.bind(null,v,n,I),ue=(K,W,ee,ye=yn.maxLength,le=yn.minLength)=>{const ve=K?W:ee;I[v]={type:K?ye:le,message:ve,ref:s,...z(K?ye:le,ve)}};if(i?!Array.isArray(d)||!d.length:a&&(!L&&(J||mt(d))||Ar(d)&&!d||D&&!nE(o).isValid||V&&!rE(o).isValid)){const{value:K,message:W}=ja(a)?{value:!!a,message:a}:Xr(a);if(K&&(I[v]={type:yn.required,message:W,ref:g,...z(yn.required,W)},!n))return w(W),I}if(!J&&(!mt(c)||!mt(h))){let K,W;const ee=Xr(h),ye=Xr(c);if(!mt(d)&&!isNaN(d)){const le=s.valueAsNumber||d&&+d;mt(ee.value)||(K=le>ee.value),mt(ye.value)||(W=le<ye.value)}else{const le=s.valueAsDate||new Date(d),ve=Y=>new Date(new Date().toDateString()+" "+Y),N=s.type=="time",b=s.type=="week";un(ee.value)&&d&&(K=N?ve(d)>ve(ee.value):b?d>ee.value:le>new Date(ee.value)),un(ye.value)&&d&&(W=N?ve(d)<ve(ye.value):b?d<ye.value:le<new Date(ye.value))}if((K||W)&&(ue(!!K,ee.message,ye.message,yn.max,yn.min),!n))return w(I[v].message),I}if((l||u)&&!J&&(un(d)||i&&Array.isArray(d))){const K=Xr(l),W=Xr(u),ee=!mt(K.value)&&d.length>+K.value,ye=!mt(W.value)&&d.length<+W.value;if((ee||ye)&&(ue(ee,K.message,W.message),!n))return w(I[v].message),I}if(f&&!J&&un(d)){const{value:K,message:W}=Xr(f);if(Ol(K)&&!d.match(K)&&(I[v]={type:yn.pattern,message:W,ref:s,...z(yn.pattern,W)},!n))return w(W),I}if(m){if(qn(m)){const K=await m(d,t),W=Kg(K,g);if(W&&(I[v]={...W,...z(yn.validate,W.message)},!n))return w(W.message),I}else if(be(m)){let K={};for(const W in m){if(!Lt(K)&&!n)break;const ee=Kg(await m[W](d,t),g,W);ee&&(K={...ee,...z(W,ee.message)},w(ee.message),n&&(I[v]=K))}if(!Lt(K)&&(I[v]={ref:g,...K},!n))return I}}return w(!0),I};function n2(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Fe(e)?r++:e[t[r++]];return e}function r2(e){for(const t in e)if(e.hasOwnProperty(t)&&!Fe(e[t]))return!1;return!0}function Ge(e,t){const n=Array.isArray(t)?t:fp(t)?[t]:tE(t),r=n.length===1?e:n2(e,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(be(r)&&Lt(r)||Array.isArray(r)&&r2(r))&&Ge(e,n.slice(0,-1)),e}function Nc(){let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}}var Ml=e=>mt(e)||!eE(e);function Rr(e,t){if(Ml(e)||Ml(t))return e===t;if(gi(e)&&gi(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const s=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if(gi(s)&&gi(o)||be(s)&&be(o)||Array.isArray(s)&&Array.isArray(o)?!Rr(s,o):s!==o)return!1}}return!0}var iE=e=>e.type==="select-multiple",i2=e=>pp(e)||Qo(e),Dc=e=>Ll(e)&&e.isConnected,sE=e=>{for(const t in e)if(qn(e[t]))return!0;return!1};function Fl(e,t={}){const n=Array.isArray(e);if(be(e)||n)for(const r in e)Array.isArray(e[r])||be(e[r])&&!sE(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Fl(e[r],t[r])):mt(e[r])||(t[r]=!0);return t}function oE(e,t,n){const r=Array.isArray(e);if(be(e)||r)for(const i in e)Array.isArray(e[i])||be(e[i])&&!sE(e[i])?Fe(t)||Ml(n[i])?n[i]=Array.isArray(e[i])?Fl(e[i],[]):{...Fl(e[i])}:oE(e[i],mt(t)?{}:t[i],n[i]):n[i]=!Rr(e[i],t[i]);return n}var Lc=(e,t)=>oE(e,t,Fl(t)),aE=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Fe(e)?e:t?e===""?NaN:e&&+e:n&&un(e)?new Date(e):r?r(e):e;function Oc(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return dp(t)?t.files:pp(t)?rE(e.refs).value:iE(t)?[...t.selectedOptions].map(({value:n})=>n):Qo(t)?nE(e.refs).value:aE(Fe(t.value)?e.ref.value:t.value,e)}var s2=(e,t,n,r)=>{const i={};for(const s of e){const o=U(t,s);o&&we(i,s,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},gs=e=>Fe(e)?e:Ol(e)?e.source:be(e)?Ol(e.value)?e.value.source:e.value:e,o2=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Gg(e,t,n){const r=U(e,n);if(r||fp(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=U(t,s),a=U(e,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var a2=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,l2=(e,t)=>!Go(U(e,t)).length&&Ge(e,t);const u2={mode:Gt.onSubmit,reValidateMode:Gt.onChange,shouldFocusError:!0};function c2(e={},t){let n={...u2,...e},r={submitCount:0,isDirty:!1,isLoading:qn(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=be(n.defaultValues)||be(n.values)?vn(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:vn(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Nc(),array:Nc(),state:Nc()},m=e.resetOptions&&e.resetOptions.keepDirtyValues,v=zg(n.mode),_=zg(n.reValidateMode),E=n.criteriaMode===Gt.all,p=y=>T=>{clearTimeout(c),c=setTimeout(y,T)},d=async y=>{if(h.isValid||y){const T=n.resolver?Lt((await J()).errors):await ue(i,!0);T!==r.isValid&&f.state.next({isValid:T})}},g=y=>h.isValidating&&f.state.next({isValidating:y}),w=(y,T=[],C,j,M=!0,x=!0)=>{if(j&&C){if(a.action=!0,x&&Array.isArray(U(i,y))){const H=C(U(i,y),j.argA,j.argB);M&&we(i,y,H)}if(x&&Array.isArray(U(r.errors,y))){const H=C(U(r.errors,y),j.argA,j.argB);M&&we(r.errors,y,H),l2(r.errors,y)}if(h.touchedFields&&x&&Array.isArray(U(r.touchedFields,y))){const H=C(U(r.touchedFields,y),j.argA,j.argB);M&&we(r.touchedFields,y,H)}h.dirtyFields&&(r.dirtyFields=Lc(s,o)),f.state.next({name:y,isDirty:W(y,T),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else we(o,y,T)},I=(y,T)=>{we(r.errors,y,T),f.state.next({errors:r.errors})},V=(y,T,C,j)=>{const M=U(i,y);if(M){const x=U(o,y,Fe(C)?U(s,y):C);Fe(x)||j&&j.defaultChecked||T?we(o,y,T?x:Oc(M._f)):le(y,x),a.mount&&d()}},D=(y,T,C,j,M)=>{let x=!1,H=!1;const Pe={name:y};if(!C||j){h.isDirty&&(H=r.isDirty,r.isDirty=Pe.isDirty=W(),x=H!==Pe.isDirty);const Ne=Rr(U(s,y),T);H=U(r.dirtyFields,y),Ne?Ge(r.dirtyFields,y):we(r.dirtyFields,y,!0),Pe.dirtyFields=r.dirtyFields,x=x||h.dirtyFields&&H!==!Ne}if(C){const Ne=U(r.touchedFields,y);Ne||(we(r.touchedFields,y,C),Pe.touchedFields=r.touchedFields,x=x||h.touchedFields&&Ne!==C)}return x&&M&&f.state.next(Pe),x?Pe:{}},L=(y,T,C,j)=>{const M=U(r.errors,y),x=h.isValid&&Ar(T)&&r.isValid!==T;if(e.delayError&&C?(u=p(()=>I(y,C)),u(e.delayError)):(clearTimeout(c),u=null,C?we(r.errors,y,C):Ge(r.errors,y)),(C?!Rr(M,C):M)||!Lt(j)||x){const H={...j,...x&&Ar(T)?{isValid:T}:{},errors:r.errors,name:y};r={...r,...H},f.state.next(H)}g(!1)},J=async y=>n.resolver(o,n.context,s2(y||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),z=async y=>{const{errors:T}=await J(y);if(y)for(const C of y){const j=U(T,C);j?we(r.errors,C,j):Ge(r.errors,C)}else r.errors=T;return T},ue=async(y,T,C={valid:!0})=>{for(const j in y){const M=y[j];if(M){const{_f:x,...H}=M;if(x){const Pe=l.array.has(x.name),Ne=await Qg(M,o,E,n.shouldUseNativeValidation&&!T,Pe);if(Ne[x.name]&&(C.valid=!1,T))break;!T&&(U(Ne,x.name)?Pe?t2(r.errors,Ne,x.name):we(r.errors,x.name,Ne[x.name]):Ge(r.errors,x.name))}H&&await ue(H,T,C)}}return C.valid},K=()=>{for(const y of l.unMount){const T=U(i,y);T&&(T._f.refs?T._f.refs.every(C=>!Dc(C)):!Dc(T._f.ref))&&Ht(y)}l.unMount=new Set},W=(y,T)=>(y&&T&&we(o,y,T),!Rr(_e(),s)),ee=(y,T,C)=>Zk(y,l,{...a.mount?o:Fe(T)?s:un(y)?{[y]:T}:T},C,T),ye=y=>Go(U(a.mount?o:s,y,e.shouldUnregister?U(s,y,[]):[])),le=(y,T,C={})=>{const j=U(i,y);let M=T;if(j){const x=j._f;x&&(!x.disabled&&we(o,y,aE(T,x)),M=Ll(x.ref)&&mt(T)?"":T,iE(x.ref)?[...x.ref.options].forEach(H=>H.selected=M.includes(H.value)):x.refs?Qo(x.ref)?x.refs.length>1?x.refs.forEach(H=>(!H.defaultChecked||!H.disabled)&&(H.checked=Array.isArray(M)?!!M.find(Pe=>Pe===H.value):M===H.value)):x.refs[0]&&(x.refs[0].checked=!!M):x.refs.forEach(H=>H.checked=H.value===M):dp(x.ref)?x.ref.value="":(x.ref.value=M,x.ref.type||f.values.next({name:y,values:{...o}})))}(C.shouldDirty||C.shouldTouch)&&D(y,M,C.shouldTouch,C.shouldDirty,!0),C.shouldValidate&&Y(y)},ve=(y,T,C)=>{for(const j in T){const M=T[j],x=`${y}.${j}`,H=U(i,x);(l.array.has(y)||!Ml(M)||H&&!H._f)&&!gi(M)?ve(x,M,C):le(x,M,C)}},N=(y,T,C={})=>{const j=U(i,y),M=l.array.has(y),x=vn(T);we(o,y,x),M?(f.array.next({name:y,values:{...o}}),(h.isDirty||h.dirtyFields)&&C.shouldDirty&&f.state.next({name:y,dirtyFields:Lc(s,o),isDirty:W(y,x)})):j&&!j._f&&!mt(x)?ve(y,x,C):le(y,x,C),bg(y,l)&&f.state.next({...r}),f.values.next({name:y,values:{...o}}),!a.mount&&t()},b=async y=>{const T=y.target;let C=T.name,j=!0;const M=U(i,C),x=()=>T.type?Oc(M._f):Wk(y);if(M){let H,Pe;const Ne=x(),Qr=y.type===Bg.BLUR||y.type===Bg.FOCUS_OUT,fE=!o2(M._f)&&!n.resolver&&!U(r.errors,C)&&!M._f.deps||a2(Qr,U(r.touchedFields,C),r.isSubmitted,_,v),Mu=bg(C,l,Qr);we(o,C,Ne),Qr?(M._f.onBlur&&M._f.onBlur(y),u&&u(0)):M._f.onChange&&M._f.onChange(y);const Fu=D(C,Ne,Qr,!1),dE=!Lt(Fu)||Mu;if(!Qr&&f.values.next({name:C,type:y.type,values:{...o}}),fE)return h.isValid&&d(),dE&&f.state.next({name:C,...Mu?{}:Fu});if(!Qr&&Mu&&f.state.next({...r}),g(!0),n.resolver){const{errors:_p}=await J([C]),pE=Gg(r.errors,i,C),Ep=Gg(_p,i,pE.name||C);H=Ep.error,C=Ep.name,Pe=Lt(_p)}else H=(await Qg(M,o,E,n.shouldUseNativeValidation))[C],j=Number.isNaN(Ne)||Ne===U(o,C,Ne),j&&(H?Pe=!1:h.isValid&&(Pe=await ue(i,!0)));j&&(M._f.deps&&Y(M._f.deps),L(C,Pe,H,Fu))}},Y=async(y,T={})=>{let C,j;const M=Vc(y);if(g(!0),n.resolver){const x=await z(Fe(y)?y:M);C=Lt(x),j=y?!M.some(H=>U(x,H)):C}else y?(j=(await Promise.all(M.map(async x=>{const H=U(i,x);return await ue(H&&H._f?{[x]:H}:H)}))).every(Boolean),!(!j&&!r.isValid)&&d()):j=C=await ue(i);return f.state.next({...!un(y)||h.isValid&&C!==r.isValid?{}:{name:y},...n.resolver||!y?{isValid:C}:{},errors:r.errors,isValidating:!1}),T.shouldFocus&&!j&&hf(i,x=>x&&U(r.errors,x),y?M:l.mount),j},_e=y=>{const T={...s,...a.mount?o:{}};return Fe(y)?T:un(y)?U(T,y):y.map(C=>U(T,C))},Ve=(y,T)=>({invalid:!!U((T||r).errors,y),isDirty:!!U((T||r).dirtyFields,y),isTouched:!!U((T||r).touchedFields,y),error:U((T||r).errors,y)}),Kr=y=>{y&&Vc(y).forEach(T=>Ge(r.errors,T)),f.state.next({errors:y?r.errors:{}})},tn=(y,T,C)=>{const j=(U(i,y,{_f:{}})._f||{}).ref;we(r.errors,y,{...T,ref:j}),f.state.next({name:y,errors:r.errors,isValid:!1}),C&&C.shouldFocus&&j&&j.focus&&j.focus()},is=(y,T)=>qn(y)?f.values.subscribe({next:C=>y(ee(void 0,T),C)}):ee(y,T,!0),Ht=(y,T={})=>{for(const C of y?Vc(y):l.mount)l.mount.delete(C),l.array.delete(C),T.keepValue||(Ge(i,C),Ge(o,C)),!T.keepError&&Ge(r.errors,C),!T.keepDirty&&Ge(r.dirtyFields,C),!T.keepTouched&&Ge(r.touchedFields,C),!n.shouldUnregister&&!T.keepDefaultValue&&Ge(s,C);f.values.next({values:{...o}}),f.state.next({...r,...T.keepDirty?{isDirty:W()}:{}}),!T.keepIsValid&&d()},mr=({disabled:y,name:T,field:C,fields:j})=>{if(Ar(y)){const M=y?void 0:U(o,T,Oc(C?C._f:U(j,T)._f));we(o,T,M),D(T,M,!1,!1,!0)}},Ou=(y,T={})=>{let C=U(i,y);const j=Ar(T.disabled);return we(i,y,{...C||{},_f:{...C&&C._f?C._f:{ref:{name:y}},name:y,mount:!0,...T}}),l.mount.add(y),C?mr({field:C,disabled:T.disabled,name:y}):V(y,!0,T.value),{...j?{disabled:T.disabled}:{},...n.progressive?{required:!!T.required,min:gs(T.min),max:gs(T.max),minLength:gs(T.minLength),maxLength:gs(T.maxLength),pattern:gs(T.pattern)}:{},name:y,onChange:b,onBlur:b,ref:M=>{if(M){Ou(y,T),C=U(i,y);const x=Fe(M.value)&&M.querySelectorAll&&M.querySelectorAll("input,select,textarea")[0]||M,H=i2(x),Pe=C._f.refs||[];if(H?Pe.find(Ne=>Ne===x):x===C._f.ref)return;we(i,y,{_f:{...C._f,...H?{refs:[...Pe.filter(Dc),x,...Array.isArray(U(s,y))?[{}]:[]],ref:{type:x.type,name:y}}:{ref:x}}}),V(y,!1,void 0,x)}else C=U(i,y,{}),C._f&&(C._f.mount=!1),(n.shouldUnregister||T.shouldUnregister)&&!(Qk(l.array,y)&&a.action)&&l.unMount.add(y)}}},mp=()=>n.shouldFocusError&&hf(i,y=>y&&U(r.errors,y),l.mount),gp=(y,T)=>async C=>{C&&(C.preventDefault&&C.preventDefault(),C.persist&&C.persist());let j=vn(o);if(f.state.next({isSubmitting:!0}),n.resolver){const{errors:M,values:x}=await J();r.errors=M,j=x}else await ue(i);Ge(r.errors,"root"),Lt(r.errors)?(f.state.next({errors:{}}),await y(j,C)):(T&&await T({...r.errors},C),mp(),setTimeout(mp)),f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Lt(r.errors),submitCount:r.submitCount+1,errors:r.errors})},hE=(y,T={})=>{U(i,y)&&(Fe(T.defaultValue)?N(y,U(s,y)):(N(y,T.defaultValue),we(s,y,T.defaultValue)),T.keepTouched||Ge(r.touchedFields,y),T.keepDirty||(Ge(r.dirtyFields,y),r.isDirty=T.defaultValue?W(y,U(s,y)):W()),T.keepError||(Ge(r.errors,y),h.isValid&&d()),f.state.next({...r}))},yp=(y,T={})=>{const C=y?vn(y):s,j=vn(C),M=y&&!Lt(y)?j:s;if(T.keepDefaultValues||(s=C),!T.keepValues){if(T.keepDirtyValues||m)for(const x of l.mount)U(r.dirtyFields,x)?we(M,x,U(o,x)):N(x,U(M,x));else{if(hp&&Fe(y))for(const x of l.mount){const H=U(i,x);if(H&&H._f){const Pe=Array.isArray(H._f.refs)?H._f.refs[0]:H._f.ref;if(Ll(Pe)){const Ne=Pe.closest("form");if(Ne){Ne.reset();break}}}}i={}}o=e.shouldUnregister?T.keepDefaultValues?vn(s):{}:vn(M),f.array.next({values:{...M}}),f.values.next({values:{...M}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&t(),a.mount=!h.isValid||!!T.keepIsValid,a.watch=!!e.shouldUnregister,f.state.next({submitCount:T.keepSubmitCount?r.submitCount:0,isDirty:T.keepDirty?r.isDirty:!!(T.keepDefaultValues&&!Rr(y,s)),isSubmitted:T.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:T.keepDirtyValues?r.dirtyFields:T.keepDefaultValues&&y?Lc(s,y):{},touchedFields:T.keepTouched?r.touchedFields:{},errors:T.keepErrors?r.errors:{},isSubmitSuccessful:T.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},vp=(y,T)=>yp(qn(y)?y(o):y,T);return{control:{register:Ou,unregister:Ht,getFieldState:Ve,handleSubmit:gp,setError:tn,_executeSchema:J,_getWatch:ee,_getDirty:W,_updateValid:d,_removeUnmounted:K,_updateFieldArray:w,_updateDisabledField:mr,_getFieldArray:ye,_reset:yp,_resetDefaultValues:()=>qn(n.defaultValues)&&n.defaultValues().then(y=>{vp(y,n.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:y=>{r={...r,...y}},_subjects:f,_proxyFormState:h,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(y){a=y},get _defaultValues(){return s},get _names(){return l},set _names(y){l=y},get _formState(){return r},set _formState(y){r=y},get _options(){return n},set _options(y){n={...n,...y}}},trigger:Y,register:Ou,handleSubmit:gp,watch:is,setValue:N,getValues:_e,reset:vp,resetField:hE,clearErrors:Kr,unregister:Ht,setError:tn,setFocus:(y,T={})=>{const C=U(i,y),j=C&&C._f;if(j){const M=j.refs?j.refs[0]:j.ref;M.focus&&(M.focus(),T.shouldSelect&&M.select())}},getFieldState:Ve}}function h2(e={}){const t=re.useRef(),n=re.useRef(),[r,i]=re.useState({isDirty:!1,isValidating:!1,isLoading:qn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:qn(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...c2(e,()=>i(o=>({...o}))),formState:r});const s=t.current.control;return s._options=e,Jk({subject:s._subjects.state,next:o=>{Xk(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),re.useEffect(()=>{e.values&&!Rr(e.values,n.current)?(s._reset(e.values,s._options.resetOptions),n.current=e.values):s._resetDefaultValues()},[e.values,s]),re.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=Yk(r,s),t.current}const f2="_form_22q63_1",d2="_button_22q63_7",p2="_colors_22q63_23",Mc={form:f2,button:d2,colors:p2};function lE(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=lE(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Wn(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=lE(e))&&(r&&(r+=" "),r+=t);return r}const Hs=e=>typeof e=="number"&&!isNaN(e),jr=e=>typeof e=="string",Tt=e=>typeof e=="function",Ba=e=>jr(e)||Tt(e)?e:null,Fc=e=>S.isValidElement(e)||jr(e)||Tt(e)||Hs(e);function m2(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function Du(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(o){let{children:a,position:l,preventExitTransition:u,done:c,nodeRef:h,isIn:f}=o;const m=r?`${t}--${l}`:t,v=r?`${n}--${l}`:n,_=S.useRef(0);return S.useLayoutEffect(()=>{const E=h.current,p=m.split(" "),d=g=>{g.target===h.current&&(E.dispatchEvent(new Event("d")),E.removeEventListener("animationend",d),E.removeEventListener("animationcancel",d),_.current===0&&g.type!=="animationcancel"&&E.classList.remove(...p))};E.classList.add(...p),E.addEventListener("animationend",d),E.addEventListener("animationcancel",d)},[]),S.useEffect(()=>{const E=h.current,p=()=>{E.removeEventListener("animationend",p),i?m2(E,c,s):c()};f||(u?p():(_.current=1,E.className+=` ${v}`,E.addEventListener("animationend",p)))},[f]),re.createElement(re.Fragment,null,a)}}function Yg(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Ot={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},wa=e=>{let{theme:t,type:n,...r}=e;return re.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},$c={info:function(e){return re.createElement(wa,{...e},re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return re.createElement(wa,{...e},re.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return re.createElement(wa,{...e},re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return re.createElement(wa,{...e},re.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return re.createElement("div",{className:"Toastify__spinner"})}};function g2(e){const[,t]=S.useReducer(m=>m+1,0),[n,r]=S.useState([]),i=S.useRef(null),s=S.useRef(new Map).current,o=m=>n.indexOf(m)!==-1,a=S.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:m=>s.get(m)}).current;function l(m){let{containerId:v}=m;const{limit:_}=a.props;!_||v&&a.containerId!==v||(a.count-=a.queue.length,a.queue=[])}function u(m){r(v=>m==null?[]:v.filter(_=>_!==m))}function c(){const{toastContent:m,toastProps:v,staleId:_}=a.queue.shift();f(m,v,_)}function h(m,v){let{delay:_,staleId:E,...p}=v;if(!Fc(m)||function(K){return!i.current||a.props.enableMultiContainer&&K.containerId!==a.props.containerId||s.has(K.toastId)&&K.updateId==null}(p))return;const{toastId:d,updateId:g,data:w}=p,{props:I}=a,V=()=>u(d),D=g==null;D&&a.count++;const L={...I,style:I.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(p).filter(K=>{let[W,ee]=K;return ee!=null})),toastId:d,updateId:g,data:w,closeToast:V,isIn:!1,className:Ba(p.className||I.toastClassName),bodyClassName:Ba(p.bodyClassName||I.bodyClassName),progressClassName:Ba(p.progressClassName||I.progressClassName),autoClose:!p.isLoading&&(J=p.autoClose,z=I.autoClose,J===!1||Hs(J)&&J>0?J:z),deleteToast(){const K=Yg(s.get(d),"removed");s.delete(d),Ot.emit(4,K);const W=a.queue.length;if(a.count=d==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),W>0){const ee=d==null?a.props.limit:1;if(W===1||ee===1)a.displayedToast++,c();else{const ye=ee>W?W:ee;a.displayedToast=ye;for(let le=0;le<ye;le++)c()}}else t()}};var J,z;L.iconOut=function(K){let{theme:W,type:ee,isLoading:ye,icon:le}=K,ve=null;const N={theme:W,type:ee};return le===!1||(Tt(le)?ve=le(N):S.isValidElement(le)?ve=S.cloneElement(le,N):jr(le)||Hs(le)?ve=le:ye?ve=$c.spinner():(b=>b in $c)(ee)&&(ve=$c[ee](N))),ve}(L),Tt(p.onOpen)&&(L.onOpen=p.onOpen),Tt(p.onClose)&&(L.onClose=p.onClose),L.closeButton=I.closeButton,p.closeButton===!1||Fc(p.closeButton)?L.closeButton=p.closeButton:p.closeButton===!0&&(L.closeButton=!Fc(I.closeButton)||I.closeButton);let ue=m;S.isValidElement(m)&&!jr(m.type)?ue=S.cloneElement(m,{closeToast:V,toastProps:L,data:w}):Tt(m)&&(ue=m({closeToast:V,toastProps:L,data:w})),I.limit&&I.limit>0&&a.count>I.limit&&D?a.queue.push({toastContent:ue,toastProps:L,staleId:E}):Hs(_)?setTimeout(()=>{f(ue,L,E)},_):f(ue,L,E)}function f(m,v,_){const{toastId:E}=v;_&&s.delete(_);const p={content:m,props:v};s.set(E,p),r(d=>[...d,E].filter(g=>g!==_)),Ot.emit(4,Yg(p,p.props.updateId==null?"added":"updated"))}return S.useEffect(()=>(a.containerId=e.containerId,Ot.cancelEmit(3).on(0,h).on(1,m=>i.current&&u(m)).on(5,l).emit(2,a),()=>{s.clear(),Ot.emit(3,a)}),[]),S.useEffect(()=>{a.props=e,a.isToastActive=o,a.displayedToast=n.length}),{getToastToRender:function(m){const v=new Map,_=Array.from(s.values());return e.newestOnTop&&_.reverse(),_.forEach(E=>{const{position:p}=E.props;v.has(p)||v.set(p,[]),v.get(p).push(E)}),Array.from(v,E=>m(E[0],E[1]))},containerRef:i,isToastActive:o}}function Xg(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Jg(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function y2(e){const[t,n]=S.useState(!1),[r,i]=S.useState(!1),s=S.useRef(null),o=S.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=S.useRef(e),{autoClose:l,pauseOnHover:u,closeToast:c,onClick:h,closeOnClick:f}=e;function m(w){if(e.draggable){w.nativeEvent.type==="touchstart"&&w.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",p),document.addEventListener("mouseup",d),document.addEventListener("touchmove",p),document.addEventListener("touchend",d);const I=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=I.getBoundingClientRect(),I.style.transition="",o.x=Xg(w.nativeEvent),o.y=Jg(w.nativeEvent),e.draggableDirection==="x"?(o.start=o.x,o.removalDistance=I.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=I.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function v(w){if(o.boundingRect){const{top:I,bottom:V,left:D,right:L}=o.boundingRect;w.nativeEvent.type!=="touchend"&&e.pauseOnHover&&o.x>=D&&o.x<=L&&o.y>=I&&o.y<=V?E():_()}}function _(){n(!0)}function E(){n(!1)}function p(w){const I=s.current;o.canDrag&&I&&(o.didMove=!0,t&&E(),o.x=Xg(w),o.y=Jg(w),o.delta=e.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),I.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,I.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function d(){document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",d),document.removeEventListener("touchmove",p),document.removeEventListener("touchend",d);const w=s.current;if(o.canDrag&&o.didMove&&w){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void e.closeToast();w.style.transition="transform 0.2s, opacity 0.2s",w.style.transform=`translate${e.draggableDirection}(0)`,w.style.opacity="1"}}S.useEffect(()=>{a.current=e}),S.useEffect(()=>(s.current&&s.current.addEventListener("d",_,{once:!0}),Tt(e.onOpen)&&e.onOpen(S.isValidElement(e.children)&&e.children.props),()=>{const w=a.current;Tt(w.onClose)&&w.onClose(S.isValidElement(w.children)&&w.children.props)}),[]),S.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||E(),window.addEventListener("focus",_),window.addEventListener("blur",E)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",_),window.removeEventListener("blur",E))}),[e.pauseOnFocusLoss]);const g={onMouseDown:m,onTouchStart:m,onMouseUp:v,onTouchEnd:v};return l&&u&&(g.onMouseEnter=E,g.onMouseLeave=_),f&&(g.onClick=w=>{h&&h(w),o.canCloseOnClick&&c()}),{playToast:_,pauseToast:E,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:g}}function uE(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return re.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},re.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},re.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function v2(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:u,rtl:c,isIn:h,theme:f}=e;const m=s||l&&u===0,v={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:m?0:1};l&&(v.transform=`scaleX(${u})`);const _=Wn("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),E=Tt(o)?o({rtl:c,type:i,defaultClassName:_}):Wn(_,o);return re.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:E,style:v,[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{h&&r()}})}const _2=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=y2(e),{closeButton:s,children:o,autoClose:a,onClick:l,type:u,hideProgressBar:c,closeToast:h,transition:f,position:m,className:v,style:_,bodyClassName:E,bodyStyle:p,progressClassName:d,progressStyle:g,updateId:w,role:I,progress:V,rtl:D,toastId:L,deleteToast:J,isIn:z,isLoading:ue,iconOut:K,closeOnClick:W,theme:ee}=e,ye=Wn("Toastify__toast",`Toastify__toast-theme--${ee}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":D},{"Toastify__toast--close-on-click":W}),le=Tt(v)?v({rtl:D,position:m,type:u,defaultClassName:ye}):Wn(ye,v),ve=!!V||!a,N={closeToast:h,type:u,theme:ee};let b=null;return s===!1||(b=Tt(s)?s(N):S.isValidElement(s)?S.cloneElement(s,N):uE(N)),re.createElement(f,{isIn:z,done:J,position:m,preventExitTransition:n,nodeRef:r},re.createElement("div",{id:L,onClick:l,className:le,...i,style:_,ref:r},re.createElement("div",{...z&&{role:I},className:Tt(E)?E({type:u}):Wn("Toastify__toast-body",E),style:p},K!=null&&re.createElement("div",{className:Wn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!ue})},K),re.createElement("div",null,o)),b,re.createElement(v2,{...w&&!ve?{key:`pb-${w}`}:{},rtl:D,theme:ee,delay:a,isRunning:t,isIn:z,closeToast:h,hide:c,type:u,style:g,className:d,controlledProgress:ve,progress:V||0})))},Lu=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},E2=Du(Lu("bounce",!0));Du(Lu("slide",!0));Du(Lu("zoom"));Du(Lu("flip"));const ff=S.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=g2(e),{className:s,style:o,rtl:a,containerId:l}=e;function u(c){const h=Wn("Toastify__toast-container",`Toastify__toast-container--${c}`,{"Toastify__toast-container--rtl":a});return Tt(s)?s({position:c,rtl:a,defaultClassName:h}):Wn(h,Ba(s))}return S.useEffect(()=>{t&&(t.current=r.current)},[]),re.createElement("div",{ref:r,className:"Toastify",id:l},n((c,h)=>{const f=h.length?{...o}:{...o,pointerEvents:"none"};return re.createElement("div",{className:u(c),style:f,key:`container-${c}`},h.map((m,v)=>{let{content:_,props:E}=m;return re.createElement(_2,{...E,isIn:i(E.toastId),style:{...E.style,"--nth":v+1,"--len":h.length},key:`toast-${E.key}`},_)}))}))});ff.displayName="ToastContainer",ff.defaultProps={position:"top-right",transition:E2,autoClose:5e3,closeButton:uE,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Uc,_r=new Map,Ps=[],w2=1;function cE(){return""+w2++}function T2(e){return e&&(jr(e.toastId)||Hs(e.toastId))?e.toastId:cE()}function qs(e,t){return _r.size>0?Ot.emit(0,e,t):Ps.push({content:e,options:t}),t.toastId}function $l(e,t){return{...t,type:t&&t.type||e,toastId:T2(t)}}function Ta(e){return(t,n)=>qs(t,$l(e,n))}function Ee(e,t){return qs(e,$l("default",t))}Ee.loading=(e,t)=>qs(e,$l("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Ee.promise=function(e,t,n){let r,{pending:i,error:s,success:o}=t;i&&(r=jr(i)?Ee.loading(i,n):Ee.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(c,h,f)=>{if(h==null)return void Ee.dismiss(r);const m={type:c,...a,...n,data:f},v=jr(h)?{render:h}:h;return r?Ee.update(r,{...m,...v}):Ee(v.render,{...m,...v}),f},u=Tt(e)?e():e;return u.then(c=>l("success",o,c)).catch(c=>l("error",s,c)),u},Ee.success=Ta("success"),Ee.info=Ta("info"),Ee.error=Ta("error"),Ee.warning=Ta("warning"),Ee.warn=Ee.warning,Ee.dark=(e,t)=>qs(e,$l("default",{theme:"dark",...t})),Ee.dismiss=e=>{_r.size>0?Ot.emit(1,e):Ps=Ps.filter(t=>e!=null&&t.options.toastId!==e)},Ee.clearWaitingQueue=function(e){return e===void 0&&(e={}),Ot.emit(5,e)},Ee.isActive=e=>{let t=!1;return _r.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},Ee.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const o=_r.get(s||Uc);return o&&o.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:cE()};s.toastId!==e&&(s.staleId=e);const o=s.render||i;delete s.render,qs(o,s)}},0)},Ee.done=e=>{Ee.update(e,{progress:1})},Ee.onChange=e=>(Ot.on(4,e),()=>{Ot.off(4,e)}),Ee.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Ee.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Ot.on(2,e=>{Uc=e.containerId||e,_r.set(Uc,e),Ps.forEach(t=>{Ot.emit(0,t.content,t.options)}),Ps=[]}).on(3,e=>{_r.delete(e.containerId||e),_r.size===0&&Ot.off(0).off(1).off(5)});const I2=({plant:e})=>{const{addItemToShoppingCart:t}=S.useContext(Ro),{register:n,reset:r,formState:{errors:i,isSubmitSuccessful:s},handleSubmit:o}=h2();S.useEffect(()=>{r()},[s]);const a=u=>{const c={variantId:Number(u.variantId),plantId:e.id,quantity:1};t(c),Ee.success("Your item has been added to the shopping cart!")};let l=0;return e.variants.map(u=>{l+=u.quantity}),k.jsx("form",{className:Mc.form,onSubmit:o(a),children:k.jsxs("div",{children:[k.jsx("h2",{className:Mc.colors,children:"Colors:"}),e.variants.map((u,c)=>k.jsxs("div",{children:[k.jsx("input",{disabled:u.quantity===0,required:!0,type:"radio",id:"colors",value:u.id,...n("variantId")}),k.jsxs("label",{htmlFor:"colors",children:[" ",u.color," ",u.quantity===0&&k.jsx("span",{children:"(Out of stock)"})]}),i.username&&k.jsx("p",{children:i.username.message})]},c)),k.jsx("button",{className:Mc.button,disabled:l===0,children:"Add to cart"})]})})},S2="_container_y0o70_1",C2="_card_y0o70_9",A2="_image_y0o70_25",R2="_title_y0o70_37",P2="_price_y0o70_42",Jr={container:S2,card:C2,"image-wrapper":"_image-wrapper_y0o70_25",image:A2,title:R2,price:P2},k2=()=>{const{id:e}=gI(),[t,n]=S.useState(null),[r,i]=S.useState(null);S.useEffect(()=>{Vk(e).then(o=>n(o)).catch(o=>i(o))},[e]);const s=Jr["image-wrapper"];return k.jsxs("main",{className:Jr.container,children:[t&&k.jsxs("div",{className:Jr.card,children:[k.jsxs("div",{children:[k.jsx("h1",{className:Jr.title,children:t.name}),k.jsx("div",{className:s,children:k.jsx("img",{className:Jr.image,src:t.imageLink,alt:t.name})}),k.jsxs("p",{className:Jr.price,children:["Price: $",t.price]})]}),k.jsx(I2,{plant:t})]}),r&&k.jsxs("p",{children:["Could not find plant with Id: ",e]})]})},x2="_text_f9qv9_1",Zg={text:x2,"quantity-buttons":"_quantity-buttons_f9qv9_5"},V2=({itemIndex:e,cartQuantity:t,stockQuantity:n})=>{const{updateQuantityInShoppingCart:r}=S.useContext(Ro),i=()=>{r(e,t+1)},s=()=>{t===1&&window.confirm("Are you sure you want to delete this plant from your shopping cart?")===!1||r(e,t-1)};let o=Zg["quantity-buttons"];return k.jsxs("div",{children:[k.jsxs("h3",{className:Zg.text,children:["Quantity: ",t]}),k.jsx("button",{className:o,onClick:i,disabled:n===t,children:"+"}),k.jsx("button",{className:o,onClick:s,children:"-"}),n===t&&k.jsx("p",{children:"Sorry! the quantity desired is out of stock, more plants will be available soon! Thank you."})]})},N2="_card_hn334_1",D2="_info_hn334_12",L2="_image_hn334_22",O2="_subtotal_hn334_30",M2="_color_hn334_36",ys={card:N2,info:D2,image:L2,subtotal:O2,color:M2},F2=({plant:e,itemIndex:t,cartQuantity:n,variantId:r,subTotal:i})=>{const s=e.variants.find(o=>o.id===r);return k.jsxs("article",{className:ys.card,children:[k.jsx("img",{className:ys.image,src:e.imageLink,alt:e.name}),k.jsxs("div",{className:ys.info,children:[k.jsx("h2",{children:e.name}),k.jsxs("h3",{className:ys.color,children:["Colour: ",s.color]}),k.jsxs("p",{children:["Price: $",e.price]}),k.jsx(V2,{itemIndex:t,cartQuantity:n,stockQuantity:s.quantity}),k.jsxs("p",{className:ys.subtotal,children:["Subtotal: $",i]})]})]})},$2="_container_onz6v_1",U2="_title_onz6v_9",j2="_total_onz6v_18",B2="_button_onz6v_32",z2="_message_onz6v_48",Zr={container:$2,title:U2,total:j2,"payment-area":"_payment-area_onz6v_26",button:B2,message:z2},b2=()=>{const{shoppingCart:e,processPayment:t}=S.useContext(Ro),{plants:n}=S.useContext(Ro),r=e.items,[i,s]=S.useState(!1);let o=0,a=Zr["payment-area"];return k.jsxs("div",{children:[k.jsx("h2",{className:Zr.title,children:"Your Shopping Cart"}),k.jsx("div",{className:Zr.container,children:r.map((l,u)=>{const c=l.plantId,h=n.find(m=>m.id===c),f=h.price*l.quantity;return o+=f,k.jsx(F2,{itemIndex:u,cartQuantity:l.quantity,variantId:l.variantId,plant:h,subTotal:f},u)})}),k.jsxs("div",{className:a,children:[k.jsxs("p",{className:Zr.total,children:["Total: $",o]}),r.length>0&&k.jsx("button",{onClick:()=>{t(),s(!0)},className:Zr.button,children:"Pay"})]}),i&&k.jsxs("div",{className:Zr.message,children:[k.jsx("p",{children:"Thank you for your purchase. "}),k.jsx(nu,{to:"/e-Shop/plants",children:"Return Home"})]})]})},H2="_nav_13b4k_1",q2="_link_13b4k_16",W2="_active_link_13b4k_23",Ia={nav:H2,link:q2,active_link:W2},K2=()=>{const e=({isActive:t})=>t?`${Ia.link} ${Ia.active_link}`:Ia.link;return k.jsxs("nav",{className:Ia.nav,children:[k.jsx(Om,{className:e,to:"/e-Shop/plants",children:"Plants"}),k.jsx(Om,{className:e,to:"/e-Shop/shoppingCart",children:"My Cart"})]})};function Q2(){return k.jsx(k.Fragment,{children:k.jsxs(qk,{children:[k.jsxs(FI,{children:[k.jsx("header",{children:k.jsx(K2,{})}),k.jsxs(VI,{children:[k.jsx(Ts,{path:"/e-Shop",element:k.jsx(kI,{to:"/e-Shop/plants",replace:!0})}),k.jsx(Ts,{path:"/e-Shop/plants",element:k.jsx(bk,{})}),k.jsx(Ts,{path:"/e-Shop/plants/:id",element:k.jsx(k2,{})}),k.jsx(Ts,{path:"/e-Shop/shoppingCart",element:k.jsx(b2,{})})]})]}),k.jsx(ff,{})]})})}jc.createRoot(document.getElementById("root")).render(k.jsx(re.StrictMode,{children:k.jsx(Q2,{})}));
